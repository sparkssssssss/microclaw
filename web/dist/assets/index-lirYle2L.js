var IT=Object.defineProperty;var wy=e=>{throw TypeError(e)};var PT=(e,t,n)=>t in e?IT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var P=(e,t,n)=>PT(e,typeof t!="symbol"?t+"":t,n),by=(e,t,n)=>t.has(e)||wy("Cannot "+n);var Ai=(e,t,n)=>(by(e,t,"read from private field"),n?n.call(e):t.get(e)),ji=(e,t,n)=>t.has(e)?wy("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Mi=(e,t,n,r)=>(by(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);function AT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dw={exports:{}},fu={},Fw={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qa=Symbol.for("react.element"),jT=Symbol.for("react.portal"),MT=Symbol.for("react.fragment"),OT=Symbol.for("react.strict_mode"),LT=Symbol.for("react.profiler"),DT=Symbol.for("react.provider"),FT=Symbol.for("react.context"),BT=Symbol.for("react.forward_ref"),zT=Symbol.for("react.suspense"),$T=Symbol.for("react.memo"),UT=Symbol.for("react.lazy"),_y=Symbol.iterator;function HT(e){return e===null||typeof e!="object"?null:(e=_y&&e[_y]||e["@@iterator"],typeof e=="function"?e:null)}var Bw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zw=Object.assign,$w={};function pi(e,t,n){this.props=e,this.context=t,this.refs=$w,this.updater=n||Bw}pi.prototype.isReactComponent={};pi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};pi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Uw(){}Uw.prototype=pi.prototype;function Xh(e,t,n){this.props=e,this.context=t,this.refs=$w,this.updater=n||Bw}var Qh=Xh.prototype=new Uw;Qh.constructor=Xh;zw(Qh,pi.prototype);Qh.isPureReactComponent=!0;var Sy=Array.isArray,Hw=Object.prototype.hasOwnProperty,Jh={current:null},Vw={key:!0,ref:!0,__self:!0,__source:!0};function Ww(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Hw.call(t,r)&&!Vw.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:qa,type:e,key:o,ref:i,props:s,_owner:Jh.current}}function VT(e,t){return{$$typeof:qa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zh(e){return typeof e=="object"&&e!==null&&e.$$typeof===qa}function WT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Cy=/\/+/g;function pd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?WT(""+e.key):t.toString(36)}function Xl(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case qa:case jT:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+pd(i,0):r,Sy(s)?(n="",e!=null&&(n=e.replace(Cy,"$&/")+"/"),Xl(s,t,n,"",function(u){return u})):s!=null&&(Zh(s)&&(s=VT(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Cy,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",Sy(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+pd(o,a);i+=Xl(o,t,n,l,s)}else if(l=HT(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+pd(o,a++),i+=Xl(o,t,n,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function pl(e,t,n){if(e==null)return e;var r=[],s=0;return Xl(e,r,"","",function(o){return t.call(n,o,s++)}),r}function KT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jt={current:null},Ql={transition:null},qT={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:Ql,ReactCurrentOwner:Jh};function Kw(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:pl,forEach:function(e,t,n){pl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pl(e,function(){t++}),t},toArray:function(e){return pl(e,function(t){return t})||[]},only:function(e){if(!Zh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pe.Component=pi;pe.Fragment=MT;pe.Profiler=LT;pe.PureComponent=Xh;pe.StrictMode=OT;pe.Suspense=zT;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qT;pe.act=Kw;pe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=zw({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Jh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Hw.call(t,l)&&!Vw.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:qa,type:e.type,key:s,ref:o,props:r,_owner:i}};pe.createContext=function(e){return e={$$typeof:FT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:DT,_context:e},e.Consumer=e};pe.createElement=Ww;pe.createFactory=function(e){var t=Ww.bind(null,e);return t.type=e,t};pe.createRef=function(){return{current:null}};pe.forwardRef=function(e){return{$$typeof:BT,render:e}};pe.isValidElement=Zh;pe.lazy=function(e){return{$$typeof:UT,_payload:{_status:-1,_result:e},_init:KT}};pe.memo=function(e,t){return{$$typeof:$T,type:e,compare:t===void 0?null:t}};pe.startTransition=function(e){var t=Ql.transition;Ql.transition={};try{e()}finally{Ql.transition=t}};pe.unstable_act=Kw;pe.useCallback=function(e,t){return jt.current.useCallback(e,t)};pe.useContext=function(e){return jt.current.useContext(e)};pe.useDebugValue=function(){};pe.useDeferredValue=function(e){return jt.current.useDeferredValue(e)};pe.useEffect=function(e,t){return jt.current.useEffect(e,t)};pe.useId=function(){return jt.current.useId()};pe.useImperativeHandle=function(e,t,n){return jt.current.useImperativeHandle(e,t,n)};pe.useInsertionEffect=function(e,t){return jt.current.useInsertionEffect(e,t)};pe.useLayoutEffect=function(e,t){return jt.current.useLayoutEffect(e,t)};pe.useMemo=function(e,t){return jt.current.useMemo(e,t)};pe.useReducer=function(e,t,n){return jt.current.useReducer(e,t,n)};pe.useRef=function(e){return jt.current.useRef(e)};pe.useState=function(e){return jt.current.useState(e)};pe.useSyncExternalStore=function(e,t,n){return jt.current.useSyncExternalStore(e,t,n)};pe.useTransition=function(){return jt.current.useTransition()};pe.version="18.3.1";Fw.exports=pe;var f=Fw.exports;const Se=hi(f),ep=AT({__proto__:null,default:Se},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT=f,YT=Symbol.for("react.element"),XT=Symbol.for("react.fragment"),QT=Object.prototype.hasOwnProperty,JT=GT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZT={key:!0,ref:!0,__self:!0,__source:!0};function qw(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)QT.call(t,r)&&!ZT.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:YT,type:e,key:o,ref:i,props:s,_owner:JT.current}}fu.Fragment=XT;fu.jsx=qw;fu.jsxs=qw;Dw.exports=fu;var c=Dw.exports,Gw={exports:{}},an={},Yw={exports:{}},Xw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,$){var S=j.length;j.push($);e:for(;0<S;){var oe=S-1>>>1,me=j[oe];if(0<s(me,$))j[oe]=$,j[S]=me,S=oe;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var $=j[0],S=j.pop();if(S!==$){j[0]=S;e:for(var oe=0,me=j.length,T=me>>>1;oe<T;){var Pe=2*(oe+1)-1,Xe=j[Pe],be=Pe+1,J=j[be];if(0>s(Xe,S))be<me&&0>s(J,Xe)?(j[oe]=J,j[be]=S,oe=be):(j[oe]=Xe,j[Pe]=S,oe=Pe);else if(be<me&&0>s(J,S))j[oe]=J,j[be]=S,oe=be;else break e}}return $}function s(j,$){var S=j.sortIndex-$.sortIndex;return S!==0?S:j.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],u=[],d=1,h=null,p=3,m=!1,w=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(j){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=j)r(u),$.sortIndex=$.expirationTime,t(l,$);else break;$=n(u)}}function C(j){if(y=!1,x(j),!w)if(n(l)!==null)w=!0,K(R);else{var $=n(u);$!==null&&Q(C,$.startTime-j)}}function R(j,$){w=!1,y&&(y=!1,g(I),I=-1),m=!0;var S=p;try{for(x($),h=n(l);h!==null&&(!(h.expirationTime>$)||j&&!L());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,p=h.priorityLevel;var me=oe(h.expirationTime<=$);$=e.unstable_now(),typeof me=="function"?h.callback=me:h===n(l)&&r(l),x($)}else r(l);h=n(l)}if(h!==null)var T=!0;else{var Pe=n(u);Pe!==null&&Q(C,Pe.startTime-$),T=!1}return T}finally{h=null,p=S,m=!1}}var k=!1,N=null,I=-1,M=5,A=-1;function L(){return!(e.unstable_now()-A<M)}function E(){if(N!==null){var j=e.unstable_now();A=j;var $=!0;try{$=N(!0,j)}finally{$?W():(k=!1,N=null)}}else k=!1}var W;if(typeof v=="function")W=function(){v(E)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,q=U.port2;U.port1.onmessage=E,W=function(){q.postMessage(null)}}else W=function(){b(E,0)};function K(j){N=j,k||(k=!0,W())}function Q(j,$){I=b(function(){j(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,K(R))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var S=p;p=$;try{return j()}finally{p=S}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var S=p;p=j;try{return $()}finally{p=S}},e.unstable_scheduleCallback=function(j,$,S){var oe=e.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?oe+S:oe):S=oe,j){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=S+me,j={id:d++,callback:$,priorityLevel:j,startTime:S,expirationTime:me,sortIndex:-1},S>oe?(j.sortIndex=S,t(u,j),n(l)===null&&j===n(u)&&(y?(g(I),I=-1):y=!0,Q(C,S-oe))):(j.sortIndex=me,t(l,j),w||m||(w=!0,K(R))),j},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(j){var $=p;return function(){var S=p;p=$;try{return j.apply(this,arguments)}finally{p=S}}}})(Xw);Yw.exports=Xw;var eN=Yw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tN=f,on=eN;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qw=new Set,va={};function ro(e,t){Jo(e,t),Jo(e+"Capture",t)}function Jo(e,t){for(va[e]=t,e=0;e<t.length;e++)Qw.add(t[e])}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bf=Object.prototype.hasOwnProperty,nN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ky={},Ey={};function rN(e){return bf.call(Ey,e)?!0:bf.call(ky,e)?!1:nN.test(e)?Ey[e]=!0:(ky[e]=!0,!1)}function sN(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oN(e,t,n,r){if(t===null||typeof t>"u"||sN(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Mt(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gt[e]=new Mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gt[t]=new Mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){gt[e]=new Mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gt[e]=new Mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gt[e]=new Mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){gt[e]=new Mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){gt[e]=new Mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){gt[e]=new Mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){gt[e]=new Mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var tp=/[\-:]([a-z])/g;function np(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tp,np);gt[t]=new Mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tp,np);gt[t]=new Mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tp,np);gt[t]=new Mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){gt[e]=new Mt(e,1,!1,e.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){gt[e]=new Mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function rp(e,t,n,r){var s=gt.hasOwnProperty(t)?gt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oN(t,n,s,r)&&(n=null),r||s===null?rN(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Or=tN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ml=Symbol.for("react.element"),ko=Symbol.for("react.portal"),Eo=Symbol.for("react.fragment"),sp=Symbol.for("react.strict_mode"),_f=Symbol.for("react.profiler"),Jw=Symbol.for("react.provider"),Zw=Symbol.for("react.context"),op=Symbol.for("react.forward_ref"),Sf=Symbol.for("react.suspense"),Cf=Symbol.for("react.suspense_list"),ip=Symbol.for("react.memo"),Zr=Symbol.for("react.lazy"),eb=Symbol.for("react.offscreen"),Ty=Symbol.iterator;function Oi(e){return e===null||typeof e!="object"?null:(e=Ty&&e[Ty]||e["@@iterator"],typeof e=="function"?e:null)}var Ke=Object.assign,md;function Gi(e){if(md===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);md=t&&t[1]||""}return`
`+md+e}var gd=!1;function yd(e,t){if(!e||gd)return"";gd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{gd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Gi(e):""}function iN(e){switch(e.tag){case 5:return Gi(e.type);case 16:return Gi("Lazy");case 13:return Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 2:case 15:return e=yd(e.type,!1),e;case 11:return e=yd(e.type.render,!1),e;case 1:return e=yd(e.type,!0),e;default:return""}}function kf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Eo:return"Fragment";case ko:return"Portal";case _f:return"Profiler";case sp:return"StrictMode";case Sf:return"Suspense";case Cf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Zw:return(e.displayName||"Context")+".Consumer";case Jw:return(e._context.displayName||"Context")+".Provider";case op:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ip:return t=e.displayName||null,t!==null?t:kf(e.type)||"Memo";case Zr:t=e._payload,e=e._init;try{return kf(e(t))}catch{}}return null}function aN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kf(t);case 8:return t===sp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ys(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lN(e){var t=tb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gl(e){e._valueTracker||(e._valueTracker=lN(e))}function nb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=tb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function bc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ef(e,t){var n=t.checked;return Ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ny(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ys(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rb(e,t){t=t.checked,t!=null&&rp(e,"checked",t,!1)}function Tf(e,t){rb(e,t);var n=ys(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Nf(e,t.type,ys(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ry(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Nf(e,t,n){(t!=="number"||bc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Yi=Array.isArray;function $o(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ys(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Rf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Iy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(Yi(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ys(n)}}function sb(e,t){var n=ys(t.value),r=ys(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Py(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ob(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function If(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ob(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yl,ib=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yl=yl||document.createElement("div"),yl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cN=["Webkit","ms","Moz","O"];Object.keys(Zi).forEach(function(e){cN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zi[t]=Zi[e]})});function ab(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Zi.hasOwnProperty(e)&&Zi[e]?(""+t).trim():t+"px"}function lb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ab(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var uN=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pf(e,t){if(t){if(uN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function Af(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jf=null;function ap(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mf=null,Uo=null,Ho=null;function Ay(e){if(e=Xa(e)){if(typeof Mf!="function")throw Error(B(280));var t=e.stateNode;t&&(t=yu(t),Mf(e.stateNode,e.type,t))}}function cb(e){Uo?Ho?Ho.push(e):Ho=[e]:Uo=e}function ub(){if(Uo){var e=Uo,t=Ho;if(Ho=Uo=null,Ay(e),t)for(e=0;e<t.length;e++)Ay(t[e])}}function db(e,t){return e(t)}function fb(){}var vd=!1;function hb(e,t,n){if(vd)return e(t,n);vd=!0;try{return db(e,t,n)}finally{vd=!1,(Uo!==null||Ho!==null)&&(fb(),ub())}}function wa(e,t){var n=e.stateNode;if(n===null)return null;var r=yu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var Of=!1;if(Tr)try{var Li={};Object.defineProperty(Li,"passive",{get:function(){Of=!0}}),window.addEventListener("test",Li,Li),window.removeEventListener("test",Li,Li)}catch{Of=!1}function dN(e,t,n,r,s,o,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var ea=!1,_c=null,Sc=!1,Lf=null,fN={onError:function(e){ea=!0,_c=e}};function hN(e,t,n,r,s,o,i,a,l){ea=!1,_c=null,dN.apply(fN,arguments)}function pN(e,t,n,r,s,o,i,a,l){if(hN.apply(this,arguments),ea){if(ea){var u=_c;ea=!1,_c=null}else throw Error(B(198));Sc||(Sc=!0,Lf=u)}}function so(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function pb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jy(e){if(so(e)!==e)throw Error(B(188))}function mN(e){var t=e.alternate;if(!t){if(t=so(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return jy(s),e;if(o===r)return jy(s),t;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function mb(e){return e=mN(e),e!==null?gb(e):null}function gb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gb(e);if(t!==null)return t;e=e.sibling}return null}var yb=on.unstable_scheduleCallback,My=on.unstable_cancelCallback,gN=on.unstable_shouldYield,yN=on.unstable_requestPaint,Je=on.unstable_now,vN=on.unstable_getCurrentPriorityLevel,lp=on.unstable_ImmediatePriority,vb=on.unstable_UserBlockingPriority,Cc=on.unstable_NormalPriority,xN=on.unstable_LowPriority,xb=on.unstable_IdlePriority,hu=null,sr=null;function wN(e){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(hu,e,void 0,(e.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:SN,bN=Math.log,_N=Math.LN2;function SN(e){return e>>>=0,e===0?32:31-(bN(e)/_N|0)|0}var vl=64,xl=4194304;function Xi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=Xi(a):(o&=i,o!==0&&(r=Xi(o)))}else i=n&~s,i!==0?r=Xi(i):o!==0&&(r=Xi(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jn(t),s=1<<n,r|=e[n],t&=~s;return r}function CN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kN(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-jn(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=CN(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Df(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wb(){var e=vl;return vl<<=1,!(vl&4194240)&&(vl=64),e}function xd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ga(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jn(t),e[t]=n}function EN(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-jn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function cp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-jn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var je=0;function bb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _b,up,Sb,Cb,kb,Ff=!1,wl=[],cs=null,us=null,ds=null,ba=new Map,_a=new Map,rs=[],TN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oy(e,t){switch(e){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":ba.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_a.delete(t.pointerId)}}function Di(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Xa(t),t!==null&&up(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function NN(e,t,n,r,s){switch(t){case"focusin":return cs=Di(cs,e,t,n,r,s),!0;case"dragenter":return us=Di(us,e,t,n,r,s),!0;case"mouseover":return ds=Di(ds,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return ba.set(o,Di(ba.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,_a.set(o,Di(_a.get(o)||null,e,t,n,r,s)),!0}return!1}function Eb(e){var t=zs(e.target);if(t!==null){var n=so(t);if(n!==null){if(t=n.tag,t===13){if(t=pb(n),t!==null){e.blockedOn=t,kb(e.priority,function(){Sb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Bf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);jf=r,n.target.dispatchEvent(r),jf=null}else return t=Xa(n),t!==null&&up(t),e.blockedOn=n,!1;t.shift()}return!0}function Ly(e,t,n){Jl(e)&&n.delete(t)}function RN(){Ff=!1,cs!==null&&Jl(cs)&&(cs=null),us!==null&&Jl(us)&&(us=null),ds!==null&&Jl(ds)&&(ds=null),ba.forEach(Ly),_a.forEach(Ly)}function Fi(e,t){e.blockedOn===t&&(e.blockedOn=null,Ff||(Ff=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,RN)))}function Sa(e){function t(s){return Fi(s,e)}if(0<wl.length){Fi(wl[0],e);for(var n=1;n<wl.length;n++){var r=wl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(cs!==null&&Fi(cs,e),us!==null&&Fi(us,e),ds!==null&&Fi(ds,e),ba.forEach(t),_a.forEach(t),n=0;n<rs.length;n++)r=rs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<rs.length&&(n=rs[0],n.blockedOn===null);)Eb(n),n.blockedOn===null&&rs.shift()}var Vo=Or.ReactCurrentBatchConfig,Ec=!0;function IN(e,t,n,r){var s=je,o=Vo.transition;Vo.transition=null;try{je=1,dp(e,t,n,r)}finally{je=s,Vo.transition=o}}function PN(e,t,n,r){var s=je,o=Vo.transition;Vo.transition=null;try{je=4,dp(e,t,n,r)}finally{je=s,Vo.transition=o}}function dp(e,t,n,r){if(Ec){var s=Bf(e,t,n,r);if(s===null)Rd(e,t,r,Tc,n),Oy(e,r);else if(NN(s,e,t,n,r))r.stopPropagation();else if(Oy(e,r),t&4&&-1<TN.indexOf(e)){for(;s!==null;){var o=Xa(s);if(o!==null&&_b(o),o=Bf(e,t,n,r),o===null&&Rd(e,t,r,Tc,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Rd(e,t,r,null,n)}}var Tc=null;function Bf(e,t,n,r){if(Tc=null,e=ap(r),e=zs(e),e!==null)if(t=so(e),t===null)e=null;else if(n=t.tag,n===13){if(e=pb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Tc=e,null}function Tb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vN()){case lp:return 1;case vb:return 4;case Cc:case xN:return 16;case xb:return 536870912;default:return 16}default:return 16}}var is=null,fp=null,Zl=null;function Nb(){if(Zl)return Zl;var e,t=fp,n=t.length,r,s="value"in is?is.value:is.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Zl=s.slice(e,1<r?1-r:void 0)}function ec(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bl(){return!0}function Dy(){return!1}function ln(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?bl:Dy,this.isPropagationStopped=Dy,this}return Ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bl)},persist:function(){},isPersistent:bl}),t}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hp=ln(mi),Ya=Ke({},mi,{view:0,detail:0}),AN=ln(Ya),wd,bd,Bi,pu=Ke({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bi&&(Bi&&e.type==="mousemove"?(wd=e.screenX-Bi.screenX,bd=e.screenY-Bi.screenY):bd=wd=0,Bi=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:bd}}),Fy=ln(pu),jN=Ke({},pu,{dataTransfer:0}),MN=ln(jN),ON=Ke({},Ya,{relatedTarget:0}),_d=ln(ON),LN=Ke({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),DN=ln(LN),FN=Ke({},mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),BN=ln(FN),zN=Ke({},mi,{data:0}),By=ln(zN),$N={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=HN[e])?!!t[e]:!1}function pp(){return VN}var WN=Ke({},Ya,{key:function(e){if(e.key){var t=$N[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ec(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?UN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pp,charCode:function(e){return e.type==="keypress"?ec(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ec(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),KN=ln(WN),qN=Ke({},pu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zy=ln(qN),GN=Ke({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pp}),YN=ln(GN),XN=Ke({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),QN=ln(XN),JN=Ke({},pu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ZN=ln(JN),eR=[9,13,27,32],mp=Tr&&"CompositionEvent"in window,ta=null;Tr&&"documentMode"in document&&(ta=document.documentMode);var tR=Tr&&"TextEvent"in window&&!ta,Rb=Tr&&(!mp||ta&&8<ta&&11>=ta),$y=" ",Uy=!1;function Ib(e,t){switch(e){case"keyup":return eR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var To=!1;function nR(e,t){switch(e){case"compositionend":return Pb(t);case"keypress":return t.which!==32?null:(Uy=!0,$y);case"textInput":return e=t.data,e===$y&&Uy?null:e;default:return null}}function rR(e,t){if(To)return e==="compositionend"||!mp&&Ib(e,t)?(e=Nb(),Zl=fp=is=null,To=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rb&&t.locale!=="ko"?null:t.data;default:return null}}var sR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sR[e.type]:t==="textarea"}function Ab(e,t,n,r){cb(r),t=Nc(t,"onChange"),0<t.length&&(n=new hp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var na=null,Ca=null;function oR(e){Hb(e,0)}function mu(e){var t=Io(e);if(nb(t))return e}function iR(e,t){if(e==="change")return t}var jb=!1;if(Tr){var Sd;if(Tr){var Cd="oninput"in document;if(!Cd){var Vy=document.createElement("div");Vy.setAttribute("oninput","return;"),Cd=typeof Vy.oninput=="function"}Sd=Cd}else Sd=!1;jb=Sd&&(!document.documentMode||9<document.documentMode)}function Wy(){na&&(na.detachEvent("onpropertychange",Mb),Ca=na=null)}function Mb(e){if(e.propertyName==="value"&&mu(Ca)){var t=[];Ab(t,Ca,e,ap(e)),hb(oR,t)}}function aR(e,t,n){e==="focusin"?(Wy(),na=t,Ca=n,na.attachEvent("onpropertychange",Mb)):e==="focusout"&&Wy()}function lR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mu(Ca)}function cR(e,t){if(e==="click")return mu(t)}function uR(e,t){if(e==="input"||e==="change")return mu(t)}function dR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dn=typeof Object.is=="function"?Object.is:dR;function ka(e,t){if(Dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!bf.call(t,s)||!Dn(e[s],t[s]))return!1}return!0}function Ky(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qy(e,t){var n=Ky(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ky(n)}}function Ob(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ob(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lb(){for(var e=window,t=bc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=bc(e.document)}return t}function gp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fR(e){var t=Lb(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ob(n.ownerDocument.documentElement,n)){if(r!==null&&gp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=qy(n,o);var i=qy(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hR=Tr&&"documentMode"in document&&11>=document.documentMode,No=null,zf=null,ra=null,$f=!1;function Gy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$f||No==null||No!==bc(r)||(r=No,"selectionStart"in r&&gp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ra&&ka(ra,r)||(ra=r,r=Nc(zf,"onSelect"),0<r.length&&(t=new hp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=No)))}function _l(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ro={animationend:_l("Animation","AnimationEnd"),animationiteration:_l("Animation","AnimationIteration"),animationstart:_l("Animation","AnimationStart"),transitionend:_l("Transition","TransitionEnd")},kd={},Db={};Tr&&(Db=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function gu(e){if(kd[e])return kd[e];if(!Ro[e])return e;var t=Ro[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Db)return kd[e]=t[n];return e}var Fb=gu("animationend"),Bb=gu("animationiteration"),zb=gu("animationstart"),$b=gu("transitionend"),Ub=new Map,Yy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bs(e,t){Ub.set(e,t),ro(t,[e])}for(var Ed=0;Ed<Yy.length;Ed++){var Td=Yy[Ed],pR=Td.toLowerCase(),mR=Td[0].toUpperCase()+Td.slice(1);bs(pR,"on"+mR)}bs(Fb,"onAnimationEnd");bs(Bb,"onAnimationIteration");bs(zb,"onAnimationStart");bs("dblclick","onDoubleClick");bs("focusin","onFocus");bs("focusout","onBlur");bs($b,"onTransitionEnd");Jo("onMouseEnter",["mouseout","mouseover"]);Jo("onMouseLeave",["mouseout","mouseover"]);Jo("onPointerEnter",["pointerout","pointerover"]);Jo("onPointerLeave",["pointerout","pointerover"]);ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qi));function Xy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,pN(r,t,void 0,e),e.currentTarget=null}function Hb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;Xy(s,a,u),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;Xy(s,a,u),o=l}}}if(Sc)throw e=Lf,Sc=!1,Lf=null,e}function Be(e,t){var n=t[Kf];n===void 0&&(n=t[Kf]=new Set);var r=e+"__bubble";n.has(r)||(Vb(t,e,2,!1),n.add(r))}function Nd(e,t,n){var r=0;t&&(r|=4),Vb(n,e,r,t)}var Sl="_reactListening"+Math.random().toString(36).slice(2);function Ea(e){if(!e[Sl]){e[Sl]=!0,Qw.forEach(function(n){n!=="selectionchange"&&(gR.has(n)||Nd(n,!1,e),Nd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sl]||(t[Sl]=!0,Nd("selectionchange",!1,t))}}function Vb(e,t,n,r){switch(Tb(t)){case 1:var s=IN;break;case 4:s=PN;break;default:s=dp}n=s.bind(null,t,n,e),s=void 0,!Of||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Rd(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=zs(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}hb(function(){var u=o,d=ap(n),h=[];e:{var p=Ub.get(e);if(p!==void 0){var m=hp,w=e;switch(e){case"keypress":if(ec(n)===0)break e;case"keydown":case"keyup":m=KN;break;case"focusin":w="focus",m=_d;break;case"focusout":w="blur",m=_d;break;case"beforeblur":case"afterblur":m=_d;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Fy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=MN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=YN;break;case Fb:case Bb:case zb:m=DN;break;case $b:m=QN;break;case"scroll":m=AN;break;case"wheel":m=ZN;break;case"copy":case"cut":case"paste":m=BN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=zy}var y=(t&4)!==0,b=!y&&e==="scroll",g=y?p!==null?p+"Capture":null:p;y=[];for(var v=u,x;v!==null;){x=v;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,g!==null&&(C=wa(v,g),C!=null&&y.push(Ta(v,C,x)))),b)break;v=v.return}0<y.length&&(p=new m(p,w,null,n,d),h.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==jf&&(w=n.relatedTarget||n.fromElement)&&(zs(w)||w[Nr]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?zs(w):null,w!==null&&(b=so(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(y=Fy,C="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=zy,C="onPointerLeave",g="onPointerEnter",v="pointer"),b=m==null?p:Io(m),x=w==null?p:Io(w),p=new y(C,v+"leave",m,n,d),p.target=b,p.relatedTarget=x,C=null,zs(d)===u&&(y=new y(g,v+"enter",w,n,d),y.target=x,y.relatedTarget=b,C=y),b=C,m&&w)t:{for(y=m,g=w,v=0,x=y;x;x=vo(x))v++;for(x=0,C=g;C;C=vo(C))x++;for(;0<v-x;)y=vo(y),v--;for(;0<x-v;)g=vo(g),x--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=vo(y),g=vo(g)}y=null}else y=null;m!==null&&Qy(h,p,m,y,!1),w!==null&&b!==null&&Qy(h,b,w,y,!0)}}e:{if(p=u?Io(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var R=iR;else if(Hy(p))if(jb)R=uR;else{R=lR;var k=aR}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=cR);if(R&&(R=R(e,u))){Ab(h,R,n,d);break e}k&&k(e,p,u),e==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&Nf(p,"number",p.value)}switch(k=u?Io(u):window,e){case"focusin":(Hy(k)||k.contentEditable==="true")&&(No=k,zf=u,ra=null);break;case"focusout":ra=zf=No=null;break;case"mousedown":$f=!0;break;case"contextmenu":case"mouseup":case"dragend":$f=!1,Gy(h,n,d);break;case"selectionchange":if(hR)break;case"keydown":case"keyup":Gy(h,n,d)}var N;if(mp)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else To?Ib(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Rb&&n.locale!=="ko"&&(To||I!=="onCompositionStart"?I==="onCompositionEnd"&&To&&(N=Nb()):(is=d,fp="value"in is?is.value:is.textContent,To=!0)),k=Nc(u,I),0<k.length&&(I=new By(I,e,null,n,d),h.push({event:I,listeners:k}),N?I.data=N:(N=Pb(n),N!==null&&(I.data=N)))),(N=tR?nR(e,n):rR(e,n))&&(u=Nc(u,"onBeforeInput"),0<u.length&&(d=new By("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=N))}Hb(h,t)})}function Ta(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nc(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=wa(e,n),o!=null&&r.unshift(Ta(e,o,s)),o=wa(e,t),o!=null&&r.push(Ta(e,o,s))),e=e.return}return r}function vo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qy(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=wa(n,o),l!=null&&i.unshift(Ta(n,l,a))):s||(l=wa(n,o),l!=null&&i.push(Ta(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var yR=/\r\n?/g,vR=/\u0000|\uFFFD/g;function Jy(e){return(typeof e=="string"?e:""+e).replace(yR,`
`).replace(vR,"")}function Cl(e,t,n){if(t=Jy(t),Jy(e)!==t&&n)throw Error(B(425))}function Rc(){}var Uf=null,Hf=null;function Vf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wf=typeof setTimeout=="function"?setTimeout:void 0,xR=typeof clearTimeout=="function"?clearTimeout:void 0,Zy=typeof Promise=="function"?Promise:void 0,wR=typeof queueMicrotask=="function"?queueMicrotask:typeof Zy<"u"?function(e){return Zy.resolve(null).then(e).catch(bR)}:Wf;function bR(e){setTimeout(function(){throw e})}function Id(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Sa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Sa(t)}function fs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ev(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var gi=Math.random().toString(36).slice(2),Zn="__reactFiber$"+gi,Na="__reactProps$"+gi,Nr="__reactContainer$"+gi,Kf="__reactEvents$"+gi,_R="__reactListeners$"+gi,SR="__reactHandles$"+gi;function zs(e){var t=e[Zn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nr]||n[Zn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ev(e);e!==null;){if(n=e[Zn])return n;e=ev(e)}return t}e=n,n=e.parentNode}return null}function Xa(e){return e=e[Zn]||e[Nr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Io(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function yu(e){return e[Na]||null}var qf=[],Po=-1;function _s(e){return{current:e}}function ze(e){0>Po||(e.current=qf[Po],qf[Po]=null,Po--)}function De(e,t){Po++,qf[Po]=e.current,e.current=t}var vs={},kt=_s(vs),$t=_s(!1),Ks=vs;function Zo(e,t){var n=e.type.contextTypes;if(!n)return vs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ut(e){return e=e.childContextTypes,e!=null}function Ic(){ze($t),ze(kt)}function tv(e,t,n){if(kt.current!==vs)throw Error(B(168));De(kt,t),De($t,n)}function Wb(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(B(108,aN(e)||"Unknown",s));return Ke({},n,r)}function Pc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vs,Ks=kt.current,De(kt,e),De($t,$t.current),!0}function nv(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=Wb(e,t,Ks),r.__reactInternalMemoizedMergedChildContext=e,ze($t),ze(kt),De(kt,e)):ze($t),De($t,n)}var wr=null,vu=!1,Pd=!1;function Kb(e){wr===null?wr=[e]:wr.push(e)}function CR(e){vu=!0,Kb(e)}function Ss(){if(!Pd&&wr!==null){Pd=!0;var e=0,t=je;try{var n=wr;for(je=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wr=null,vu=!1}catch(s){throw wr!==null&&(wr=wr.slice(e+1)),yb(lp,Ss),s}finally{je=t,Pd=!1}}return null}var Ao=[],jo=0,Ac=null,jc=0,pn=[],mn=0,qs=null,Sr=1,Cr="";function Ls(e,t){Ao[jo++]=jc,Ao[jo++]=Ac,Ac=e,jc=t}function qb(e,t,n){pn[mn++]=Sr,pn[mn++]=Cr,pn[mn++]=qs,qs=e;var r=Sr;e=Cr;var s=32-jn(r)-1;r&=~(1<<s),n+=1;var o=32-jn(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Sr=1<<32-jn(t)+s|n<<s|r,Cr=o+e}else Sr=1<<o|n<<s|r,Cr=e}function yp(e){e.return!==null&&(Ls(e,1),qb(e,1,0))}function vp(e){for(;e===Ac;)Ac=Ao[--jo],Ao[jo]=null,jc=Ao[--jo],Ao[jo]=null;for(;e===qs;)qs=pn[--mn],pn[mn]=null,Cr=pn[--mn],pn[mn]=null,Sr=pn[--mn],pn[mn]=null}var rn=null,tn=null,Ue=!1,Pn=null;function Gb(e,t){var n=yn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rn=e,tn=fs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rn=e,tn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=qs!==null?{id:Sr,overflow:Cr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=yn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,rn=e,tn=null,!0):!1;default:return!1}}function Gf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yf(e){if(Ue){var t=tn;if(t){var n=t;if(!rv(e,t)){if(Gf(e))throw Error(B(418));t=fs(n.nextSibling);var r=rn;t&&rv(e,t)?Gb(r,n):(e.flags=e.flags&-4097|2,Ue=!1,rn=e)}}else{if(Gf(e))throw Error(B(418));e.flags=e.flags&-4097|2,Ue=!1,rn=e}}}function sv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rn=e}function kl(e){if(e!==rn)return!1;if(!Ue)return sv(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vf(e.type,e.memoizedProps)),t&&(t=tn)){if(Gf(e))throw Yb(),Error(B(418));for(;t;)Gb(e,t),t=fs(t.nextSibling)}if(sv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){tn=fs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}tn=null}}else tn=rn?fs(e.stateNode.nextSibling):null;return!0}function Yb(){for(var e=tn;e;)e=fs(e.nextSibling)}function ei(){tn=rn=null,Ue=!1}function xp(e){Pn===null?Pn=[e]:Pn.push(e)}var kR=Or.ReactCurrentBatchConfig;function zi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function El(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ov(e){var t=e._init;return t(e._payload)}function Xb(e){function t(g,v){if(e){var x=g.deletions;x===null?(g.deletions=[v],g.flags|=16):x.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=gs(g,v),g.index=0,g.sibling=null,g}function o(g,v,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<v?(g.flags|=2,v):x):(g.flags|=2,v)):(g.flags|=1048576,v)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,v,x,C){return v===null||v.tag!==6?(v=Fd(x,g.mode,C),v.return=g,v):(v=s(v,x),v.return=g,v)}function l(g,v,x,C){var R=x.type;return R===Eo?d(g,v,x.props.children,C,x.key):v!==null&&(v.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Zr&&ov(R)===v.type)?(C=s(v,x.props),C.ref=zi(g,v,x),C.return=g,C):(C=ac(x.type,x.key,x.props,null,g.mode,C),C.ref=zi(g,v,x),C.return=g,C)}function u(g,v,x,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Bd(x,g.mode,C),v.return=g,v):(v=s(v,x.children||[]),v.return=g,v)}function d(g,v,x,C,R){return v===null||v.tag!==7?(v=Vs(x,g.mode,C,R),v.return=g,v):(v=s(v,x),v.return=g,v)}function h(g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Fd(""+v,g.mode,x),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ml:return x=ac(v.type,v.key,v.props,null,g.mode,x),x.ref=zi(g,null,v),x.return=g,x;case ko:return v=Bd(v,g.mode,x),v.return=g,v;case Zr:var C=v._init;return h(g,C(v._payload),x)}if(Yi(v)||Oi(v))return v=Vs(v,g.mode,x,null),v.return=g,v;El(g,v)}return null}function p(g,v,x,C){var R=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return R!==null?null:a(g,v,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ml:return x.key===R?l(g,v,x,C):null;case ko:return x.key===R?u(g,v,x,C):null;case Zr:return R=x._init,p(g,v,R(x._payload),C)}if(Yi(x)||Oi(x))return R!==null?null:d(g,v,x,C,null);El(g,x)}return null}function m(g,v,x,C,R){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(x)||null,a(v,g,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ml:return g=g.get(C.key===null?x:C.key)||null,l(v,g,C,R);case ko:return g=g.get(C.key===null?x:C.key)||null,u(v,g,C,R);case Zr:var k=C._init;return m(g,v,x,k(C._payload),R)}if(Yi(C)||Oi(C))return g=g.get(x)||null,d(v,g,C,R,null);El(v,C)}return null}function w(g,v,x,C){for(var R=null,k=null,N=v,I=v=0,M=null;N!==null&&I<x.length;I++){N.index>I?(M=N,N=null):M=N.sibling;var A=p(g,N,x[I],C);if(A===null){N===null&&(N=M);break}e&&N&&A.alternate===null&&t(g,N),v=o(A,v,I),k===null?R=A:k.sibling=A,k=A,N=M}if(I===x.length)return n(g,N),Ue&&Ls(g,I),R;if(N===null){for(;I<x.length;I++)N=h(g,x[I],C),N!==null&&(v=o(N,v,I),k===null?R=N:k.sibling=N,k=N);return Ue&&Ls(g,I),R}for(N=r(g,N);I<x.length;I++)M=m(N,g,I,x[I],C),M!==null&&(e&&M.alternate!==null&&N.delete(M.key===null?I:M.key),v=o(M,v,I),k===null?R=M:k.sibling=M,k=M);return e&&N.forEach(function(L){return t(g,L)}),Ue&&Ls(g,I),R}function y(g,v,x,C){var R=Oi(x);if(typeof R!="function")throw Error(B(150));if(x=R.call(x),x==null)throw Error(B(151));for(var k=R=null,N=v,I=v=0,M=null,A=x.next();N!==null&&!A.done;I++,A=x.next()){N.index>I?(M=N,N=null):M=N.sibling;var L=p(g,N,A.value,C);if(L===null){N===null&&(N=M);break}e&&N&&L.alternate===null&&t(g,N),v=o(L,v,I),k===null?R=L:k.sibling=L,k=L,N=M}if(A.done)return n(g,N),Ue&&Ls(g,I),R;if(N===null){for(;!A.done;I++,A=x.next())A=h(g,A.value,C),A!==null&&(v=o(A,v,I),k===null?R=A:k.sibling=A,k=A);return Ue&&Ls(g,I),R}for(N=r(g,N);!A.done;I++,A=x.next())A=m(N,g,I,A.value,C),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?I:A.key),v=o(A,v,I),k===null?R=A:k.sibling=A,k=A);return e&&N.forEach(function(E){return t(g,E)}),Ue&&Ls(g,I),R}function b(g,v,x,C){if(typeof x=="object"&&x!==null&&x.type===Eo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ml:e:{for(var R=x.key,k=v;k!==null;){if(k.key===R){if(R=x.type,R===Eo){if(k.tag===7){n(g,k.sibling),v=s(k,x.props.children),v.return=g,g=v;break e}}else if(k.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Zr&&ov(R)===k.type){n(g,k.sibling),v=s(k,x.props),v.ref=zi(g,k,x),v.return=g,g=v;break e}n(g,k);break}else t(g,k);k=k.sibling}x.type===Eo?(v=Vs(x.props.children,g.mode,C,x.key),v.return=g,g=v):(C=ac(x.type,x.key,x.props,null,g.mode,C),C.ref=zi(g,v,x),C.return=g,g=C)}return i(g);case ko:e:{for(k=x.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(g,v.sibling),v=s(v,x.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=Bd(x,g.mode,C),v.return=g,g=v}return i(g);case Zr:return k=x._init,b(g,v,k(x._payload),C)}if(Yi(x))return w(g,v,x,C);if(Oi(x))return y(g,v,x,C);El(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,x),v.return=g,g=v):(n(g,v),v=Fd(x,g.mode,C),v.return=g,g=v),i(g)):n(g,v)}return b}var ti=Xb(!0),Qb=Xb(!1),Mc=_s(null),Oc=null,Mo=null,wp=null;function bp(){wp=Mo=Oc=null}function _p(e){var t=Mc.current;ze(Mc),e._currentValue=t}function Xf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Wo(e,t){Oc=e,wp=Mo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zt=!0),e.firstContext=null)}function xn(e){var t=e._currentValue;if(wp!==e)if(e={context:e,memoizedValue:t,next:null},Mo===null){if(Oc===null)throw Error(B(308));Mo=e,Oc.dependencies={lanes:0,firstContext:e}}else Mo=Mo.next=e;return t}var $s=null;function Sp(e){$s===null?$s=[e]:$s.push(e)}function Jb(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Sp(t)):(n.next=s.next,s.next=n),t.interleaved=n,Rr(e,r)}function Rr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var es=!1;function Cp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Rr(e,n)}return s=r.interleaved,s===null?(t.next=t,Sp(r)):(t.next=s.next,s.next=t),r.interleaved=t,Rr(e,n)}function tc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,cp(e,n)}}function iv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Lc(e,t,n,r){var s=e.updateQueue;es=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var h=s.baseState;i=0,d=u=l=null,a=o;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,y=a;switch(p=t,m=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(m,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,p=typeof w=="function"?w.call(m,h,p):w,p==null)break e;h=Ke({},h,p);break e;case 2:es=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,i|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Ys|=i,e.lanes=i,e.memoizedState=h}}function av(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var Qa={},or=_s(Qa),Ra=_s(Qa),Ia=_s(Qa);function Us(e){if(e===Qa)throw Error(B(174));return e}function kp(e,t){switch(De(Ia,t),De(Ra,e),De(or,Qa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:If(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=If(t,e)}ze(or),De(or,t)}function ni(){ze(or),ze(Ra),ze(Ia)}function e_(e){Us(Ia.current);var t=Us(or.current),n=If(t,e.type);t!==n&&(De(Ra,e),De(or,n))}function Ep(e){Ra.current===e&&(ze(or),ze(Ra))}var Ve=_s(0);function Dc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ad=[];function Tp(){for(var e=0;e<Ad.length;e++)Ad[e]._workInProgressVersionPrimary=null;Ad.length=0}var nc=Or.ReactCurrentDispatcher,jd=Or.ReactCurrentBatchConfig,Gs=0,We=null,ot=null,dt=null,Fc=!1,sa=!1,Pa=0,ER=0;function bt(){throw Error(B(321))}function Np(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dn(e[n],t[n]))return!1;return!0}function Rp(e,t,n,r,s,o){if(Gs=o,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nc.current=e===null||e.memoizedState===null?IR:PR,e=n(r,s),sa){o=0;do{if(sa=!1,Pa=0,25<=o)throw Error(B(301));o+=1,dt=ot=null,t.updateQueue=null,nc.current=AR,e=n(r,s)}while(sa)}if(nc.current=Bc,t=ot!==null&&ot.next!==null,Gs=0,dt=ot=We=null,Fc=!1,t)throw Error(B(300));return e}function Ip(){var e=Pa!==0;return Pa=0,e}function Qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?We.memoizedState=dt=e:dt=dt.next=e,dt}function wn(){if(ot===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var t=dt===null?We.memoizedState:dt.next;if(t!==null)dt=t,ot=e;else{if(e===null)throw Error(B(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},dt===null?We.memoizedState=dt=e:dt=dt.next=e}return dt}function Aa(e,t){return typeof t=="function"?t(e):t}function Md(e){var t=wn(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=ot,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,u=o;do{var d=u.lane;if((Gs&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,i=r):l=l.next=h,We.lanes|=d,Ys|=d}u=u.next}while(u!==null&&u!==o);l===null?i=r:l.next=a,Dn(r,t.memoizedState)||(zt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,We.lanes|=o,Ys|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Od(e){var t=wn(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Dn(o,t.memoizedState)||(zt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function t_(){}function n_(e,t){var n=We,r=wn(),s=t(),o=!Dn(r.memoizedState,s);if(o&&(r.memoizedState=s,zt=!0),r=r.queue,Pp(o_.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,ja(9,s_.bind(null,n,r,s,t),void 0,null),ft===null)throw Error(B(349));Gs&30||r_(n,t,s)}return s}function r_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function s_(e,t,n,r){t.value=n,t.getSnapshot=r,i_(t)&&a_(e)}function o_(e,t,n){return n(function(){i_(t)&&a_(e)})}function i_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dn(e,n)}catch{return!0}}function a_(e){var t=Rr(e,1);t!==null&&Mn(t,e,1,-1)}function lv(e){var t=Qn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:e},t.queue=e,e=e.dispatch=RR.bind(null,We,e),[t.memoizedState,e]}function ja(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function l_(){return wn().memoizedState}function rc(e,t,n,r){var s=Qn();We.flags|=e,s.memoizedState=ja(1|t,n,void 0,r===void 0?null:r)}function xu(e,t,n,r){var s=wn();r=r===void 0?null:r;var o=void 0;if(ot!==null){var i=ot.memoizedState;if(o=i.destroy,r!==null&&Np(r,i.deps)){s.memoizedState=ja(t,n,o,r);return}}We.flags|=e,s.memoizedState=ja(1|t,n,o,r)}function cv(e,t){return rc(8390656,8,e,t)}function Pp(e,t){return xu(2048,8,e,t)}function c_(e,t){return xu(4,2,e,t)}function u_(e,t){return xu(4,4,e,t)}function d_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function f_(e,t,n){return n=n!=null?n.concat([e]):null,xu(4,4,d_.bind(null,t,e),n)}function Ap(){}function h_(e,t){var n=wn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Np(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function p_(e,t){var n=wn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Np(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function m_(e,t,n){return Gs&21?(Dn(n,t)||(n=wb(),We.lanes|=n,Ys|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zt=!0),e.memoizedState=n)}function TR(e,t){var n=je;je=n!==0&&4>n?n:4,e(!0);var r=jd.transition;jd.transition={};try{e(!1),t()}finally{je=n,jd.transition=r}}function g_(){return wn().memoizedState}function NR(e,t,n){var r=ms(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},y_(e))v_(t,n);else if(n=Jb(e,t,n,r),n!==null){var s=At();Mn(n,e,r,s),x_(n,t,r)}}function RR(e,t,n){var r=ms(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(y_(e))v_(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,Dn(a,i)){var l=t.interleaved;l===null?(s.next=s,Sp(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Jb(e,t,s,r),n!==null&&(s=At(),Mn(n,e,r,s),x_(n,t,r))}}function y_(e){var t=e.alternate;return e===We||t!==null&&t===We}function v_(e,t){sa=Fc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function x_(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,cp(e,n)}}var Bc={readContext:xn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},IR={readContext:xn,useCallback:function(e,t){return Qn().memoizedState=[e,t===void 0?null:t],e},useContext:xn,useEffect:cv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,rc(4194308,4,d_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return rc(4194308,4,e,t)},useInsertionEffect:function(e,t){return rc(4,2,e,t)},useMemo:function(e,t){var n=Qn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=NR.bind(null,We,e),[r.memoizedState,e]},useRef:function(e){var t=Qn();return e={current:e},t.memoizedState=e},useState:lv,useDebugValue:Ap,useDeferredValue:function(e){return Qn().memoizedState=e},useTransition:function(){var e=lv(!1),t=e[0];return e=TR.bind(null,e[1]),Qn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=We,s=Qn();if(Ue){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),ft===null)throw Error(B(349));Gs&30||r_(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,cv(o_.bind(null,r,o,e),[e]),r.flags|=2048,ja(9,s_.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Qn(),t=ft.identifierPrefix;if(Ue){var n=Cr,r=Sr;n=(r&~(1<<32-jn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ER++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},PR={readContext:xn,useCallback:h_,useContext:xn,useEffect:Pp,useImperativeHandle:f_,useInsertionEffect:c_,useLayoutEffect:u_,useMemo:p_,useReducer:Md,useRef:l_,useState:function(){return Md(Aa)},useDebugValue:Ap,useDeferredValue:function(e){var t=wn();return m_(t,ot.memoizedState,e)},useTransition:function(){var e=Md(Aa)[0],t=wn().memoizedState;return[e,t]},useMutableSource:t_,useSyncExternalStore:n_,useId:g_,unstable_isNewReconciler:!1},AR={readContext:xn,useCallback:h_,useContext:xn,useEffect:Pp,useImperativeHandle:f_,useInsertionEffect:c_,useLayoutEffect:u_,useMemo:p_,useReducer:Od,useRef:l_,useState:function(){return Od(Aa)},useDebugValue:Ap,useDeferredValue:function(e){var t=wn();return ot===null?t.memoizedState=e:m_(t,ot.memoizedState,e)},useTransition:function(){var e=Od(Aa)[0],t=wn().memoizedState;return[e,t]},useMutableSource:t_,useSyncExternalStore:n_,useId:g_,unstable_isNewReconciler:!1};function Rn(e,t){if(e&&e.defaultProps){t=Ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wu={isMounted:function(e){return(e=e._reactInternals)?so(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=At(),s=ms(e),o=kr(r,s);o.payload=t,n!=null&&(o.callback=n),t=hs(e,o,s),t!==null&&(Mn(t,e,s,r),tc(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=At(),s=ms(e),o=kr(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=hs(e,o,s),t!==null&&(Mn(t,e,s,r),tc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=At(),r=ms(e),s=kr(n,r);s.tag=2,t!=null&&(s.callback=t),t=hs(e,s,r),t!==null&&(Mn(t,e,r,n),tc(t,e,r))}};function uv(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!ka(n,r)||!ka(s,o):!0}function w_(e,t,n){var r=!1,s=vs,o=t.contextType;return typeof o=="object"&&o!==null?o=xn(o):(s=Ut(t)?Ks:kt.current,r=t.contextTypes,o=(r=r!=null)?Zo(e,s):vs),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function dv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wu.enqueueReplaceState(t,t.state,null)}function Jf(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Cp(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=xn(o):(o=Ut(t)?Ks:kt.current,s.context=Zo(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Qf(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&wu.enqueueReplaceState(s,s.state,null),Lc(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ri(e,t){try{var n="",r=t;do n+=iN(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Ld(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Zf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var jR=typeof WeakMap=="function"?WeakMap:Map;function b_(e,t,n){n=kr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$c||($c=!0,ch=r),Zf(e,t)},n}function __(e,t,n){n=kr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Zf(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Zf(e,t),typeof r!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function fv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new jR;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=qR.bind(null,e,t,n),t.then(e,e))}function hv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function pv(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kr(-1,1),t.tag=2,hs(n,t,1))),n.lanes|=1),e)}var MR=Or.ReactCurrentOwner,zt=!1;function Pt(e,t,n,r){t.child=e===null?Qb(t,null,n,r):ti(t,e.child,n,r)}function mv(e,t,n,r,s){n=n.render;var o=t.ref;return Wo(t,s),r=Rp(e,t,n,r,o,s),n=Ip(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ir(e,t,s)):(Ue&&n&&yp(t),t.flags|=1,Pt(e,t,r,s),t.child)}function gv(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!zp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,S_(e,t,o,r,s)):(e=ac(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:ka,n(i,r)&&e.ref===t.ref)return Ir(e,t,s)}return t.flags|=1,e=gs(o,r),e.ref=t.ref,e.return=t,t.child=e}function S_(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(ka(o,r)&&e.ref===t.ref)if(zt=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(zt=!0);else return t.lanes=e.lanes,Ir(e,t,s)}return eh(e,t,n,r,s)}function C_(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Lo,Jt),Jt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(Lo,Jt),Jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,De(Lo,Jt),Jt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,De(Lo,Jt),Jt|=r;return Pt(e,t,s,n),t.child}function k_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function eh(e,t,n,r,s){var o=Ut(n)?Ks:kt.current;return o=Zo(t,o),Wo(t,s),n=Rp(e,t,n,r,o,s),r=Ip(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ir(e,t,s)):(Ue&&r&&yp(t),t.flags|=1,Pt(e,t,n,s),t.child)}function yv(e,t,n,r,s){if(Ut(n)){var o=!0;Pc(t)}else o=!1;if(Wo(t,s),t.stateNode===null)sc(e,t),w_(t,n,r),Jf(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=xn(u):(u=Ut(n)?Ks:kt.current,u=Zo(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==u)&&dv(t,i,r,u),es=!1;var p=t.memoizedState;i.state=p,Lc(t,r,i,s),l=t.memoizedState,a!==r||p!==l||$t.current||es?(typeof d=="function"&&(Qf(t,n,d,r),l=t.memoizedState),(a=es||uv(t,n,a,r,p,l,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Zb(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Rn(t.type,a),i.props=u,h=t.pendingProps,p=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=xn(l):(l=Ut(n)?Ks:kt.current,l=Zo(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||p!==l)&&dv(t,i,r,l),es=!1,p=t.memoizedState,i.state=p,Lc(t,r,i,s);var w=t.memoizedState;a!==h||p!==w||$t.current||es?(typeof m=="function"&&(Qf(t,n,m,r),w=t.memoizedState),(u=es||uv(t,n,u,r,p,w,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return th(e,t,n,r,o,s)}function th(e,t,n,r,s,o){k_(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&nv(t,n,!1),Ir(e,t,o);r=t.stateNode,MR.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=ti(t,e.child,null,o),t.child=ti(t,null,a,o)):Pt(e,t,a,o),t.memoizedState=r.state,s&&nv(t,n,!0),t.child}function E_(e){var t=e.stateNode;t.pendingContext?tv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tv(e,t.context,!1),kp(e,t.containerInfo)}function vv(e,t,n,r,s){return ei(),xp(s),t.flags|=256,Pt(e,t,n,r),t.child}var nh={dehydrated:null,treeContext:null,retryLane:0};function rh(e){return{baseLanes:e,cachePool:null,transitions:null}}function T_(e,t,n){var r=t.pendingProps,s=Ve.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),De(Ve,s&1),e===null)return Yf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Su(i,r,0,null),e=Vs(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=rh(n),t.memoizedState=nh,e):jp(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return OR(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=gs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=gs(a,o):(o=Vs(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?rh(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=nh,r}return o=e.child,e=o.sibling,r=gs(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function jp(e,t){return t=Su({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Tl(e,t,n,r){return r!==null&&xp(r),ti(t,e.child,null,n),e=jp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function OR(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Ld(Error(B(422))),Tl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Su({mode:"visible",children:r.children},s,0,null),o=Vs(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ti(t,e.child,null,i),t.child.memoizedState=rh(i),t.memoizedState=nh,o);if(!(t.mode&1))return Tl(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(B(419)),r=Ld(o,r,void 0),Tl(e,t,i,r)}if(a=(i&e.childLanes)!==0,zt||a){if(r=ft,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Rr(e,s),Mn(r,e,s,-1))}return Bp(),r=Ld(Error(B(421))),Tl(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=GR.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,tn=fs(s.nextSibling),rn=t,Ue=!0,Pn=null,e!==null&&(pn[mn++]=Sr,pn[mn++]=Cr,pn[mn++]=qs,Sr=e.id,Cr=e.overflow,qs=t),t=jp(t,r.children),t.flags|=4096,t)}function xv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Xf(e.return,t,n)}function Dd(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function N_(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Pt(e,t,r.children,n),r=Ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xv(e,n,t);else if(e.tag===19)xv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(De(Ve,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Dc(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Dd(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Dc(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Dd(t,!0,n,null,o);break;case"together":Dd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ir(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ys|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=gs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function LR(e,t,n){switch(t.tag){case 3:E_(t),ei();break;case 5:e_(t);break;case 1:Ut(t.type)&&Pc(t);break;case 4:kp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;De(Mc,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(De(Ve,Ve.current&1),t.flags|=128,null):n&t.child.childLanes?T_(e,t,n):(De(Ve,Ve.current&1),e=Ir(e,t,n),e!==null?e.sibling:null);De(Ve,Ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return N_(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),De(Ve,Ve.current),r)break;return null;case 22:case 23:return t.lanes=0,C_(e,t,n)}return Ir(e,t,n)}var R_,sh,I_,P_;R_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sh=function(){};I_=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Us(or.current);var o=null;switch(n){case"input":s=Ef(e,s),r=Ef(e,r),o=[];break;case"select":s=Ke({},s,{value:void 0}),r=Ke({},r,{value:void 0}),o=[];break;case"textarea":s=Rf(e,s),r=Rf(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Rc)}Pf(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(va.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(va.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Be("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};P_=function(e,t,n,r){n!==r&&(t.flags|=4)};function $i(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _t(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function DR(e,t,n){var r=t.pendingProps;switch(vp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(t),null;case 1:return Ut(t.type)&&Ic(),_t(t),null;case 3:return r=t.stateNode,ni(),ze($t),ze(kt),Tp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(kl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pn!==null&&(fh(Pn),Pn=null))),sh(e,t),_t(t),null;case 5:Ep(t);var s=Us(Ia.current);if(n=t.type,e!==null&&t.stateNode!=null)I_(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return _t(t),null}if(e=Us(or.current),kl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Zn]=t,r[Na]=o,e=(t.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<Qi.length;s++)Be(Qi[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Ny(r,o),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Be("invalid",r);break;case"textarea":Iy(r,o),Be("invalid",r)}Pf(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Cl(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Cl(r.textContent,a,e),s=["children",""+a]):va.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Be("scroll",r)}switch(n){case"input":gl(r),Ry(r,o,!0);break;case"textarea":gl(r),Py(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Rc)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ob(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Zn]=t,e[Na]=r,R_(e,t,!1,!1),t.stateNode=e;e:{switch(i=Af(n,r),n){case"dialog":Be("cancel",e),Be("close",e),s=r;break;case"iframe":case"object":case"embed":Be("load",e),s=r;break;case"video":case"audio":for(s=0;s<Qi.length;s++)Be(Qi[s],e);s=r;break;case"source":Be("error",e),s=r;break;case"img":case"image":case"link":Be("error",e),Be("load",e),s=r;break;case"details":Be("toggle",e),s=r;break;case"input":Ny(e,r),s=Ef(e,r),Be("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ke({},r,{value:void 0}),Be("invalid",e);break;case"textarea":Iy(e,r),s=Rf(e,r),Be("invalid",e);break;default:s=r}Pf(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?lb(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ib(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xa(e,l):typeof l=="number"&&xa(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(va.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Be("scroll",e):l!=null&&rp(e,o,l,i))}switch(n){case"input":gl(e),Ry(e,r,!1);break;case"textarea":gl(e),Py(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ys(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?$o(e,!!r.multiple,o,!1):r.defaultValue!=null&&$o(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Rc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _t(t),null;case 6:if(e&&t.stateNode!=null)P_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=Us(Ia.current),Us(or.current),kl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zn]=t,(o=r.nodeValue!==n)&&(e=rn,e!==null))switch(e.tag){case 3:Cl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zn]=t,t.stateNode=r}return _t(t),null;case 13:if(ze(Ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&tn!==null&&t.mode&1&&!(t.flags&128))Yb(),ei(),t.flags|=98560,o=!1;else if(o=kl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(B(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[Zn]=t}else ei(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_t(t),o=!1}else Pn!==null&&(fh(Pn),Pn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ve.current&1?it===0&&(it=3):Bp())),t.updateQueue!==null&&(t.flags|=4),_t(t),null);case 4:return ni(),sh(e,t),e===null&&Ea(t.stateNode.containerInfo),_t(t),null;case 10:return _p(t.type._context),_t(t),null;case 17:return Ut(t.type)&&Ic(),_t(t),null;case 19:if(ze(Ve),o=t.memoizedState,o===null)return _t(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)$i(o,!1);else{if(it!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Dc(e),i!==null){for(t.flags|=128,$i(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return De(Ve,Ve.current&1|2),t.child}e=e.sibling}o.tail!==null&&Je()>si&&(t.flags|=128,r=!0,$i(o,!1),t.lanes=4194304)}else{if(!r)if(e=Dc(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),$i(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ue)return _t(t),null}else 2*Je()-o.renderingStartTime>si&&n!==1073741824&&(t.flags|=128,r=!0,$i(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=Ve.current,De(Ve,r?n&1|2:n&1),t):(_t(t),null);case 22:case 23:return Fp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Jt&1073741824&&(_t(t),t.subtreeFlags&6&&(t.flags|=8192)):_t(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function FR(e,t){switch(vp(t),t.tag){case 1:return Ut(t.type)&&Ic(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ni(),ze($t),ze(kt),Tp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ep(t),null;case 13:if(ze(Ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));ei()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Ve),null;case 4:return ni(),null;case 10:return _p(t.type._context),null;case 22:case 23:return Fp(),null;case 24:return null;default:return null}}var Nl=!1,St=!1,BR=typeof WeakSet=="function"?WeakSet:Set,G=null;function Oo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(e,t,r)}else n.current=null}function oh(e,t,n){try{n()}catch(r){Ge(e,t,r)}}var wv=!1;function zR(e,t){if(Uf=Ec,e=Lb(),gp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=i+s),h!==o||r!==0&&h.nodeType!==3||(l=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++u===s&&(a=i),p===o&&++d===r&&(l=i),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hf={focusedElem:e,selectionRange:n},Ec=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,b=w.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Rn(t.type,y),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(C){Ge(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return w=wv,wv=!1,w}function oa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&oh(t,n,o)}s=s.next}while(s!==r)}}function bu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ih(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function A_(e){var t=e.alternate;t!==null&&(e.alternate=null,A_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zn],delete t[Na],delete t[Kf],delete t[_R],delete t[SR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function j_(e){return e.tag===5||e.tag===3||e.tag===4}function bv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||j_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ah(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Rc));else if(r!==4&&(e=e.child,e!==null))for(ah(e,t,n),e=e.sibling;e!==null;)ah(e,t,n),e=e.sibling}function lh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(lh(e,t,n),e=e.sibling;e!==null;)lh(e,t,n),e=e.sibling}var pt=null,In=!1;function Wr(e,t,n){for(n=n.child;n!==null;)M_(e,t,n),n=n.sibling}function M_(e,t,n){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(hu,n)}catch{}switch(n.tag){case 5:St||Oo(n,t);case 6:var r=pt,s=In;pt=null,Wr(e,t,n),pt=r,In=s,pt!==null&&(In?(e=pt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(In?(e=pt,n=n.stateNode,e.nodeType===8?Id(e.parentNode,n):e.nodeType===1&&Id(e,n),Sa(e)):Id(pt,n.stateNode));break;case 4:r=pt,s=In,pt=n.stateNode.containerInfo,In=!0,Wr(e,t,n),pt=r,In=s;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&oh(n,t,i),s=s.next}while(s!==r)}Wr(e,t,n);break;case 1:if(!St&&(Oo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ge(n,t,a)}Wr(e,t,n);break;case 21:Wr(e,t,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,Wr(e,t,n),St=r):Wr(e,t,n);break;default:Wr(e,t,n)}}function _v(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new BR),t.forEach(function(r){var s=YR.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Tn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:pt=a.stateNode,In=!1;break e;case 3:pt=a.stateNode.containerInfo,In=!0;break e;case 4:pt=a.stateNode.containerInfo,In=!0;break e}a=a.return}if(pt===null)throw Error(B(160));M_(o,i,s),pt=null,In=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ge(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)O_(t,e),t=t.sibling}function O_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tn(t,e),Yn(e),r&4){try{oa(3,e,e.return),bu(3,e)}catch(y){Ge(e,e.return,y)}try{oa(5,e,e.return)}catch(y){Ge(e,e.return,y)}}break;case 1:Tn(t,e),Yn(e),r&512&&n!==null&&Oo(n,n.return);break;case 5:if(Tn(t,e),Yn(e),r&512&&n!==null&&Oo(n,n.return),e.flags&32){var s=e.stateNode;try{xa(s,"")}catch(y){Ge(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&rb(s,o),Af(a,i);var u=Af(a,o);for(i=0;i<l.length;i+=2){var d=l[i],h=l[i+1];d==="style"?lb(s,h):d==="dangerouslySetInnerHTML"?ib(s,h):d==="children"?xa(s,h):rp(s,d,h,u)}switch(a){case"input":Tf(s,o);break;case"textarea":sb(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?$o(s,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?$o(s,!!o.multiple,o.defaultValue,!0):$o(s,!!o.multiple,o.multiple?[]:"",!1))}s[Na]=o}catch(y){Ge(e,e.return,y)}}break;case 6:if(Tn(t,e),Yn(e),r&4){if(e.stateNode===null)throw Error(B(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(y){Ge(e,e.return,y)}}break;case 3:if(Tn(t,e),Yn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sa(t.containerInfo)}catch(y){Ge(e,e.return,y)}break;case 4:Tn(t,e),Yn(e);break;case 13:Tn(t,e),Yn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Lp=Je())),r&4&&_v(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(St=(u=St)||d,Tn(t,e),St=u):Tn(t,e),Yn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(G=e,d=e.child;d!==null;){for(h=G=d;G!==null;){switch(p=G,m=p.child,p.tag){case 0:case 11:case 14:case 15:oa(4,p,p.return);break;case 1:Oo(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){Ge(r,n,y)}}break;case 5:Oo(p,p.return);break;case 22:if(p.memoizedState!==null){Cv(h);continue}}m!==null?(m.return=p,G=m):Cv(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ab("display",i))}catch(y){Ge(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Ge(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Tn(t,e),Yn(e),r&4&&_v(e);break;case 21:break;default:Tn(t,e),Yn(e)}}function Yn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(j_(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(xa(s,""),r.flags&=-33);var o=bv(e);lh(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=bv(e);ah(e,a,i);break;default:throw Error(B(161))}}catch(l){Ge(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $R(e,t,n){G=e,L_(e)}function L_(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var s=G,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Nl;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||St;a=Nl;var u=St;if(Nl=i,(St=l)&&!u)for(G=s;G!==null;)i=G,l=i.child,i.tag===22&&i.memoizedState!==null?kv(s):l!==null?(l.return=i,G=l):kv(s);for(;o!==null;)G=o,L_(o),o=o.sibling;G=s,Nl=a,St=u}Sv(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,G=o):Sv(e)}}function Sv(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:St||bu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!St)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Rn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&av(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}av(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Sa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}St||t.flags&512&&ih(t)}catch(p){Ge(t,t.return,p)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function Cv(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function kv(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bu(4,t)}catch(l){Ge(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Ge(t,s,l)}}var o=t.return;try{ih(t)}catch(l){Ge(t,o,l)}break;case 5:var i=t.return;try{ih(t)}catch(l){Ge(t,i,l)}}}catch(l){Ge(t,t.return,l)}if(t===e){G=null;break}var a=t.sibling;if(a!==null){a.return=t.return,G=a;break}G=t.return}}var UR=Math.ceil,zc=Or.ReactCurrentDispatcher,Mp=Or.ReactCurrentOwner,vn=Or.ReactCurrentBatchConfig,Ce=0,ft=null,tt=null,mt=0,Jt=0,Lo=_s(0),it=0,Ma=null,Ys=0,_u=0,Op=0,ia=null,Bt=null,Lp=0,si=1/0,xr=null,$c=!1,ch=null,ps=null,Rl=!1,as=null,Uc=0,aa=0,uh=null,oc=-1,ic=0;function At(){return Ce&6?Je():oc!==-1?oc:oc=Je()}function ms(e){return e.mode&1?Ce&2&&mt!==0?mt&-mt:kR.transition!==null?(ic===0&&(ic=wb()),ic):(e=je,e!==0||(e=window.event,e=e===void 0?16:Tb(e.type)),e):1}function Mn(e,t,n,r){if(50<aa)throw aa=0,uh=null,Error(B(185));Ga(e,n,r),(!(Ce&2)||e!==ft)&&(e===ft&&(!(Ce&2)&&(_u|=n),it===4&&ss(e,mt)),Ht(e,r),n===1&&Ce===0&&!(t.mode&1)&&(si=Je()+500,vu&&Ss()))}function Ht(e,t){var n=e.callbackNode;kN(e,t);var r=kc(e,e===ft?mt:0);if(r===0)n!==null&&My(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&My(n),t===1)e.tag===0?CR(Ev.bind(null,e)):Kb(Ev.bind(null,e)),wR(function(){!(Ce&6)&&Ss()}),n=null;else{switch(bb(r)){case 1:n=lp;break;case 4:n=vb;break;case 16:n=Cc;break;case 536870912:n=xb;break;default:n=Cc}n=V_(n,D_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function D_(e,t){if(oc=-1,ic=0,Ce&6)throw Error(B(327));var n=e.callbackNode;if(Ko()&&e.callbackNode!==n)return null;var r=kc(e,e===ft?mt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Hc(e,r);else{t=r;var s=Ce;Ce|=2;var o=B_();(ft!==e||mt!==t)&&(xr=null,si=Je()+500,Hs(e,t));do try{WR();break}catch(a){F_(e,a)}while(!0);bp(),zc.current=o,Ce=s,tt!==null?t=0:(ft=null,mt=0,t=it)}if(t!==0){if(t===2&&(s=Df(e),s!==0&&(r=s,t=dh(e,s))),t===1)throw n=Ma,Hs(e,0),ss(e,r),Ht(e,Je()),n;if(t===6)ss(e,r);else{if(s=e.current.alternate,!(r&30)&&!HR(s)&&(t=Hc(e,r),t===2&&(o=Df(e),o!==0&&(r=o,t=dh(e,o))),t===1))throw n=Ma,Hs(e,0),ss(e,r),Ht(e,Je()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:Ds(e,Bt,xr);break;case 3:if(ss(e,r),(r&130023424)===r&&(t=Lp+500-Je(),10<t)){if(kc(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){At(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Wf(Ds.bind(null,e,Bt,xr),t);break}Ds(e,Bt,xr);break;case 4:if(ss(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-jn(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*UR(r/1960))-r,10<r){e.timeoutHandle=Wf(Ds.bind(null,e,Bt,xr),r);break}Ds(e,Bt,xr);break;case 5:Ds(e,Bt,xr);break;default:throw Error(B(329))}}}return Ht(e,Je()),e.callbackNode===n?D_.bind(null,e):null}function dh(e,t){var n=ia;return e.current.memoizedState.isDehydrated&&(Hs(e,t).flags|=256),e=Hc(e,t),e!==2&&(t=Bt,Bt=n,t!==null&&fh(t)),e}function fh(e){Bt===null?Bt=e:Bt.push.apply(Bt,e)}function HR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Dn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ss(e,t){for(t&=~Op,t&=~_u,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jn(t),r=1<<n;e[n]=-1,t&=~r}}function Ev(e){if(Ce&6)throw Error(B(327));Ko();var t=kc(e,0);if(!(t&1))return Ht(e,Je()),null;var n=Hc(e,t);if(e.tag!==0&&n===2){var r=Df(e);r!==0&&(t=r,n=dh(e,r))}if(n===1)throw n=Ma,Hs(e,0),ss(e,t),Ht(e,Je()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ds(e,Bt,xr),Ht(e,Je()),null}function Dp(e,t){var n=Ce;Ce|=1;try{return e(t)}finally{Ce=n,Ce===0&&(si=Je()+500,vu&&Ss())}}function Xs(e){as!==null&&as.tag===0&&!(Ce&6)&&Ko();var t=Ce;Ce|=1;var n=vn.transition,r=je;try{if(vn.transition=null,je=1,e)return e()}finally{je=r,vn.transition=n,Ce=t,!(Ce&6)&&Ss()}}function Fp(){Jt=Lo.current,ze(Lo)}function Hs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xR(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(vp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ic();break;case 3:ni(),ze($t),ze(kt),Tp();break;case 5:Ep(r);break;case 4:ni();break;case 13:ze(Ve);break;case 19:ze(Ve);break;case 10:_p(r.type._context);break;case 22:case 23:Fp()}n=n.return}if(ft=e,tt=e=gs(e.current,null),mt=Jt=t,it=0,Ma=null,Op=_u=Ys=0,Bt=ia=null,$s!==null){for(t=0;t<$s.length;t++)if(n=$s[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}$s=null}return e}function F_(e,t){do{var n=tt;try{if(bp(),nc.current=Bc,Fc){for(var r=We.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Fc=!1}if(Gs=0,dt=ot=We=null,sa=!1,Pa=0,Mp.current=null,n===null||n.return===null){it=1,Ma=t,tt=null;break}e:{var o=e,i=n.return,a=n,l=t;if(t=mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=hv(i);if(m!==null){m.flags&=-257,pv(m,i,a,o,t),m.mode&1&&fv(o,u,t),t=m,l=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(l),t.updateQueue=y}else w.add(l);break e}else{if(!(t&1)){fv(o,u,t),Bp();break e}l=Error(B(426))}}else if(Ue&&a.mode&1){var b=hv(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),pv(b,i,a,o,t),xp(ri(l,a));break e}}o=l=ri(l,a),it!==4&&(it=2),ia===null?ia=[o]:ia.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=b_(o,l,t);iv(o,g);break e;case 1:a=l;var v=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ps===null||!ps.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var C=__(o,a,t);iv(o,C);break e}}o=o.return}while(o!==null)}$_(n)}catch(R){t=R,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function B_(){var e=zc.current;return zc.current=Bc,e===null?Bc:e}function Bp(){(it===0||it===3||it===2)&&(it=4),ft===null||!(Ys&268435455)&&!(_u&268435455)||ss(ft,mt)}function Hc(e,t){var n=Ce;Ce|=2;var r=B_();(ft!==e||mt!==t)&&(xr=null,Hs(e,t));do try{VR();break}catch(s){F_(e,s)}while(!0);if(bp(),Ce=n,zc.current=r,tt!==null)throw Error(B(261));return ft=null,mt=0,it}function VR(){for(;tt!==null;)z_(tt)}function WR(){for(;tt!==null&&!gN();)z_(tt)}function z_(e){var t=H_(e.alternate,e,Jt);e.memoizedProps=e.pendingProps,t===null?$_(e):tt=t,Mp.current=null}function $_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=FR(n,t),n!==null){n.flags&=32767,tt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{it=6,tt=null;return}}else if(n=DR(n,t,Jt),n!==null){tt=n;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);it===0&&(it=5)}function Ds(e,t,n){var r=je,s=vn.transition;try{vn.transition=null,je=1,KR(e,t,n,r)}finally{vn.transition=s,je=r}return null}function KR(e,t,n,r){do Ko();while(as!==null);if(Ce&6)throw Error(B(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(EN(e,o),e===ft&&(tt=ft=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rl||(Rl=!0,V_(Cc,function(){return Ko(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=vn.transition,vn.transition=null;var i=je;je=1;var a=Ce;Ce|=4,Mp.current=null,zR(e,n),O_(n,e),fR(Hf),Ec=!!Uf,Hf=Uf=null,e.current=n,$R(n),yN(),Ce=a,je=i,vn.transition=o}else e.current=n;if(Rl&&(Rl=!1,as=e,Uc=s),o=e.pendingLanes,o===0&&(ps=null),wN(n.stateNode),Ht(e,Je()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if($c)throw $c=!1,e=ch,ch=null,e;return Uc&1&&e.tag!==0&&Ko(),o=e.pendingLanes,o&1?e===uh?aa++:(aa=0,uh=e):aa=0,Ss(),null}function Ko(){if(as!==null){var e=bb(Uc),t=vn.transition,n=je;try{if(vn.transition=null,je=16>e?16:e,as===null)var r=!1;else{if(e=as,as=null,Uc=0,Ce&6)throw Error(B(331));var s=Ce;for(Ce|=4,G=e.current;G!==null;){var o=G,i=o.child;if(G.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(G=u;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:oa(8,d,o)}var h=d.child;if(h!==null)h.return=d,G=h;else for(;G!==null;){d=G;var p=d.sibling,m=d.return;if(A_(d),d===u){G=null;break}if(p!==null){p.return=m,G=p;break}G=m}}}var w=o.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}G=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,G=i;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:oa(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,G=g;break e}G=o.return}}var v=e.current;for(G=v;G!==null;){i=G;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,G=x;else e:for(i=v;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bu(9,a)}}catch(R){Ge(a,a.return,R)}if(a===i){G=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,G=C;break e}G=a.return}}if(Ce=s,Ss(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(hu,e)}catch{}r=!0}return r}finally{je=n,vn.transition=t}}return!1}function Tv(e,t,n){t=ri(n,t),t=b_(e,t,1),e=hs(e,t,1),t=At(),e!==null&&(Ga(e,1,t),Ht(e,t))}function Ge(e,t,n){if(e.tag===3)Tv(e,e,n);else for(;t!==null;){if(t.tag===3){Tv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ps===null||!ps.has(r))){e=ri(n,e),e=__(t,e,1),t=hs(t,e,1),e=At(),t!==null&&(Ga(t,1,e),Ht(t,e));break}}t=t.return}}function qR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=At(),e.pingedLanes|=e.suspendedLanes&n,ft===e&&(mt&n)===n&&(it===4||it===3&&(mt&130023424)===mt&&500>Je()-Lp?Hs(e,0):Op|=n),Ht(e,t)}function U_(e,t){t===0&&(e.mode&1?(t=xl,xl<<=1,!(xl&130023424)&&(xl=4194304)):t=1);var n=At();e=Rr(e,t),e!==null&&(Ga(e,t,n),Ht(e,n))}function GR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),U_(e,n)}function YR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),U_(e,n)}var H_;H_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||$t.current)zt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return zt=!1,LR(e,t,n);zt=!!(e.flags&131072)}else zt=!1,Ue&&t.flags&1048576&&qb(t,jc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;sc(e,t),e=t.pendingProps;var s=Zo(t,kt.current);Wo(t,n),s=Rp(null,t,r,e,s,n);var o=Ip();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ut(r)?(o=!0,Pc(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cp(t),s.updater=wu,t.stateNode=s,s._reactInternals=t,Jf(t,r,e,n),t=th(null,t,r,!0,o,n)):(t.tag=0,Ue&&o&&yp(t),Pt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(sc(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=QR(r),e=Rn(r,e),s){case 0:t=eh(null,t,r,e,n);break e;case 1:t=yv(null,t,r,e,n);break e;case 11:t=mv(null,t,r,e,n);break e;case 14:t=gv(null,t,r,Rn(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rn(r,s),eh(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rn(r,s),yv(e,t,r,s,n);case 3:e:{if(E_(t),e===null)throw Error(B(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Zb(e,t),Lc(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=ri(Error(B(423)),t),t=vv(e,t,r,n,s);break e}else if(r!==s){s=ri(Error(B(424)),t),t=vv(e,t,r,n,s);break e}else for(tn=fs(t.stateNode.containerInfo.firstChild),rn=t,Ue=!0,Pn=null,n=Qb(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ei(),r===s){t=Ir(e,t,n);break e}Pt(e,t,r,n)}t=t.child}return t;case 5:return e_(t),e===null&&Yf(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Vf(r,s)?i=null:o!==null&&Vf(r,o)&&(t.flags|=32),k_(e,t),Pt(e,t,i,n),t.child;case 6:return e===null&&Yf(t),null;case 13:return T_(e,t,n);case 4:return kp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ti(t,null,r,n):Pt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rn(r,s),mv(e,t,r,s,n);case 7:return Pt(e,t,t.pendingProps,n),t.child;case 8:return Pt(e,t,t.pendingProps.children,n),t.child;case 12:return Pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,De(Mc,r._currentValue),r._currentValue=i,o!==null)if(Dn(o.value,i)){if(o.children===s.children&&!$t.current){t=Ir(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=kr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Xf(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(B(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Xf(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Pt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Wo(t,n),s=xn(s),r=r(s),t.flags|=1,Pt(e,t,r,n),t.child;case 14:return r=t.type,s=Rn(r,t.pendingProps),s=Rn(r.type,s),gv(e,t,r,s,n);case 15:return S_(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rn(r,s),sc(e,t),t.tag=1,Ut(r)?(e=!0,Pc(t)):e=!1,Wo(t,n),w_(t,r,s),Jf(t,r,s,n),th(null,t,r,!0,e,n);case 19:return N_(e,t,n);case 22:return C_(e,t,n)}throw Error(B(156,t.tag))};function V_(e,t){return yb(e,t)}function XR(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,t,n,r){return new XR(e,t,n,r)}function zp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function QR(e){if(typeof e=="function")return zp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===op)return 11;if(e===ip)return 14}return 2}function gs(e,t){var n=e.alternate;return n===null?(n=yn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ac(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")zp(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Eo:return Vs(n.children,s,o,t);case sp:i=8,s|=8;break;case _f:return e=yn(12,n,t,s|2),e.elementType=_f,e.lanes=o,e;case Sf:return e=yn(13,n,t,s),e.elementType=Sf,e.lanes=o,e;case Cf:return e=yn(19,n,t,s),e.elementType=Cf,e.lanes=o,e;case eb:return Su(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Jw:i=10;break e;case Zw:i=9;break e;case op:i=11;break e;case ip:i=14;break e;case Zr:i=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=yn(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Vs(e,t,n,r){return e=yn(7,e,r,t),e.lanes=n,e}function Su(e,t,n,r){return e=yn(22,e,r,t),e.elementType=eb,e.lanes=n,e.stateNode={isHidden:!1},e}function Fd(e,t,n){return e=yn(6,e,null,t),e.lanes=n,e}function Bd(e,t,n){return t=yn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function JR(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xd(0),this.expirationTimes=xd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $p(e,t,n,r,s,o,i,a,l){return e=new JR(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=yn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cp(o),e}function ZR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ko,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function W_(e){if(!e)return vs;e=e._reactInternals;e:{if(so(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(Ut(n))return Wb(e,n,t)}return t}function K_(e,t,n,r,s,o,i,a,l){return e=$p(n,r,!0,e,s,o,i,a,l),e.context=W_(null),n=e.current,r=At(),s=ms(n),o=kr(r,s),o.callback=t??null,hs(n,o,s),e.current.lanes=s,Ga(e,s,r),Ht(e,r),e}function Cu(e,t,n,r){var s=t.current,o=At(),i=ms(s);return n=W_(n),t.context===null?t.context=n:t.pendingContext=n,t=kr(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=hs(s,t,i),e!==null&&(Mn(e,s,i,o),tc(e,s,i)),i}function Vc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Up(e,t){Nv(e,t),(e=e.alternate)&&Nv(e,t)}function eI(){return null}var q_=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hp(e){this._internalRoot=e}ku.prototype.render=Hp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));Cu(e,t,null,null)};ku.prototype.unmount=Hp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xs(function(){Cu(null,e,null,null)}),t[Nr]=null}};function ku(e){this._internalRoot=e}ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<rs.length&&t!==0&&t<rs[n].priority;n++);rs.splice(n,0,e),n===0&&Eb(e)}};function Vp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Eu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rv(){}function tI(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Vc(i);o.call(u)}}var i=K_(t,r,e,0,null,!1,!1,"",Rv);return e._reactRootContainer=i,e[Nr]=i.current,Ea(e.nodeType===8?e.parentNode:e),Xs(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Vc(l);a.call(u)}}var l=$p(e,0,!1,null,null,!1,!1,"",Rv);return e._reactRootContainer=l,e[Nr]=l.current,Ea(e.nodeType===8?e.parentNode:e),Xs(function(){Cu(t,l,n,r)}),l}function Tu(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=Vc(i);a.call(l)}}Cu(t,i,e,s)}else i=tI(n,t,e,s,r);return Vc(i)}_b=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Xi(t.pendingLanes);n!==0&&(cp(t,n|1),Ht(t,Je()),!(Ce&6)&&(si=Je()+500,Ss()))}break;case 13:Xs(function(){var r=Rr(e,1);if(r!==null){var s=At();Mn(r,e,1,s)}}),Up(e,1)}};up=function(e){if(e.tag===13){var t=Rr(e,134217728);if(t!==null){var n=At();Mn(t,e,134217728,n)}Up(e,134217728)}};Sb=function(e){if(e.tag===13){var t=ms(e),n=Rr(e,t);if(n!==null){var r=At();Mn(n,e,t,r)}Up(e,t)}};Cb=function(){return je};kb=function(e,t){var n=je;try{return je=e,t()}finally{je=n}};Mf=function(e,t,n){switch(t){case"input":if(Tf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=yu(r);if(!s)throw Error(B(90));nb(r),Tf(r,s)}}}break;case"textarea":sb(e,n);break;case"select":t=n.value,t!=null&&$o(e,!!n.multiple,t,!1)}};db=Dp;fb=Xs;var nI={usingClientEntryPoint:!1,Events:[Xa,Io,yu,cb,ub,Dp]},Ui={findFiberByHostInstance:zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rI={bundleType:Ui.bundleType,version:Ui.version,rendererPackageName:Ui.rendererPackageName,rendererConfig:Ui.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Or.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mb(e),e===null?null:e.stateNode},findFiberByHostInstance:Ui.findFiberByHostInstance||eI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{hu=Il.inject(rI),sr=Il}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nI;an.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vp(t))throw Error(B(200));return ZR(e,t,null,n)};an.createRoot=function(e,t){if(!Vp(e))throw Error(B(299));var n=!1,r="",s=q_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=$p(e,1,!1,null,null,n,!1,r,s),e[Nr]=t.current,Ea(e.nodeType===8?e.parentNode:e),new Hp(t)};an.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=mb(t),e=e===null?null:e.stateNode,e};an.flushSync=function(e){return Xs(e)};an.hydrate=function(e,t,n){if(!Eu(t))throw Error(B(200));return Tu(null,e,t,!0,n)};an.hydrateRoot=function(e,t,n){if(!Vp(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=q_;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=K_(t,null,e,1,n??null,s,!1,o,i),e[Nr]=t.current,Ea(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ku(t)};an.render=function(e,t,n){if(!Eu(t))throw Error(B(200));return Tu(null,e,t,!1,n)};an.unmountComponentAtNode=function(e){if(!Eu(e))throw Error(B(40));return e._reactRootContainer?(Xs(function(){Tu(null,null,e,!1,function(){e._reactRootContainer=null,e[Nr]=null})}),!0):!1};an.unstable_batchedUpdates=Dp;an.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Eu(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return Tu(e,t,n,!1,r)};an.version="18.3.1-next-f1338f8080-20240426";function G_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(G_)}catch(e){console.error(e)}}G_(),Gw.exports=an;var yi=Gw.exports;const sI=hi(yi);var Y_,Iv=yi;Y_=Iv.createRoot,Iv.hydrateRoot;function oI(e){const t=[];for(const n of e.commitTasks)try{n()}catch(r){t.push(r)}if(t.length>0){if(t.length===1)throw t[0];for(const n of t)console.error(n);throw new AggregateError(t,"Errors during commit")}}function iI(e){var n;const t=[];for(const r of e.cells)if((r==null?void 0:r.type)==="effect"&&(r.deps=null,r.cleanup))try{(n=r.cleanup)==null||n.call(r)}catch(s){t.push(s)}finally{r.cleanup=void 0}if(t.length>0){if(t.length===1)throw t[0];for(const r of t)console.error(r);throw new AggregateError(t,"Errors during cleanup")}}let la=null;function aI(e,t){e.currentIndex=0;const n=la;la=e;try{if(t(),e.isFirstRender=!1,e.cells.length!==e.currentIndex)throw new Error(`Rendered ${e.currentIndex} hooks but expected ${e.cells.length}. Hooks must be called in the exact same order in every render.`)}finally{la=n}}function Wp(){if(!la)throw new Error("No resource fiber available");return la}function lI(e){return null}function X_(e,t){const n=e[Q_];if(!n)throw new Error("ResourceElement.type is not a valid Resource");return n(t)}const Q_=Symbol("fnSymbol");function Oa(e,t,n=lI()){return{type:e,dispatchUpdate:t,devStrictMode:n,cells:[],currentIndex:0,renderContext:void 0,isFirstRender:!0,isMounted:!1,isNeverMounted:!0}}function qo(e){if(!e.isMounted)throw new Error("Tried to unmount a fiber that is already unmounted");e.isMounted=!1,iI(e)}function Ws(e,t){const n={commitTasks:[],props:t,output:void 0};return aI(e,()=>{e.renderContext=n;try{n.output=X_(e.type,t)}finally{e.renderContext=void 0}}),n}function La(e,t){e.isMounted=!0,e.isNeverMounted=!1,oI(t)}const cI=()=>null,uI=(e,t)=>e+(t()?1:0);function dI(e){const[,t]=f.useReducer(uI,0),n=cI(),r=f.useMemo(()=>Oa(e.type,t,n),[e.type,e.key]),s=Ws(r,e.props);return f.useLayoutEffect(()=>()=>qo(r),[r]),f.useLayoutEffect(()=>{La(r,s)}),s.output}function Me(e){const t=n=>({type:t,props:n});return t[Q_]=e,t}function Pr(e,t){return{...t,key:e}}const fI=(e,t)=>{if(e.renderContext)throw new Error("Resource updated during render");if(e.isMounted)e.dispatchUpdate(t);else if(e.isNeverMounted)throw new Error("Resource updated before mount")};function hI(e){const t=Wp(),n=t.currentIndex++;if(!t.isFirstRender&&n>=t.cells.length)throw new Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");const r=t.cells[n];if(r){if(r.type!=="state")throw new Error("Hook order changed between renders");return r}const o={type:"state",value:typeof e=="function"?e():e,set:i=>{fI(t,()=>{const a=o.value,l=typeof i=="function"?i(a):i;return Object.is(a,l)?!1:(o.value=l,!0)})}};return t.cells[n]=o,o}function Fn(e){const t=hI(e);return[t.value,t.set]}const J_=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0},pI=(e,t)=>{const n=Wp(),r=n.currentIndex++;if(!n.isFirstRender&&r>=n.cells.length)throw new Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");let s=n.cells[r];if(s||(s=t(),n.cells[r]=s),s.type!==e)throw new Error("Hook order changed between renders");return s},mI=e=>{Wp().renderContext.commitTasks.push(e)},gI=()=>({type:"effect",cleanup:void 0,deps:null});function yt(e,t){const n=pI("effect",gI);if(!(t&&n.deps&&J_(n.deps,t))){if(n.deps!==null&&!!t!=!!n.deps)throw new Error("tapEffect called with and without dependencies across re-renders");mI(()=>{var s;const r=[];try{(s=n.cleanup)==null||s.call(n)}catch(o){r.push(o)}finally{n.cleanup=void 0}try{const o=e();if(o!==void 0&&typeof o!="function")throw new Error(`An effect function must either return a cleanup function or nothing. Received: ${typeof o}`);n.cleanup=o}catch(o){r.push(o)}if(n.deps=t,r.length>0){if(r.length===1)throw r[0];for(const o of r)console.error(o);throw new AggregateError(r,"Errors during commit")}})}}function ls(e){const[t]=Fn(()=>({current:e}));return t}function oi(e,t){const[n]=Fn(e);return n}const ke=(e,t)=>{const n=ls();return n.current||(n.current={value:e(),deps:t}),J_(n.current.deps,t)||(n.current.value=e(),n.current.deps=t),n.current.value},Z_=(e,t)=>ke(()=>e,t);function Kp(e){const t=ls(e);return yt(()=>{t.current=e}),t.current}function eS(e,t){const[n,r]=Fn(0),s=oi(()=>()=>r(a=>a+1)),o=ke(()=>(e.key,Oa(e.type,a=>{a()&&s()})),[e.type,e.key]),i=Ws(o,e.props);return yt(()=>()=>qo(o),[o]),yt(()=>{La(o,i)},[o,i]),i.output}function cr(e){return X_(e.type,e.props)}function qp(e,t){const[n,r]=Fn(0),s=oi(()=>()=>r(l=>l+1)),o=oi(()=>new Map),i=t?Z_(e,t):e,a=ke(()=>{const l=i(),u=new Set,d=[];let h=0;for(let p=0;p<l.length;p++){const m=l[p],w=m.key;if(w===void 0)throw new Error(`tapResources did not provide a key for array at index ${p}`);if(u.has(w))throw new Error(`Duplicate key ${w} in tapResources`);u.add(w);let y=o.get(w);if(y)if(y.fiber.type!==m.type){const b=Oa(m.type,v=>{v()&&s()}),g=Ws(b,m.props);y.next=[b,g],d.push(g.output)}else y.next=Ws(y.fiber,m.props),d.push(y.next.output);else{const b=Oa(m.type,v=>{v()&&s()}),g=Ws(b,m.props);y={fiber:b,next:g},h++,o.set(w,y),d.push(g.output)}}if(o.size>d.length-h)for(const p of o.keys())u.has(p)||(o.get(p).next="delete");return d},[i,n]);return yt(()=>()=>{for(const l of o.keys()){const u=o.get(l).fiber;qo(u)}},[]),yt(()=>{for(const[l,u]of o.entries())u.next==="delete"?(u.fiber.isMounted&&qo(u.fiber),o.delete(l)):Array.isArray(u.next)?(qo(u.fiber),u.fiber=u.next[0],La(u.fiber,u.next[1])):La(u.fiber,u.next)},[a]),a}const yI=50;let nr={schedulers:new Set([]),isScheduled:!1};class vI{constructor(t){P(this,"_task");P(this,"_isDirty",!1);this._task=t}get isDirty(){return this._isDirty}markDirty(){this._isDirty=!0,nr.schedulers.add(this),xI()}runTask(){this._isDirty=!1,this._task()}}const xI=()=>{nr.isScheduled||(nr.isScheduled=!0,queueMicrotask(tS))},tS=()=>{try{const e=[];let t=0;for(const n of nr.schedulers)if(nr.schedulers.delete(n),!!n.isDirty){if(t++,t>yI)throw new Error("Maximum update depth exceeded. This can happen when a resource repeatedly calls setState inside tapEffect.");try{n.runTask()}catch(r){e.push(r)}}if(e.length>0){if(e.length===1)throw e[0];for(const n of e)console.error(n);throw new AggregateError(e,"Errors occurred during flushSync")}}finally{nr.schedulers.clear(),nr.isScheduled=!1}},nS=e=>{const t=nr;nr={schedulers:new Set([]),isScheduled:!0};try{const n=e();return tS(),n}finally{nr=t}},wI=e=>{const t=oi(()=>new vI(()=>{r.current=null,l()})),n=ke(()=>(e.key,Oa(e.type,u=>{u()&&t.markDirty()})),[e.type,e.key]),r=ls(null);r.current=Ws(n,e.props);const s=ls(!1),o=ls(e.props),i=ls(r.current.output),a=oi(()=>new Set),l=Kp(()=>{s.current&&(r.current===null&&(r.current=Ws(n,o.current)),!t.isDirty&&(o.current=r.current.props,La(n,r.current),!(t.isDirty||i.current===r.current.output)&&(i.current=r.current.output,a.forEach(u=>u()))))});return yt(()=>(s.current=!0,()=>{s.current=!1,qo(n)}),[n]),yt(()=>{nS(l)}),ke(()=>({getValue:()=>i.current,subscribe:u=>(a.add(u),()=>a.delete(u))}),[])},ca=Symbol("tap.Context"),rS=e=>({[ca]:e}),sS=(e,t,n)=>{const r=e[ca];e[ca]=t;try{return n()}finally{e[ca]=r}},oS=e=>e[ca],hh=Symbol("assistant-ui.store.clientIndex"),bI=e=>e[hh],iS=rS([]),Gp=()=>oS(iS),_I=(e,t)=>{const n=Gp(),r=ke(()=>[...n,e],[n,e]);return sS(iS,r,t)},SI=new Set(["$$typeof","nodeType","then"]),Nu=(e,t)=>{if(e===Symbol.toStringTag)return t;if(typeof e!="symbol"){if(e==="toJSON")return()=>t;if(!SI.has(e))return!1}};class Yp{getOwnPropertyDescriptor(t,n){const r=this.get(t,n);if(r!==void 0)return{value:r,writable:!1,enumerable:!0,configurable:!1}}set(){return!1}setPrototypeOf(){return!1}defineProperty(){return!1}deleteProperty(){return!1}preventExtensions(){return!1}}const aS=e=>{const t=Me(e);return n=>{const r=t(n);return n.key===void 0?r:Pr(n.key,r)}},Wc=Symbol("assistant-ui.store.getValue"),CI=e=>{const t=e[Wc];if(!t)throw new Error("Client scope contains a non-client resource. Ensure your Derived get() returns a client created with tapClientResource(), not a plain resource.");return t.state},Pv=new Map;function kI(e){let t=Pv.get(e);return t||(t=function(...n){if(!this||typeof this!="object")throw new Error(`Method "${String(e)}" called without proper context. This may indicate the function was called incorrectly.`);const r=this[Wc];if(!r)throw new Error(`Method "${String(e)}" called on invalid client proxy. Ensure you are calling this method on a valid client instance.`);const s=r.methods[e];if(!s)throw new Error(`Method "${String(e)}" is not implemented.`);if(typeof s!="function")throw new Error(`"${String(e)}" is not a function.`);return s(...n)},Pv.set(e,t)),t}class EI extends Yp{constructor(n,r){super();P(this,"outputRef");P(this,"index");P(this,"boundFns");P(this,"cachedReceiver");this.outputRef=n,this.index=r}get(n,r,s){if(r===Wc)return this.outputRef.current;if(r===hh)return this.index;const o=Nu(r,"ClientProxy");if(o!==!1)return o;const i=this.outputRef.current.methods[r];if(typeof i=="function"){this.cachedReceiver!==s&&(this.boundFns=new Map,this.cachedReceiver=s);let a=this.boundFns.get(r);return a||(a=kI(r).bind(s),this.boundFns.set(r,a)),a}return i}ownKeys(){return Object.keys(this.outputRef.current.methods)}has(n,r){return r===Wc||r===hh?!0:r in this.outputRef.current.methods}}const lS=aS(e=>{const t=ls(null),n=Gp().length,r=ke(()=>new Proxy({},new EI(t,n)),[n]),s=_I(r,()=>eS(e));return t.current||(t.current=s),yt(()=>{t.current=s}),{methods:r,state:s.state,key:e.key}}),Ru=e=>cr(lS(e)),ua=Symbol("assistant-ui.store.proxiedAssistantState"),zd=e=>e==="on"||e==="subscribe"||typeof e=="symbol",cS=e=>{class t extends Yp{get(r,s){const o=Nu(s,"AssistantState");if(o!==!1)return o;const i=s;if(!zd(i))return CI(e[i]())}ownKeys(){return Object.keys(e).filter(r=>!zd(r))}has(r,s){return!zd(s)&&s in e}}return new Proxy({},new t)},TI=e=>e[ua],Av=()=>()=>{},uS=e=>{const t=()=>{throw new Error(e)};return t.source=null,t.query=null,t};class NI extends Yp{get(t,n){if(n==="subscribe"||n==="on")return Av;if(n===ua)return RI;const r=Nu(n,"DefaultAssistantClient");return r!==!1?r:uS("You are using a component or hook that requires an AuiProvider. Wrap your component in an <AuiProvider> component.")}ownKeys(){return["subscribe","on",ua]}has(t,n){return n==="subscribe"||n==="on"||n===ua}}const Iu=new Proxy({},new NI),RI=cS(Iu),II=()=>new Proxy({},{get(e,t){const n=Nu(t,"AssistantClient");return n!==!1?n:uS(`The current scope does not have a "${String(t)}" property.`)}}),dS=f.createContext(Iu),PI=()=>f.useContext(dS),Cs=({value:e,children:t})=>c.jsx(dS.Provider,{value:e,children:t}),On=Me(e=>null),ph=Symbol("assistant-ui.default-peers");function fS(e,t){const n=e,r=n[ph]??{};for(const s of Object.keys(t))if(s in r)throw new Error(`Default peer "${s}" is already attached to this resource`);n[ph]={...r,...t}}function AI(e){return e[ph]}function jI(e,t){const n={},r={};for(const[o,i]of Object.entries(e))i.type===On?r[o]=i:n[o]=i;const s=(o,i=new Set)=>{if(i.has(o))return[];i.add(o);const a=AI(o.type);if(!a)return[];const l=[];for(const[u,d]of Object.entries(a))if(l.push([u,d]),d.type!==On){const h=s(d,i);l.push(...h)}return l};for(const[o,i]of Object.entries(n)){const a=s(i);for(const[l,u]of a)l in n||l in r||t[l].source!==null||(u.type===On?r[l]=u:n[l]=u)}return{rootClients:n,derivedClients:r}}const jv=e=>ke(()=>e,[...Object.entries(e).flat()]),MI=(e,t)=>{const{rootClients:n,derivedClients:r}=jI(e,t);return{rootClients:jv(n),derivedClients:jv(r)}},hS=e=>typeof e=="string"?{scope:e.split(".")[0],event:e}:{scope:e.scope,event:e.event},OI=Me(()=>oi(()=>{const e=new Map,t=new Set,n=new Set;return{on(r,s){const o=s;if(r==="*")return t.add(o),()=>t.delete(o);let i=e.get(r);return i||(i=new Set,e.set(r,i)),i.add(o),()=>{i.delete(o),i.size===0&&e.delete(r)}},emit(r,s,o){const i=e.get(r);!i&&t.size===0||queueMicrotask(()=>{const a=[];if(i)for(const l of i)try{l(s,o)}catch(u){a.push(u)}if(t.size>0){const l={event:r,payload:s};for(const u of t)try{u(l,o)}catch(d){a.push(d)}}if(a.length>0){if(a.length===1)throw a[0];for(const l of a)console.error(l);throw new AggregateError(a,"Errors occurred during event emission")}})},subscribe(r){return n.add(r),()=>n.delete(r)},notifySubscribers(){for(const r of n)try{r()}catch(s){console.error("NotificationManager: subscriber callback error",s)}}}})),pS=rS(null),LI=(e,t)=>sS(pS,e,t),mS=()=>{const e=oS(pS);if(!e)throw new Error("AssistantTapContext is not available");return e},gS=()=>mS().clientRef,Xp=()=>{const{emit:e}=mS(),t=Gp();return Kp((n,r)=>{e(n,r,t)})},yS=e=>ke(()=>e,e),DI=Me(({element:e,emit:t,clientRef:n})=>{const{methods:r,state:s}=LI({clientRef:n,emit:t},()=>Ru(e));return ke(()=>({state:s,methods:r}),[r,s])}),FI=Me(({element:e,notifications:t,clientRef:n,name:r})=>{const s=wI(DI({element:e,emit:t.emit,clientRef:n}));return yt(()=>s.subscribe(t.notifySubscribers),[s,t]),ke(()=>{const o=()=>s.getValue().methods;return Object.defineProperties(o,{source:{value:"root",writable:!1},query:{value:{},writable:!1},name:{value:r,configurable:!0}}),o},[s,r])}),BI=Me(()=>ke(()=>({clients:[],subscribe:void 0,on:void 0}),[])),zI=Me(({clients:e,clientRef:t})=>{const n=cr(OI());yt(()=>t.parent.subscribe(n.notifySubscribers),[t,n]);const r=yS(qp(()=>Object.keys(e).map(s=>Pr(s,FI({element:e[s],notifications:n,clientRef:t,name:s}))),[e,n,t]));return ke(()=>({clients:r,subscribe:n.subscribe,on:function(s,o){if(!this)throw new Error("const { on } = useAui() is not supported. Use aui.on() instead.");const{scope:i,event:a}=hS(s);if(i!=="*"&&this[i].source===null)throw new Error(`Scope "${i}" is not available. Use { scope: "*", event: "${a}" } to listen globally.`);const l=n.on(a,(d,h)=>{if(i==="*"){o(d);return}const p=this[i](),m=bI(p);p===h[m]&&o(d)});if(i!=="*"&&t.parent[i].source===null)return l;const u=t.parent.on(s,o);return()=>{l(),u()}}}),[r,n,t])}),Mv=(e,t,n)=>{if("source"in e&&"query"in e)return e;if(n.dep===e)return n.meta;const r=e.getMeta(t.current);return n.meta=r,n.dep=e,r},$I=Me(({element:e,clientRef:t,name:n})=>{const r=Kp(()=>e.props);return ke(()=>{const s=()=>r().get(t.current),o={};return Object.defineProperties(s,{source:{get:()=>Mv(r(),t,o).source},query:{get:()=>Mv(r(),t,o).query},name:{value:n,configurable:!0}}),s},[t,n])}),UI=Me(({clients:e,clientRef:t})=>yS(qp(()=>Object.keys(e).map(n=>Pr(n,$I({element:e[n],clientRef:t,name:n}))),[e,t]))),HI=Me(({parent:e,clients:t})=>{const{rootClients:n,derivedClients:r}=MI(t,e),s=ls({parent:e,current:null}).current;yt(()=>{s.current=a});const o=eS(Object.keys(n).length>0?zI({clients:n,clientRef:s}):BI()),i=cr(UI({clients:r,clientRef:s})),a=ke(()=>{const l=e===Iu?II():e,u=Object.create(l);Object.assign(u,{subscribe:o.subscribe??e.subscribe,on:o.on??e.on,[ua]:cS(u)});for(const d of o.clients)u[d.name]=d;for(const d of i)u[d.name]=d;return u},[e,o,i]);return s.current===null&&(s.current=a),a});function xe(e,{parent:t}={parent:PI()}){if(e)return dI(HI({parent:t??Iu,clients:e}));if(t===null)throw new Error("received null parent, this usage is not allowed");return t}const se=e=>{const t=xe(),n=TI(t),r=f.useSyncExternalStore(t.subscribe,()=>e(n),()=>e(n));if(r===n)throw new Error("You tried to return the entire AssistantState. This is not supported due to technical limitations.");return f.useDebugValue(r),r},VI=Se.createContext(!0);function Ov(){throw new Error("A function wrapped in useEffectEvent can't be called during rendering.")}const WI="use"in Se?()=>{try{return Se.use(VI)}catch{return!1}}:()=>!1;function KI(e){const t=Se.useRef(Ov);return Se.useInsertionEffect(()=>{t.current=e},[e]),(...n)=>{WI()&&Ov();const r=t.current;return r(...n)}}const $d=(e,t)=>{const n=xe(),r=KI(t),{scope:s,event:o}=hS(e);f.useEffect(()=>n.on({scope:s,event:o},r),[n,s,o,r])},qI=aS(e=>{if(e.key===void 0)throw new Error("tapClientResource: Element has no key");return cr(lS(e))});function ii(e,t){const n=qp(()=>e().map(i=>qI(i)),t),r=ke(()=>Object.keys(n),[n]),s=ke(()=>n.reduce((i,a,l)=>(i[a.key]=l,i),{}),[n]);return{state:ke(()=>n.map(i=>i.state),[n]),get:i=>{if("index"in i){if(i.index<0||i.index>=r.length)throw new Error(`tapClientLookup: Index ${i.index} out of bounds (length: ${r.length})`);return n[i.index].methods}const a=s[i.key];if(a===void 0)throw new Error(`tapClientLookup: Key "${i.key}" not found`);return n[a].methods}}}const GI=e=>Array.from(e).map(n=>n.getModelContext()).sort((n,r)=>(r.priority??0)-(n.priority??0)).reduce((n,r)=>{var s;if(r.system&&(n.system?n.system+=`

${r.system}`:n.system=r.system),r.tools)for(const[o,i]of Object.entries(r.tools)){const a=(s=n.tools)==null?void 0:s[o];if(a&&a!==i)throw new Error(`You tried to define a tool with the name ${o}, but it already exists.`);n.tools||(n.tools={}),n.tools[o]=i}return r.config&&(n.config={...n.config,...r.config}),r.callSettings&&(n.callSettings={...n.callSettings,...r.callSettings}),n},{});class Qp{constructor(){P(this,"_providers",new Set);P(this,"_subscribers",new Set)}getModelContext(){return GI(this._providers)}registerModelContextProvider(t){var r;this._providers.add(t);const n=(r=t.subscribe)==null?void 0:r.call(t,()=>{this.notifySubscribers()});return this.notifySubscribers(),()=>{this._providers.delete(t),n==null||n(),this.notifySubscribers()}}notifySubscribers(){for(const t of this._subscribers)t()}subscribe(t){return this._subscribers.add(t),()=>this._subscribers.delete(t)}}class Jp{constructor(){P(this,"_contextProvider",new Qp)}registerModelContextProvider(t){return this._contextProvider.registerModelContextProvider(t)}getModelContextProvider(){return this._contextProvider}}class Ja{constructor(){P(this,"_subscribers",new Set)}subscribe(t){return this._subscribers.add(t),()=>this._subscribers.delete(t)}waitForUpdate(){return new Promise(t=>{const n=this.subscribe(()=>{n(),t()})})}_notifySubscribers(){const t=[];for(const n of this._subscribers)try{n()}catch(r){t.push(r)}if(t.length>0){if(t.length===1)throw t[0];for(const n of t)console.error(n);throw new AggregateError(t)}}}const YI=e=>e.status.type==="complete";class vS extends Ja{constructor(){super(...arguments);P(this,"isEditing",!0);P(this,"_attachments",[]);P(this,"_text","");P(this,"_role","user");P(this,"_runConfig",{});P(this,"_dictation");P(this,"_dictationSession");P(this,"_dictationUnsubscribes",[]);P(this,"_dictationBaseText","");P(this,"_currentInterimText","");P(this,"_dictationSessionIdCounter",0);P(this,"_activeDictationSessionId");P(this,"_isCleaningDictation",!1);P(this,"_eventSubscribers",new Map)}get attachmentAccept(){var n;return((n=this.getAttachmentAdapter())==null?void 0:n.accept)??"*"}get attachments(){return this._attachments}setAttachments(n){this._attachments=n,this._notifySubscribers()}get isEmpty(){return!this.text.trim()&&!this.attachments.length}get text(){return this._text}get role(){return this._role}get runConfig(){return this._runConfig}setText(n){if(this._text!==n){if(this._text=n,this._dictation){this._dictationBaseText=n,this._currentInterimText="";const{status:r,inputDisabled:s}=this._dictation;this._dictation=s?{status:r,inputDisabled:s}:{status:r}}this._notifySubscribers()}}setRole(n){this._role!==n&&(this._role=n,this._notifySubscribers())}setRunConfig(n){this._runConfig!==n&&(this._runConfig=n,this._notifySubscribers())}_emptyTextAndAttachments(){this._attachments=[],this._text="",this._notifySubscribers()}async _onClearAttachments(){const n=this.getAttachmentAdapter();n&&await Promise.all(this._attachments.map(r=>n.remove(r)))}async reset(){if(this._attachments.length===0&&this._text===""&&this._role==="user"&&Object.keys(this._runConfig).length===0)return;this._role="user",this._runConfig={};const n=this._onClearAttachments();this._emptyTextAndAttachments(),await n}async clearAttachments(){const n=this._onClearAttachments();this.setAttachments([]),await n}async send(){this._dictationSession&&(this._dictationSession.cancel(),this._cleanupDictation());const n=this.getAttachmentAdapter(),r=n&&this.attachments.length>0?Promise.all(this.attachments.map(async i=>YI(i)?i:await n.send(i))):[],s=this.text;this._emptyTextAndAttachments();const o={createdAt:new Date,role:this.role,content:s?[{type:"text",text:s}]:[],attachments:await r,runConfig:this.runConfig,metadata:{custom:{}}};this.handleSend(o),this._notifyEventSubscribers("send")}cancel(){this.handleCancel()}async addAttachment(n){const r=this.getAttachmentAdapter();if(!r)throw new Error("Attachments are not supported");const s=i=>{const a=this._attachments.findIndex(l=>l.id===i.id);a!==-1?this._attachments=[...this._attachments.slice(0,a),i,...this._attachments.slice(a+1)]:this._attachments=[...this._attachments,i],this._notifySubscribers()},o=r.add({file:n});if(Symbol.asyncIterator in o)for await(const i of o)s(i);else s(await o);this._notifyEventSubscribers("attachmentAdd"),this._notifySubscribers()}async removeAttachment(n){const r=this.getAttachmentAdapter();if(!r)throw new Error("Attachments are not supported");const s=this._attachments.findIndex(i=>i.id===n);if(s===-1)throw new Error("Attachment not found");const o=this._attachments[s];await r.remove(o),this._attachments=[...this._attachments.slice(0,s),...this._attachments.slice(s+1)],this._notifySubscribers()}get dictation(){return this._dictation}_isActiveSession(n,r){return this._activeDictationSessionId===n&&this._dictationSession===r}startDictation(){const n=this.getDictationAdapter();if(!n)throw new Error("Dictation adapter not configured");if(this._dictationSession){for(const h of this._dictationUnsubscribes)h();this._dictationUnsubscribes=[],this._dictationSession.stop().catch(()=>{}),this._dictationSession=void 0}const r=n.disableInputDuringDictation??!1;this._dictationBaseText=this._text,this._currentInterimText="";const s=n.listen();this._dictationSession=s;const o=++this._dictationSessionIdCounter;this._activeDictationSessionId=o,this._dictation={status:s.status,inputDisabled:r},this._notifySubscribers();const i=s.onSpeech(d=>{if(!this._isActiveSession(o,s))return;const h=d.isFinal!==!1,m=this._dictationBaseText&&!this._dictationBaseText.endsWith(" ")&&d.transcript?" ":"";if(h){if(this._dictationBaseText=this._dictationBaseText+m+d.transcript,this._currentInterimText="",this._text=this._dictationBaseText,this._dictation){const{transcript:w,...y}=this._dictation;this._dictation=y}this._notifySubscribers()}else this._currentInterimText=m+d.transcript,this._text=this._dictationBaseText+this._currentInterimText,this._dictation&&(this._dictation={...this._dictation,transcript:d.transcript}),this._notifySubscribers()});this._dictationUnsubscribes.push(i);const a=s.onSpeechStart(()=>{var d;this._isActiveSession(o,s)&&(this._dictation={status:{type:"running"},inputDisabled:r,...((d=this._dictation)==null?void 0:d.transcript)&&{transcript:this._dictation.transcript}},this._notifySubscribers())});this._dictationUnsubscribes.push(a);const l=s.onSpeechEnd(()=>{this._cleanupDictation({sessionId:o})});this._dictationUnsubscribes.push(l);const u=setInterval(()=>{this._isActiveSession(o,s)&&s.status.type==="ended"&&this._cleanupDictation({sessionId:o})},100);this._dictationUnsubscribes.push(()=>clearInterval(u))}stopDictation(){if(!this._dictationSession)return;const n=this._dictationSession,r=this._activeDictationSessionId;n.stop().finally(()=>{this._cleanupDictation({sessionId:r})})}_cleanupDictation(n){if(!((n==null?void 0:n.sessionId)!==void 0&&n.sessionId!==this._activeDictationSessionId||this._isCleaningDictation)){this._isCleaningDictation=!0;try{for(const s of this._dictationUnsubscribes)s();this._dictationUnsubscribes=[],this._dictationSession=void 0,this._activeDictationSessionId=void 0,this._dictation=void 0,this._dictationBaseText="",this._currentInterimText="",this._notifySubscribers()}finally{this._isCleaningDictation=!1}}}_notifyEventSubscribers(n){const r=this._eventSubscribers.get(n);if(r)for(const s of r)s()}unstable_on(n,r){const s=this._eventSubscribers.get(n);return s?s.add(r):this._eventSubscribers.set(n,new Set([r])),()=>{const o=this._eventSubscribers.get(n);o&&o.delete(r)}}}class xS extends vS{constructor(n){super();P(this,"runtime");P(this,"_canCancel",!1);this.runtime=n,this.connect()}get canCancel(){return this._canCancel}get attachments(){return super.attachments}getAttachmentAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.attachments}getDictationAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.dictation}connect(){return this.runtime.subscribe(()=>{this.canCancel!==this.runtime.capabilities.cancel&&(this._canCancel=this.runtime.capabilities.cancel,this._notifySubscribers())})}async handleSend(n){var r;this.runtime.append({...n,parentId:((r=this.runtime.messages.at(-1))==null?void 0:r.id)??null,sourceId:null})}async handleCancel(){this.runtime.cancelRun()}}let XI=(e,t=21)=>(n=t)=>{let r="",s=n|0;for(;s--;)r+=e[Math.random()*e.length|0];return r};const Qs=XI("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7),QI="__optimistic__",JI=()=>`${QI}${Qs()}`,Pu=Symbol("autoStatus"),ZI=Object.freeze(Object.assign({type:"running"},{[Pu]:!0})),eP=Object.freeze(Object.assign({type:"complete",reason:"unknown"},{[Pu]:!0})),tP=Object.freeze(Object.assign({type:"requires-action",reason:"tool-calls"},{[Pu]:!0})),nP=Object.freeze(Object.assign({type:"requires-action",reason:"interrupt"},{[Pu]:!0})),wS=(e,t,n,r,s)=>e&&t?ZI:n?nP:r?tP:eP;var vi={exports:{}};const rP=typeof Buffer<"u",Lv=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,Dv=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function bS(e,t,n){n==null&&t!==null&&typeof t=="object"&&(n=t,t=void 0),rP&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));const r=JSON.parse(e,t);if(r===null||typeof r!="object")return r;const s=n&&n.protoAction||"error",o=n&&n.constructorAction||"error";if(s==="ignore"&&o==="ignore")return r;if(s!=="ignore"&&o!=="ignore"){if(Lv.test(e)===!1&&Dv.test(e)===!1)return r}else if(s!=="ignore"&&o==="ignore"){if(Lv.test(e)===!1)return r}else if(Dv.test(e)===!1)return r;return _S(r,{protoAction:s,constructorAction:o,safe:n&&n.safe})}function _S(e,{protoAction:t="error",constructorAction:n="error",safe:r}={}){let s=[e];for(;s.length;){const o=s;s=[];for(const i of o){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(i,"__proto__")){if(r===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete i.__proto__}if(n!=="ignore"&&Object.prototype.hasOwnProperty.call(i,"constructor")&&i.constructor!==null&&typeof i.constructor=="object"&&Object.prototype.hasOwnProperty.call(i.constructor,"prototype")){if(r===!0)return null;if(n==="error")throw new SyntaxError("Object contains forbidden prototype property");delete i.constructor}for(const a in i){const l=i[a];l&&typeof l=="object"&&s.push(l)}}}return e}function Zp(e,t,n){const{stackTraceLimit:r}=Error;Error.stackTraceLimit=0;try{return bS(e,t,n)}finally{Error.stackTraceLimit=r}}function sP(e,t){const{stackTraceLimit:n}=Error;Error.stackTraceLimit=0;try{return bS(e,t,{safe:!0})}catch{return}finally{Error.stackTraceLimit=n}}vi.exports=Zp;vi.exports.default=Zp;vi.exports.parse=Zp;vi.exports.safeParse=sP;vi.exports.scan=_S;var oP=vi.exports;const Fv=hi(oP);function iP(e){const t=["ROOT"];let n=-1,r=null;const s=[];let o;function i(){o!==void 0&&(s.push(JSON.parse(`"${o}"`)),o=void 0)}function a(h,p,m){switch(h){case'"':{n=p,t.pop(),t.push(m),t.push("INSIDE_STRING"),i();break}case"f":case"t":case"n":{n=p,r=p,t.pop(),t.push(m),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(m),t.push("INSIDE_NUMBER"),i();break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=p,t.pop(),t.push(m),t.push("INSIDE_NUMBER"),i();break}case"{":{n=p,t.pop(),t.push(m),t.push("INSIDE_OBJECT_START"),i();break}case"[":{n=p,t.pop(),t.push(m),t.push("INSIDE_ARRAY_START"),i();break}}}function l(h,p){switch(h){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=p,t.pop(),o=s.pop();break}}}function u(h,p){switch(h){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA"),o=(Number(o)+1).toString();break}case"]":{n=p,t.pop(),o=s.pop();break}}}for(let h=0;h<e.length;h++){const p=e[h];switch(t[t.length-1]){case"ROOT":a(p,h,"FINISH");break;case"INSIDE_OBJECT_START":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY"),o="";break}case"}":{n=h,t.pop(),o=s.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY"),o="";break}}break}case"INSIDE_OBJECT_KEY":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}case"\\":{t.push("INSIDE_STRING_ESCAPE"),o+=p;break}default:{o+=p;break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(p){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{a(p,h,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{l(p,h);break}case"INSIDE_STRING":{switch(p){case'"':{t.pop(),n=h,o=s.pop();break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=h}break}case"INSIDE_ARRAY_START":{switch(p){case"]":{n=h,t.pop(),o=s.pop();break}default:{n=h,o="0",a(p,h,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(p){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA"),o=(Number(o)+1).toString();break}case"]":{n=h,t.pop(),o=s.pop();break}default:{n=h;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{a(p,h,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),t[t.length-1]==="INSIDE_STRING"?n=h:t[t.length-1]==="INSIDE_OBJECT_KEY"&&(o+=p);break}case"INSIDE_NUMBER":{switch(p){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=h;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),o=s.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(p,h),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&l(p,h);break}case"}":{t.pop(),o=s.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&l(p,h);break}case"]":{t.pop(),o=s.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(p,h);break}default:{t.pop(),o=s.pop();break}}break}case"INSIDE_LITERAL":{const w=e.substring(r,h+1);!"false".startsWith(w)&&!"true".startsWith(w)&&!"null".startsWith(w)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?l(p,h):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&u(p,h)):n=h;break}}}let d=e.slice(0,n+1);for(let h=t.length-1;h>=0;h--)switch(t[h]){case"INSIDE_STRING":{d+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{d+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{d+="]";break}case"INSIDE_LITERAL":{const m=e.substring(r,e.length);"true".startsWith(m)?d+="true".slice(m.length):"false".startsWith(m)?d+="false".slice(m.length):"null".startsWith(m)&&(d+="null".slice(m.length))}}return[d,s]}const Ud=Symbol("aui.parse-partial-json-object.meta"),SS=e=>{if(e.length===0)return{[Ud]:{state:"partial",partialPath:[]}};try{const t=Fv.parse(e);if(typeof t!="object"||t===null)throw new Error("argsText is expected to be an object");return t[Ud]={state:"complete",partialPath:[]},t}catch{try{const[t,n]=iP(e),r=Fv.parse(t);if(typeof r!="object"||r===null)throw new Error("argsText is expected to be an object");return r[Ud]={state:"partial",partialPath:n},r}catch{return}}},mh={toResponse(e,t){return new Response(mh.toByteStream(e,t),{headers:t.headers??{}})},fromResponse(e,t){return mh.fromByteStream(e.body,t)},toByteStream(e,t){return e.pipeThrough(t)},fromByteStream(e,t){return e.pipeThrough(t)}},CS=function(){let e,t;const n=new Promise((r,s)=>{e=r,t=s});if(!e||!t)throw new Error("Failed to create promise");return{promise:n,resolve:e,reject:t}},aP=()=>{const e=[];let t=!1,n,r;const s=i=>{i.promise||(i.promise=i.reader.read().then(({done:a,value:l})=>{i.promise=void 0,a?(e.splice(e.indexOf(i),1),t&&e.length===0&&n.close()):n.enqueue(l),r==null||r.resolve(),r=void 0}).catch(a=>{console.error(a),e.forEach(l=>{l.reader.cancel()}),e.length=0,n.error(a),r==null||r.reject(a),r=void 0}))};return{readable:new ReadableStream({start(i){n=i},pull(){return r=CS(),e.forEach(i=>{s(i)}),r.promise},cancel(){e.forEach(i=>{i.reader.cancel()}),e.length=0}}),isSealed(){return t},seal(){t=!0,e.length===0&&n.close()},addStream(i){if(t)throw new Error("Cannot add streams after the run callback has settled.");const a={reader:i.getReader()};e.push(a),s(a)},enqueue(i){this.addStream(new ReadableStream({start(a){a.enqueue(i),a.close()}}))}}};class Bv{constructor(t){P(this,"_controller");P(this,"_isClosed",!1);this._controller=t}append(t){return this._controller.enqueue({type:"text-delta",path:[],textDelta:t}),this}close(){this._isClosed||(this._isClosed=!0,this._controller.enqueue({type:"part-finish",path:[]}),this._controller.close())}}const kS=e=>new ReadableStream({start(t){var n;return(n=e.start)==null?void 0:n.call(e,new Bv(t))},pull(t){var n;return(n=e.pull)==null?void 0:n.call(e,new Bv(t))},cancel(t){var n;return(n=e.cancel)==null?void 0:n.call(e,t)}}),zv=()=>{let e;return[kS({start(n){e=n}}),e]};class $v{constructor(t){P(this,"_controller");P(this,"_isClosed",!1);P(this,"_mergeTask");P(this,"_argsTextController");this._controller=t;const n=kS({start:s=>{this._argsTextController=s}});let r=!1;this._mergeTask=n.pipeTo(new WritableStream({write:s=>{switch(s.type){case"text-delta":r=!0,this._controller.enqueue(s);break;case"part-finish":r||this._controller.enqueue({type:"text-delta",textDelta:"{}",path:[]}),this._controller.enqueue({type:"tool-call-args-text-finish",path:[]});break;default:throw new Error(`Unexpected chunk type: ${s.type}`)}}}))}get argsText(){return this._argsTextController}async setResponse(t){this._argsTextController.close(),await Promise.resolve(),this._controller.enqueue({type:"result",path:[],...t.artifact!==void 0?{artifact:t.artifact}:{},result:t.result,isError:t.isError??!1})}async close(){this._isClosed||(this._isClosed=!0,this._argsTextController.close(),await this._mergeTask,this._controller.enqueue({type:"part-finish",path:[]}),this._controller.close())}}const lP=e=>new ReadableStream({start(t){var n;return(n=e.start)==null?void 0:n.call(e,new $v(t))},pull(t){var n;return(n=e.pull)==null?void 0:n.call(e,new $v(t))},cancel(t){var n;return(n=e.cancel)==null?void 0:n.call(e,t)}}),cP=()=>{let e;return[lP({start(n){e=n}}),e]};class ES{constructor(){P(this,"value",-1)}up(){return++this.value}}class uP extends TransformStream{constructor(t){super({transform(n,r){r.enqueue({...n,path:[t,...n.path]})}})}}class I8 extends TransformStream{constructor(t){super({transform(n,r){const{path:[s,...o]}=n;if(t!==s)throw new Error(`Path mismatch: expected ${t}, got ${s}`);r.enqueue({...n,path:o})}})}}class dP extends TransformStream{constructor(t){const n=new ES,r=new Map;super({transform(s,o){s.type==="part-start"&&s.path.length===0&&r.set(n.up(),t.up());const[i,...a]=s.path;if(i===void 0){o.enqueue(s);return}const l=r.get(i);if(l===void 0)throw new Error("Path not found");o.enqueue({...s,path:[l,...a]})}})}}class fP extends TransformStream{constructor(t){super();const n=t(super.readable);Object.defineProperty(this,"readable",{value:n,writable:!1})}}let hP=(e,t=21)=>(n=t)=>{let r="",s=n|0;for(;s--;)r+=e[Math.random()*e.length|0];return r};const TS=hP("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7);class em{constructor(t){P(this,"_state");P(this,"_parentId");this._state=t||{merger:aP(),contentCounter:new ES}}get __internal_isClosed(){return this._state.merger.isSealed()}__internal_getReadable(){return this._state.merger.readable}__internal_subscribeToClose(t){this._state.closeSubscriber=t}_addPart(t,n){this._state.append&&(this._state.append.controller.close(),this._state.append=void 0),this.enqueue({type:"part-start",part:t,path:[]}),this._state.merger.addStream(n.pipeThrough(new uP(this._state.contentCounter.value)))}merge(t){this._state.merger.addStream(t.pipeThrough(new dP(this._state.contentCounter)))}appendText(t){var n;((n=this._state.append)==null?void 0:n.kind)!=="text"&&(this._state.append={kind:"text",controller:this.addTextPart()}),this._state.append.controller.append(t)}appendReasoning(t){var n;((n=this._state.append)==null?void 0:n.kind)!=="reasoning"&&(this._state.append={kind:"reasoning",controller:this.addReasoningPart()}),this._state.append.controller.append(t)}addTextPart(){const[t,n]=zv();return this._addPart({type:"text"},t),n}addReasoningPart(){const[t,n]=zv();return this._addPart({type:"reasoning"},t),n}addToolCallPart(t){const n=typeof t=="string"?{toolName:t}:t,r=n.toolName,s=n.toolCallId??TS(),[o,i]=cP();return this._addPart({type:"tool-call",toolName:r,toolCallId:s,...this._parentId&&{parentId:this._parentId}},o),n.argsText!==void 0&&(i.argsText.append(n.argsText),i.argsText.close()),n.args!==void 0&&(i.argsText.append(JSON.stringify(n.args)),i.argsText.close()),n.response!==void 0&&i.setResponse(n.response),i}appendSource(t){this._addPart({...t,...this._parentId&&{parentId:this._parentId}},new ReadableStream({start(n){n.enqueue({type:"part-finish",path:[]}),n.close()}}))}appendFile(t){this._addPart(t,new ReadableStream({start(n){n.enqueue({type:"part-finish",path:[]}),n.close()}}))}enqueue(t){this._state.merger.enqueue(t),t.type==="part-start"&&t.path.length===0&&this._state.contentCounter.up()}withParentId(t){const n=new em(this._state);return n._parentId=t,n}close(){var t,n,r,s;(n=(t=this._state.append)==null?void 0:t.controller)==null||n.close(),this._state.merger.seal(),(s=(r=this._state).closeSubscriber)==null||s.call(r)}}function pP(e){const t=new em;return(async()=>{try{await e(t)}catch(r){throw t.__internal_isClosed||t.enqueue({type:"error",path:[],error:String(r)}),r}finally{t.__internal_isClosed||t.close()}})(),t.__internal_getReadable()}function mP(){const{resolve:e,promise:t}=CS();let n;return[pP(s=>(n=s,n.__internal_subscribeToClose(e),t)),n]}class gP extends TransformStream{constructor(t,n,r){const[s,o]=mP();let i;super({start(a){var l;return i=s.pipeTo(new WritableStream({write(u){a.enqueue(u)},abort(u){a.error(u)},close(){a.terminate()}})).catch(u=>{a.error(u)}),(l=t.start)==null?void 0:l.call(t,o)},transform(a){var l;return(l=t.transform)==null?void 0:l.call(t,a,o)},async flush(){var a;await((a=t.flush)==null?void 0:a.call(t,o)),o.close(),await i}},n,r)}}const Za=(e,t,n)=>{const{role:r,id:s,createdAt:o,attachments:i,status:a,metadata:l}=e,u={id:s??t,createdAt:o??new Date},d=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content,h=({image:p,...m})=>p.match(/^data:image\/(png|jpeg|jpg|gif|webp);base64,(.*)$/)?{...m,image:p}:(console.warn("Invalid image data format detected"),null);if(r!=="user"&&(i!=null&&i.length))throw new Error("attachments are only supported for user messages");if(r!=="assistant"&&a)throw new Error("status is only supported for assistant messages");if(r!=="assistant"&&(l!=null&&l.steps))throw new Error("metadata.steps is only supported for assistant messages");switch(r){case"assistant":return{...u,role:r,content:d.map(p=>{const m=p.type;switch(m){case"text":case"reasoning":return p.text.trim().length===0?null:p;case"file":case"source":return p;case"image":return h(p);case"data":return p;case"tool-call":{const{parentId:w,messages:y,...b}=p,g={...b,toolCallId:p.toolCallId??`tool-${Qs()}`,...w!==void 0&&{parentId:w},...y!==void 0&&{messages:y}};return p.args?{...g,args:p.args,argsText:p.argsText??JSON.stringify(p.args)}:{...g,args:SS(p.argsText??"")??{},argsText:p.argsText??""}}default:{const w=m;throw new Error(`Unsupported assistant message part type: ${w}`)}}}).filter(p=>!!p),status:a??n,metadata:{unstable_state:(l==null?void 0:l.unstable_state)??null,unstable_annotations:(l==null?void 0:l.unstable_annotations)??[],unstable_data:(l==null?void 0:l.unstable_data)??[],custom:(l==null?void 0:l.custom)??{},steps:(l==null?void 0:l.steps)??[],...(l==null?void 0:l.submittedFeedback)&&{submittedFeedback:l.submittedFeedback}}};case"user":return{...u,role:r,content:d.map(p=>{const m=p.type;switch(m){case"text":case"image":case"audio":case"file":return p;default:{const w=m;throw new Error(`Unsupported user message part type: ${w}`)}}}),attachments:i??[],metadata:{custom:(l==null?void 0:l.custom)??{}}};case"system":if(d.length!==1||d[0].type!=="text")throw new Error("System messages must have exactly one text message part.");return{...u,role:r,content:d,metadata:{custom:(l==null?void 0:l.custom)??{}}};default:{const p=r;throw new Error(`Unknown message role: ${p}`)}}},tm={fromArray:e=>{const t=e.map(n=>Za(n,Qs(),wS(!1,!1,!1,!1)));return{messages:t.map((n,r)=>({parentId:r>0?t[r-1].id:null,message:n}))}}},lc=e=>e.next?lc(e.next):"current"in e?e:null;class yP{constructor(t){P(this,"func");P(this,"_value",null);this.func=t}get value(){return this._value===null&&(this._value=this.func()),this._value}dirty(){this._value=null}}class NS{constructor(){P(this,"messages",new Map);P(this,"head",null);P(this,"root",{children:[],next:null});P(this,"_messages",new yP(()=>{var n;const t=new Array((((n=this.head)==null?void 0:n.level)??-1)+1);for(let r=this.head;r;r=r.prev)t[r.level]=r.current;return t}))}updateLevels(t,n){t.level=n;for(const r of t.children){const s=this.messages.get(r);s&&this.updateLevels(s,n+1)}}performOp(t,n,r){const s=n.prev??this.root,o=t??this.root;if(!(r==="relink"&&s===o)){if(r!=="link"&&(s.children=s.children.filter(i=>i!==n.current.id),s.next===n)){const i=s.children.at(-1),a=i?this.messages.get(i):null;if(a===void 0)throw new Error("MessageRepository(performOp/cut): Fallback sibling message not found. This is likely an internal bug in assistant-ui.");s.next=a}if(r!=="cut"){for(let a=t;a;a=a.prev)if(a.current.id===n.current.id)throw new Error("MessageRepository(performOp/link): A message with the same id already exists in the parent tree. This error occurs if the same message id is found multiple times. This is likely an internal bug in assistant-ui.");o.children=[...o.children,n.current.id],(lc(n)===this.head||o.next===null)&&(o.next=n),n.prev=t;const i=t?t.level+1:0;this.updateLevels(n,i)}}}get headId(){var t;return((t=this.head)==null?void 0:t.current.id)??null}getMessages(t){var s;if(t===void 0||t===((s=this.head)==null?void 0:s.current.id))return this._messages.value;const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(getMessages): Head message not found. This is likely an internal bug in assistant-ui.");const r=new Array(n.level+1);for(let o=n;o;o=o.prev)r[o.level]=o.current;return r}addOrUpdateMessage(t,n){const r=this.messages.get(n.id),s=t?this.messages.get(t):null;if(s===void 0)throw new Error("MessageRepository(addOrUpdateMessage): Parent message not found. This is likely an internal bug in assistant-ui.");if(r){r.current=n,this.performOp(s,r,"relink"),this._messages.dirty();return}const o={prev:s,current:n,next:null,children:[],level:s?s.level+1:0};this.messages.set(n.id,o),this.performOp(s,o,"link"),this.head===s&&(this.head=o),this._messages.dirty()}getMessage(t){var r;const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(updateMessage): Message not found. This is likely an internal bug in assistant-ui.");return{parentId:((r=n.prev)==null?void 0:r.current.id)??null,message:n.current,index:n.level}}appendOptimisticMessage(t,n){let r;do r=JI();while(this.messages.has(r));return this.addOrUpdateMessage(t,Za(n,r,{type:"running"})),r}deleteMessage(t,n){const r=this.messages.get(t);if(!r)throw new Error("MessageRepository(deleteMessage): Message not found. This is likely an internal bug in assistant-ui.");const s=n===void 0?r.prev:n===null?null:this.messages.get(n);if(s===void 0)throw new Error("MessageRepository(deleteMessage): Replacement not found. This is likely an internal bug in assistant-ui.");for(const o of r.children){const i=this.messages.get(o);if(!i)throw new Error("MessageRepository(deleteMessage): Child message not found. This is likely an internal bug in assistant-ui.");this.performOp(s,i,"relink")}this.performOp(null,r,"cut"),this.messages.delete(t),this.head===r&&(this.head=lc(s??this.root)),this._messages.dirty()}getBranches(t){const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(getBranches): Message not found. This is likely an internal bug in assistant-ui.");const{children:r}=n.prev??this.root;return r}switchToBranch(t){const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(switchToBranch): Branch not found. This is likely an internal bug in assistant-ui.");const r=n.prev??this.root;r.next=n,this.head=lc(n),this._messages.dirty()}resetHead(t){if(t===null){this.clear();return}const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(resetHead): Branch not found. This is likely an internal bug in assistant-ui.");if(n.children.length>0){const r=s=>{for(const o of s.children){const i=this.messages.get(o);i&&(r(i),this.messages.delete(o))}};r(n),n.children=[],n.next=null}this.head=n;for(let r=n;r;r=r.prev)r.prev&&(r.prev.next=r);this._messages.dirty()}clear(){this.messages.clear(),this.head=null,this.root={children:[],next:null},this._messages.dirty()}export(){var n,r;const t=[];for(const[,s]of this.messages)t.push({message:s.current,parentId:((n=s.prev)==null?void 0:n.current.id)??null});return{headId:((r=this.head)==null?void 0:r.current.id)??null,messages:t}}import({headId:t,messages:n}){var r;for(const{message:s,parentId:o}of n)this.addOrUpdateMessage(o,s);this.resetHead(t??((r=n.at(-1))==null?void 0:r.message.id)??null)}}class Au{constructor(){P(this,"_subscriptions",new Set);P(this,"_connection")}get isConnected(){return!!this._connection}notifySubscribers(){for(const t of this._subscriptions)t()}_updateConnection(){var t;if(this._subscriptions.size>0){if(this._connection)return;this._connection=this._connect()}else(t=this._connection)==null||t.call(this),this._connection=void 0}subscribe(t){return this._subscriptions.add(t),this._updateConnection(),()=>{this._subscriptions.delete(t),this._updateConnection()}}}const Bn=Symbol("skip-update");class nm extends Au{constructor(n){super();P(this,"binding");P(this,"_previousStateDirty",!0);P(this,"_previousState");P(this,"getState",()=>{if(!this.isConnected||this._previousStateDirty){const n=this.binding.getState();n!==Bn&&(this._previousState=n),this._previousStateDirty=!1}if(this._previousState===void 0)throw new Error("Entry not available in the store");return this._previousState});this.binding=n}get path(){return this.binding.path}_connect(){const n=()=>{this._previousStateDirty=!0,this.notifySubscribers()};return this.binding.subscribe(n)}}class Pl{constructor(t,n){P(this,"_core");P(this,"_threadListBinding");this._core=t,this._threadListBinding=n,this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.switchTo=this.switchTo.bind(this),this.rename=this.rename.bind(this),this.archive=this.archive.bind(this),this.unarchive=this.unarchive.bind(this),this.delete=this.delete.bind(this),this.initialize=this.initialize.bind(this),this.generateTitle=this.generateTitle.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getState=this.getState.bind(this),this.detach=this.detach.bind(this)}getState(){return this._core.getState()}switchTo(){const t=this._core.getState();return this._threadListBinding.switchToThread(t.id)}rename(t){const n=this._core.getState();return this._threadListBinding.rename(n.id,t)}archive(){const t=this._core.getState();return this._threadListBinding.archive(t.id)}unarchive(){const t=this._core.getState();return this._threadListBinding.unarchive(t.id)}delete(){const t=this._core.getState();return this._threadListBinding.delete(t.id)}initialize(){const t=this._core.getState();return this._threadListBinding.initialize(t.id)}generateTitle(){const t=this._core.getState();return this._threadListBinding.generateTitle(t.id)}unstable_on(t,n){let r=this._core.getState().isMain,s=this._core.getState().id;return this.subscribe(()=>{const o=this._core.getState(),i=o.isMain,a=o.id;r===i&&s===a||(r=i,s=a,!(t==="switchedTo"&&!i)&&(t==="switchedAway"&&i||n()))})}subscribe(t){return this._core.subscribe(t)}detach(){const t=this._core.getState();this._threadListBinding.detach(t.id)}__internal_getRuntime(){return this}}function vP(e,t){if(e===void 0&&t===void 0)return!0;if(e===void 0||t===void 0)return!1;for(const n of Object.keys(e)){const r=e[n],s=t[n];if(!Object.is(r,s))return!1}return!0}class An extends Au{constructor(n){super();P(this,"binding");P(this,"_previousState");P(this,"getState",()=>(this.isConnected||this._syncState(),this._previousState));this.binding=n;const r=n.getState();if(r===Bn)throw new Error("Entry not available in the store");this._previousState=r}get path(){return this.binding.path}_syncState(){const n=this.binding.getState();return n===Bn||vP(n,this._previousState)?!1:(this._previousState=n,!0)}_connect(){const n=()=>{this._syncState()&&this.notifySubscribers()};return this.binding.subscribe(n)}}const Kc=Symbol("innerMessage"),qc=e=>e.content.filter(n=>n.type==="text").map(n=>n.text).join(`

`);class RS{constructor(t){P(this,"_core");this._core=t,this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.getState=this.getState.bind(this),this.remove=this.remove.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this._core.getState()}subscribe(t){return this._core.subscribe(t)}}class IS extends RS{constructor(n,r){super(n);P(this,"_composerApi");this._composerApi=r}remove(){const n=this._composerApi.getState();if(!n)throw new Error("Composer is not available");return n.removeAttachment(this.getState().id)}}class xP extends IS{get source(){return"thread-composer"}}class wP extends IS{get source(){return"edit-composer"}}class bP extends RS{get source(){return"message"}constructor(t){super(t)}remove(){throw new Error("Message attachments cannot be removed")}}class PS extends Au{constructor(n){super();P(this,"config");this.config=n}getState(){return this.config.binding.getState()}outerSubscribe(n){return this.config.binding.subscribe(n)}_connect(){const n=()=>{this.notifySubscribers()};let r=this.config.binding.getState(),s=r==null?void 0:r.unstable_on(this.config.event,n);const o=()=>{var l;const a=this.config.binding.getState();a!==r&&(r=a,s==null||s(),s=(l=this.config.binding.getState())==null?void 0:l.unstable_on(this.config.event,n))},i=this.outerSubscribe(o);return()=>{i==null||i(),s==null||s()}}}const AS=Object.freeze([]),jS=Object.freeze({}),_P=e=>Object.freeze({type:"thread",isEditing:(e==null?void 0:e.isEditing)??!1,canCancel:(e==null?void 0:e.canCancel)??!1,isEmpty:(e==null?void 0:e.isEmpty)??!0,attachments:(e==null?void 0:e.attachments)??AS,text:(e==null?void 0:e.text)??"",role:(e==null?void 0:e.role)??"user",runConfig:(e==null?void 0:e.runConfig)??jS,attachmentAccept:(e==null?void 0:e.attachmentAccept)??"",dictation:e==null?void 0:e.dictation,value:(e==null?void 0:e.text)??""}),SP=e=>Object.freeze({type:"edit",isEditing:(e==null?void 0:e.isEditing)??!1,canCancel:(e==null?void 0:e.canCancel)??!1,isEmpty:(e==null?void 0:e.isEmpty)??!0,text:(e==null?void 0:e.text)??"",role:(e==null?void 0:e.role)??"user",attachments:(e==null?void 0:e.attachments)??AS,runConfig:(e==null?void 0:e.runConfig)??jS,attachmentAccept:(e==null?void 0:e.attachmentAccept)??"",dictation:e==null?void 0:e.dictation,value:(e==null?void 0:e.text)??""});class MS{constructor(t){P(this,"_core");P(this,"_eventSubscriptionSubjects",new Map);this._core=t}get path(){return this._core.path}__internal_bindMethods(){this.setText=this.setText.bind(this),this.setRunConfig=this.setRunConfig.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.addAttachment=this.addAttachment.bind(this),this.reset=this.reset.bind(this),this.clearAttachments=this.clearAttachments.bind(this),this.send=this.send.bind(this),this.cancel=this.cancel.bind(this),this.setRole=this.setRole.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.startDictation=this.startDictation.bind(this),this.stopDictation=this.stopDictation.bind(this),this.unstable_on=this.unstable_on.bind(this)}setText(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setText(t)}setRunConfig(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setRunConfig(t)}addAttachment(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");return n.addAttachment(t)}reset(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");return t.reset()}clearAttachments(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");return t.clearAttachments()}send(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.send()}cancel(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.cancel()}setRole(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setRole(t)}startDictation(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.startDictation()}stopDictation(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.stopDictation()}subscribe(t){return this._core.subscribe(t)}unstable_on(t,n){let r=this._eventSubscriptionSubjects.get(t);return r||(r=new PS({event:t,binding:this._core}),this._eventSubscriptionSubjects.set(t,r)),r.subscribe(n)}}class CP extends MS{constructor(n){const r=new nm({path:n.path,getState:()=>_P(n.getState()),subscribe:s=>n.subscribe(s)});super({path:n.path,getState:()=>n.getState(),subscribe:s=>r.subscribe(s)});P(this,"_getState");this._getState=r.getState.bind(r),this.__internal_bindMethods()}get path(){return this._core.path}get type(){return"thread"}getState(){return this._getState()}getAttachmentByIndex(n){return new xP(new An({path:{...this.path,attachmentSource:"thread-composer",attachmentSelector:{type:"index",index:n},ref:`${this.path.ref}.attachments[${n}]`},getState:()=>{const s=this.getState().attachments[n];return s?{...s,source:"thread-composer"}:Bn},subscribe:r=>this._core.subscribe(r)}),this._core)}}class kP extends MS{constructor(n,r){const s=new nm({path:n.path,getState:()=>SP(n.getState()),subscribe:o=>n.subscribe(o)});super({path:n.path,getState:()=>n.getState(),subscribe:o=>s.subscribe(o)});P(this,"_beginEdit");P(this,"_getState");this._beginEdit=r,this._getState=s.getState.bind(s),this.__internal_bindMethods()}get path(){return this._core.path}get type(){return"edit"}__internal_bindMethods(){super.__internal_bindMethods(),this.beginEdit=this.beginEdit.bind(this)}getState(){return this._getState()}beginEdit(){this._beginEdit()}getAttachmentByIndex(n){return new wP(new An({path:{...this.path,attachmentSource:"edit-composer",attachmentSelector:{type:"index",index:n},ref:`${this.path.ref}.attachments[${n}]`},getState:()=>{const s=this.getState().attachments[n];return s?{...s,source:"edit-composer"}:Bn},subscribe:r=>this._core.subscribe(r)}),this._core)}}class da{constructor(t=null){P(this,"_state");this._state=t}get state(){return this._state}append(t){this._state=t.reduce((n,r)=>da.apply(n,r),this._state)}static apply(t,n){const r=n.type;switch(r){case"set":return da.updatePath(t,n.path,()=>n.value);case"append-text":return da.updatePath(t,n.path,s=>{if(typeof s!="string")throw new Error(`Expected string at path [${n.path.join(", ")}]`);return s+n.value});default:{const s=r;throw new Error(`Invalid operation type: ${s}`)}}}static updatePath(t,n,r){if(n.length===0)return r(t);if(t??(t={}),typeof t!="object")throw new Error(`Invalid path: [${n.join(", ")}]`);const[s,...o]=n;if(Array.isArray(t)){const a=Number(s);if(Number.isNaN(a))throw new Error(`Expected array index at [${n.join(", ")}]`);if(a>t.length||a<0)throw new Error("Insert array index out of bounds");const l=[...t];return l[a]=this.updatePath(l[a],o,r),l}const i={...t};return i[s]=this.updatePath(i[s],o,r),i}}const EP=({unstable_state:e=null}={})=>({role:"assistant",status:{type:"running"},parts:[],get content(){return this.parts},metadata:{unstable_state:e,unstable_data:[],unstable_annotations:[],steps:[],custom:{}}}),ju=(e,t,n)=>{if(e.parts.length===0)throw new Error("No parts available to update.");if(t.path.length!==1)throw new Error("Nested paths are not supported yet.");const r=t.path[0],s=n(e.parts[r]);return{...e,parts:[...e.parts.slice(0,r),s,...e.parts.slice(r+1)],get content(){return this.parts}}},TP=(e,t)=>{const n=t.part;if(n.type==="text"||n.type==="reasoning"){const r={type:n.type,text:"",status:{type:"running"},...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="tool-call"){const r={type:"tool-call",state:"partial-call",status:{type:"running",isArgsComplete:!1},toolCallId:n.toolCallId,toolName:n.toolName,argsText:"",args:{},...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="source"){const r={type:"source",sourceType:n.sourceType,id:n.id,url:n.url,...n.title?{title:n.title}:void 0,...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="file"){const r={type:"file",mimeType:n.mimeType,data:n.data};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else throw new Error(`Unsupported part type: ${n.type}`)},NP=(e,t)=>ju(e,t,n=>{if(n.type!=="tool-call")throw new Error("Last is not a tool call");return n.state!=="partial-call"?n:{...n,state:"call"}}),RP=(e,t)=>ju(e,t,n=>({...n,status:{type:"complete",reason:"unknown"}})),IP=(e,t)=>ju(e,t,n=>{if(n.type==="text"||n.type==="reasoning")return{...n,text:n.text+t.textDelta};if(n.type==="tool-call"){const r=n.argsText+t.textDelta,s=SS(r)??n.args;return{...n,argsText:r,args:s}}else throw new Error("text-delta received but part is neither text nor tool-call")}),PP=(e,t)=>ju(e,t,n=>{if(n.type==="tool-call")return{...n,state:"result",...t.artifact!==void 0?{artifact:t.artifact}:{},result:t.result,isError:t.isError??!1,status:{type:"complete",reason:"stop"}};throw new Error("Result chunk received but part is not a tool-call")}),Uv=(e,t)=>{var r,s;if(((r=e.status)==null?void 0:r.type)==="incomplete"&&((s=e.status)==null?void 0:s.reason)==="error")return e;const n=AP(t);return{...e,status:n}},AP=e=>e.finishReason==="tool-calls"?{type:"requires-action",reason:"tool-calls"}:e.finishReason==="stop"||e.finishReason==="unknown"?{type:"complete",reason:e.finishReason}:{type:"incomplete",reason:e.finishReason},jP=(e,t)=>({...e,metadata:{...e.metadata,unstable_annotations:[...e.metadata.unstable_annotations,...t.annotations]}}),MP=(e,t)=>({...e,metadata:{...e.metadata,unstable_data:[...e.metadata.unstable_data,...t.data]}}),OP=(e,t)=>({...e,metadata:{...e.metadata,steps:[...e.metadata.steps,{state:"started",messageId:t.messageId}]}}),LP=(e,t)=>{var s;const n=e.metadata.steps.slice(),r=n.length-1;return n.length>0&&((s=n[r])==null?void 0:s.state)==="started"?n[r]={...n[r],state:"finished",finishReason:t.finishReason,usage:t.usage,isContinued:t.isContinued}:n.push({state:"finished",messageId:TS(),finishReason:t.finishReason,usage:t.usage,isContinued:t.isContinued}),{...e,metadata:{...e.metadata,steps:n}}},DP=(e,t)=>({...e,status:{type:"incomplete",reason:"error",error:t.error}}),FP=(e,t)=>{const n=new da(e.metadata.unstable_state);return n.append(t.operations),{...e,metadata:{...e.metadata,unstable_state:n.state}}},BP=e=>{let t=!1;return()=>{t||(t=!0,queueMicrotask(()=>{t=!1,e()}))}};class zP extends TransformStream{constructor({initialMessage:t,throttle:n,onError:r}={}){let s=t??EP(),o;const i=n?BP(()=>{o==null||o.enqueue(s)}):()=>{o==null||o.enqueue(s)};super({start(a){o=a},transform(a){const l=a.type;switch(l){case"part-start":s=TP(s,a);break;case"tool-call-args-text-finish":s=NP(s,a);break;case"part-finish":s=RP(s,a);break;case"text-delta":s=IP(s,a);break;case"result":s=PP(s,a);break;case"message-finish":s=Uv(s,a);break;case"annotations":s=jP(s,a);break;case"data":s=MP(s,a);break;case"step-start":s=OP(s,a);break;case"step-finish":s=LP(s,a);break;case"error":s=DP(s,a),r==null||r(a.error);break;case"update-state":s=FP(s,a);break;default:{const u=l;throw new Error(`Unsupported chunk type: ${u}`)}}i()},flush(a){var l,u;if(((l=s.status)==null?void 0:l.type)==="running"){const d=((u=s.parts)==null?void 0:u.some(h=>h.type==="tool-call"&&(h.state==="call"||h.state==="partial-call")&&h.result===void 0))??!1;s=Uv(s,{finishReason:d?"tool-calls":"unknown"}),a.enqueue(s)}}})}}class $P extends fP{constructor(){super(t=>{const n=new gP({transform(r,s){s.appendText(r)}});return t.pipeThrough(new TextDecoderStream).pipeThrough(n)})}}class fa{constructor(t){P(this,"readable");this.readable=t,this.readable=t}static fromAssistantStream(t){return new fa(t.pipeThrough(new zP))}async unstable_result(){let t;for await(const n of this)t=n;return t||{role:"assistant",status:{type:"complete",reason:"unknown"},parts:[],content:[],metadata:{unstable_state:null,unstable_data:[],unstable_annotations:[],steps:[],custom:{}}}}[Symbol.asyncIterator](){const t=this.readable.getReader();return{async next(){const{done:n,value:r}=await t.read();return n?{done:!0,value:void 0}:{done:!1,value:r}}}}tee(){const[t,n]=this.readable.tee();return[new fa(t),new fa(n)]}}const Hv=Symbol.for("aui.tool-response");class Gc{constructor(t){P(this,"artifact");P(this,"result");P(this,"isError");t.artifact!==void 0&&(this.artifact=t.artifact),this.result=t.result,this.isError=t.isError??!1}get[Hv](){return!0}static[Symbol.hasInstance](t){return typeof t=="object"&&t!==null&&Hv in t}static toResponse(t){return t instanceof Gc?t:new Gc({result:t===void 0?"<no result>":t})}}class Vv{constructor(t,n,r){P(this,"contentBinding");P(this,"messageApi");P(this,"threadApi");this.contentBinding=t,this.messageApi=n,this.threadApi=r,this.__internal_bindMethods()}get path(){return this.contentBinding.path}__internal_bindMethods(){this.addToolResult=this.addToolResult.bind(this),this.resumeToolCall=this.resumeToolCall.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this.contentBinding.getState()}addToolResult(t){const n=this.contentBinding.getState();if(!n)throw new Error("Message part is not available");if(n.type!=="tool-call")throw new Error("Tried to add tool result to non-tool message part");if(!this.messageApi)throw new Error("Message API is not available. This is likely a bug in assistant-ui.");if(!this.threadApi)throw new Error("Thread API is not available");const r=this.messageApi.getState();if(!r)throw new Error("Message is not available");const s=n.toolName,o=n.toolCallId,i=Gc.toResponse(t);this.threadApi.getState().addToolResult({messageId:r.id,toolName:s,toolCallId:o,result:i.result,artifact:i.artifact,isError:i.isError})}resumeToolCall(t){const n=this.contentBinding.getState();if(!n)throw new Error("Message part is not available");if(n.type!=="tool-call")throw new Error("Tried to resume tool call on non-tool message part");if(!this.threadApi)throw new Error("Thread API is not available");const r=n.toolCallId;this.threadApi.getState().resumeToolCall({toolCallId:r,payload:t})}subscribe(t){return this.contentBinding.subscribe(t)}}class Yc extends Au{constructor(n){super();P(this,"binding");this.binding=n}get path(){return this.binding.path}getState(){return this.binding.getState()}outerSubscribe(n){return this.binding.subscribe(n)}_connect(){const n=()=>{this.notifySubscribers()};let r=this.binding.getState(),s=r==null?void 0:r.subscribe(n);const o=()=>{var l;const a=this.binding.getState();a!==r&&(r=a,s==null||s(),s=(l=this.binding.getState())==null?void 0:l.subscribe(n),n())},i=this.outerSubscribe(o);return()=>{i==null||i(),s==null||s()}}}const Al=Object.freeze({type:"complete"}),UP=(e,t,n)=>{if(e.role!=="assistant")return Al;if(n.type==="tool-call")return n.result?Al:e.status;const r=t===Math.max(0,e.content.length-1);return e.status.type==="requires-action"?Al:r?e.status:Al},Wv=(e,t)=>{const n=e.content[t];if(!n)return Bn;const r=UP(e,t,n);return Object.freeze({...n,[Kc]:n[Kc],status:r})};class HP{constructor(t,n){P(this,"_core");P(this,"_threadBinding");P(this,"composer");P(this,"_getEditComposerRuntimeCore",()=>this._threadBinding.getState().getEditComposer(this._core.getState().id));this._core=t,this._threadBinding=n,this.composer=new kP(new Yc({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.composer`,composerSource:"edit"},getState:this._getEditComposerRuntimeCore,subscribe:r=>this._threadBinding.subscribe(r)}),()=>this._threadBinding.getState().beginEdit(this._core.getState().id)),this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.reload=this.reload.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getMessagePartByIndex=this.getMessagePartByIndex.bind(this),this.getMessagePartByToolCallId=this.getMessagePartByToolCallId.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.unstable_getCopyText=this.unstable_getCopyText.bind(this),this.speak=this.speak.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.submitFeedback=this.submitFeedback.bind(this),this.switchToBranch=this.switchToBranch.bind(this)}getState(){return this._core.getState()}reload(t={}){const n=this._getEditComposerRuntimeCore(),r=n??this._threadBinding.getState().composer,s=n??r,{runConfig:o=s.runConfig}=t,i=this._core.getState();if(i.role!=="assistant")throw new Error("Can only reload assistant messages");this._threadBinding.getState().startRun({parentId:i.parentId,sourceId:i.id,runConfig:o})}speak(){const t=this._core.getState();return this._threadBinding.getState().speak(t.id)}stopSpeaking(){var r;const t=this._core.getState();if(((r=this._threadBinding.getState().speech)==null?void 0:r.messageId)===t.id)this._threadBinding.getState().stopSpeaking();else throw new Error("Message is not being spoken")}submitFeedback({type:t}){const n=this._core.getState();this._threadBinding.getState().submitFeedback({messageId:n.id,type:t})}switchToBranch({position:t,branchId:n}){const r=this._core.getState();if(n&&t)throw new Error("May not specify both branchId and position");if(!n&&!t)throw new Error("Must specify either branchId or position");const o=this._threadBinding.getState().getBranches(r.id);let i=n;if(t==="previous"?i=o[r.branchNumber-2]:t==="next"&&(i=o[r.branchNumber]),!i)throw new Error("Branch not found");this._threadBinding.getState().switchToBranch(i)}unstable_getCopyText(){return qc(this.getState())}subscribe(t){return this._core.subscribe(t)}getMessagePartByIndex(t){if(t<0)throw new Error("Message part index must be >= 0");return new Vv(new An({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.content[${t}]`,messagePartSelector:{type:"index",index:t}},getState:()=>Wv(this.getState(),t),subscribe:n=>this._core.subscribe(n)}),this._core,this._threadBinding)}getMessagePartByToolCallId(t){return new Vv(new An({path:{...this.path,ref:this.path.ref+`${this.path.ref}.content[toolCallId=${JSON.stringify(t)}]`,messagePartSelector:{type:"toolCallId",toolCallId:t}},getState:()=>{const n=this._core.getState(),r=n.content.findIndex(s=>s.type==="tool-call"&&s.toolCallId===t);return r===-1?Bn:Wv(n,r)},subscribe:n=>this._core.subscribe(n)}),this._core,this._threadBinding)}getAttachmentByIndex(t){return new bP(new An({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.attachments[${t}]`,attachmentSource:"message",attachmentSelector:{type:"index",index:t}},getState:()=>{const n=this.getState().attachments,r=n==null?void 0:n[t];return r?{...r,source:"message"}:Bn},subscribe:n=>this._core.subscribe(n)}))}}const VP=e=>({parentId:e.parentId??null,sourceId:e.sourceId??null,runConfig:e.runConfig??{},...e.stream?{stream:e.stream}:{}}),WP=e=>({parentId:e.parentId??null,sourceId:e.sourceId??null,runConfig:e.runConfig??{}}),KP=(e,t)=>{var n,r;return typeof t=="string"?{createdAt:new Date,parentId:((n=e.at(-1))==null?void 0:n.id)??null,sourceId:null,runConfig:{},role:"user",content:[{type:"text",text:t}],attachments:[],metadata:{custom:{}}}:{createdAt:t.createdAt??new Date,parentId:t.parentId??((r=e.at(-1))==null?void 0:r.id)??null,sourceId:t.sourceId??null,role:t.role??"user",content:t.content,attachments:t.attachments??[],metadata:t.metadata??{custom:{}},runConfig:t.runConfig??{},startRun:t.startRun}},qP=(e,t)=>{const n=e.messages.at(-1);return Object.freeze({threadId:t.id,metadata:t,capabilities:e.capabilities,isDisabled:e.isDisabled,isLoading:e.isLoading,isRunning:(n==null?void 0:n.role)!=="assistant"?!1:n.status.type==="running",messages:e.messages,state:e.state,suggestions:e.suggestions,extras:e.extras,speech:e.speech})};class OS{constructor(t,n){P(this,"_threadBinding");P(this,"composer");P(this,"_eventSubscriptionSubjects",new Map);const r=new An({path:t.path,getState:()=>qP(t.getState(),n.getState()),subscribe:s=>{const o=t.subscribe(s),i=n.subscribe(s);return()=>{o(),i()}}});this._threadBinding={path:t.path,getState:()=>t.getState(),getStateState:()=>r.getState(),outerSubscribe:s=>t.outerSubscribe(s),subscribe:s=>t.subscribe(s)},this.composer=new CP(new Yc({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.composer`,composerSource:"thread"},getState:()=>this._threadBinding.getState().composer,subscribe:s=>this._threadBinding.subscribe(s)})),this.__internal_bindMethods()}get path(){return this._threadBinding.path}get __internal_threadBinding(){return this._threadBinding}__internal_bindMethods(){this.append=this.append.bind(this),this.unstable_resumeRun=this.unstable_resumeRun.bind(this),this.unstable_loadExternalState=this.unstable_loadExternalState.bind(this),this.importExternalState=this.importExternalState.bind(this),this.exportExternalState=this.exportExternalState.bind(this),this.startRun=this.startRun.bind(this),this.cancelRun=this.cancelRun.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.export=this.export.bind(this),this.import=this.import.bind(this),this.reset=this.reset.bind(this),this.getMessageByIndex=this.getMessageByIndex.bind(this),this.getMessageById=this.getMessageById.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getModelContext=this.getModelContext.bind(this),this.getModelConfig=this.getModelConfig.bind(this),this.getState=this.getState.bind(this)}getState(){return this._threadBinding.getStateState()}append(t){this._threadBinding.getState().append(KP(this._threadBinding.getState().messages,t))}subscribe(t){return this._threadBinding.subscribe(t)}getModelContext(){return this._threadBinding.getState().getModelContext()}getModelConfig(){return this.getModelContext()}startRun(t){const n=t===null||typeof t=="string"?{parentId:t}:t;return this._threadBinding.getState().startRun(WP(n))}unstable_resumeRun(t){return this._threadBinding.getState().resumeRun(VP(t))}exportExternalState(){return this._threadBinding.getState().exportExternalState()}importExternalState(t){this._threadBinding.getState().importExternalState(t)}unstable_loadExternalState(t){this._threadBinding.getState().unstable_loadExternalState(t)}cancelRun(){this._threadBinding.getState().cancelRun()}stopSpeaking(){return this._threadBinding.getState().stopSpeaking()}export(){return this._threadBinding.getState().export()}import(t){this._threadBinding.getState().import(t)}reset(t){this._threadBinding.getState().reset(t)}getMessageByIndex(t){if(t<0)throw new Error("Message index must be >= 0");return this._getMessageRuntime({...this.path,ref:`${this.path.ref}${this.path.ref}.messages[${t}]`,messageSelector:{type:"index",index:t}},()=>{var s;const n=this._threadBinding.getState().messages,r=n[t];if(r)return{message:r,parentId:((s=n[t-1])==null?void 0:s.id)??null,index:t}})}getMessageById(t){return this._getMessageRuntime({...this.path,ref:this.path.ref+`${this.path.ref}.messages[messageId=${JSON.stringify(t)}]`,messageSelector:{type:"messageId",messageId:t}},()=>this._threadBinding.getState().getMessageById(t))}_getMessageRuntime(t,n){return new HP(new An({path:t,getState:()=>{var h;const{message:r,parentId:s,index:o}=n()??{},{messages:i,speech:a}=this._threadBinding.getState();if(!r||s===void 0||o===void 0)return Bn;const u=this._threadBinding.getState().getBranches(r.id),d=r.metadata.submittedFeedback;return{...r,[Kc]:r[Kc],index:o,isLast:((h=i.at(-1))==null?void 0:h.id)===r.id,parentId:s,branchNumber:u.indexOf(r.id)+1,branchCount:u.length,speech:(a==null?void 0:a.messageId)===r.id?a:void 0,submittedFeedback:d}},subscribe:r=>this._threadBinding.subscribe(r)}),this._threadBinding)}unstable_on(t,n){let r=this._eventSubscriptionSubjects.get(t);return r||(r=new PS({event:t,binding:this._threadBinding}),this._eventSubscriptionSubjects.set(t,r)),r.subscribe(n)}}const GP=e=>({mainThreadId:e.mainThreadId,newThreadId:e.newThreadId,threadIds:e.threadIds,archivedThreadIds:e.archivedThreadIds,isLoading:e.isLoading,threadItems:e.threadItems}),jl=(e,t)=>{if(t===void 0)return Bn;const n=e.getItemById(t);return n?{id:n.id,remoteId:n.remoteId,externalId:n.externalId,title:n.title,status:n.status,isMain:n.id===e.mainThreadId}:Bn};class LS{constructor(t,n=OS){P(this,"_core");P(this,"_runtimeFactory");P(this,"_getState");P(this,"_mainThreadListItemRuntime");P(this,"main");this._core=t,this._runtimeFactory=n;const r=new nm({path:{},getState:()=>GP(t),subscribe:s=>t.subscribe(s)});this._getState=r.getState.bind(r),this._mainThreadListItemRuntime=new Pl(new An({path:{ref:"threadItems[main]",threadSelector:{type:"main"}},getState:()=>jl(this._core,this._core.mainThreadId),subscribe:s=>this._core.subscribe(s)}),this._core),this.main=new n(new Yc({path:{ref:"threads.main",threadSelector:{type:"main"}},getState:()=>t.getMainThreadRuntimeCore(),subscribe:s=>t.subscribe(s)}),this._mainThreadListItemRuntime),this.__internal_bindMethods()}__internal_bindMethods(){this.switchToThread=this.switchToThread.bind(this),this.switchToNewThread=this.switchToNewThread.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getById=this.getById.bind(this),this.getItemById=this.getItemById.bind(this),this.getItemByIndex=this.getItemByIndex.bind(this),this.getArchivedItemByIndex=this.getArchivedItemByIndex.bind(this)}switchToThread(t){return this._core.switchToThread(t)}switchToNewThread(){return this._core.switchToNewThread()}getState(){return this._getState()}subscribe(t){return this._core.subscribe(t)}get mainItem(){return this._mainThreadListItemRuntime}getById(t){return new this._runtimeFactory(new Yc({path:{ref:`threads[threadId=${JSON.stringify(t)}]`,threadSelector:{type:"threadId",threadId:t}},getState:()=>this._core.getThreadRuntimeCore(t),subscribe:n=>this._core.subscribe(n)}),this.mainItem)}getItemByIndex(t){return new Pl(new An({path:{ref:`threadItems[${t}]`,threadSelector:{type:"index",index:t}},getState:()=>jl(this._core,this._core.threadIds[t]),subscribe:n=>this._core.subscribe(n)}),this._core)}getArchivedItemByIndex(t){return new Pl(new An({path:{ref:`archivedThreadItems[${t}]`,threadSelector:{type:"archiveIndex",index:t}},getState:()=>jl(this._core,this._core.archivedThreadIds[t]),subscribe:n=>this._core.subscribe(n)}),this._core)}getItemById(t){return new Pl(new An({path:{ref:`threadItems[threadId=${t}]`,threadSelector:{type:"threadId",threadId:t}},getState:()=>jl(this._core,t),subscribe:n=>this._core.subscribe(n)}),this._core)}}const YP=e=>e.startsWith("image/")?"image":e.startsWith("text/")?"document":"file";class XP{constructor(t){P(this,"cloud");P(this,"accept","*");P(this,"uploadedUrls",new Map);this.cloud=t}async*add({file:t}){const n=crypto.randomUUID(),r=YP(t.type);let s={id:n,type:r,name:t.name,contentType:t.type,file:t,status:{type:"running",reason:"uploading",progress:0}};yield s;try{const{signedUrl:o,publicUrl:i}=await this.cloud.files.generatePresignedUploadUrl({filename:t.name});await fetch(o,{method:"PUT",body:t,headers:{"Content-Type":t.type},mode:"cors"}),this.uploadedUrls.set(n,i),s={...s,status:{type:"requires-action",reason:"composer-send"}},yield s}catch{s={...s,status:{type:"incomplete",reason:"error"}},yield s}}async remove(t){this.uploadedUrls.delete(t.id)}async send(t){const n=this.uploadedUrls.get(t.id);if(!n)throw new Error("Attachment not uploaded");this.uploadedUrls.delete(t.id);let r;return t.type==="image"?r=[{type:"image",image:n,filename:t.name}]:r=[{type:"file",data:n,mimeType:t.contentType,filename:t.name}],{...t,status:{type:"complete"},content:r}}}const gh=f.createContext(null),DS=({adapters:e,children:t})=>{const n=f.useContext(gh);return c.jsx(gh.Provider,{value:{...n,...e},children:t})},QP=()=>f.useContext(gh);class JP extends vS{constructor(n,r,{parentId:s,message:o}){super();P(this,"runtime");P(this,"endEditCallback");P(this,"_nonTextParts");P(this,"_previousText");P(this,"_parentId");P(this,"_sourceId");this.runtime=n,this.endEditCallback=r,this._parentId=s,this._sourceId=o.id,this._previousText=qc(o),this.setText(this._previousText),this.setRole(o.role),this.setAttachments(o.attachments??[]),this._nonTextParts=o.content.filter(i=>i.type!=="text"),this.setRunConfig({...n.composer.runConfig})}get canCancel(){return!0}getAttachmentAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.attachments}getDictationAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.dictation}async handleSend(n){qc(n)!==this._previousText&&this.runtime.append({...n,content:[...n.content,...this._nonTextParts],parentId:this._parentId,sourceId:this._sourceId}),this.handleCancel()}handleCancel(){this.endEditCallback(),this._notifySubscribers()}}class ZP{constructor(t){P(this,"_contextProvider");P(this,"_subscriptions",new Set);P(this,"_isInitialized",!1);P(this,"repository",new NS);P(this,"composer",new xS(this));P(this,"_editComposers",new Map);P(this,"_stopSpeaking");P(this,"speech");P(this,"_eventSubscribers",new Map);this._contextProvider=t}get messages(){return this.repository.getMessages()}get state(){let t;for(const n of this.messages)if(n.role==="assistant"){t=n;break}return(t==null?void 0:t.metadata.unstable_state)??null}getModelContext(){return this._contextProvider.getModelContext()}getEditComposer(t){return this._editComposers.get(t)}beginEdit(t){if(this._editComposers.has(t))throw new Error("Edit already in progress");this._editComposers.set(t,new JP(this,()=>this._editComposers.delete(t),this.repository.getMessage(t))),this._notifySubscribers()}getMessageById(t){try{return this.repository.getMessage(t)}catch{return}}getBranches(t){return this.repository.getBranches(t)}switchToBranch(t){this.repository.switchToBranch(t),this._notifySubscribers()}_notifySubscribers(){for(const t of this._subscriptions)t()}_notifyEventSubscribers(t){const n=this._eventSubscribers.get(t);if(n)for(const r of n)r()}subscribe(t){return this._subscriptions.add(t),()=>this._subscriptions.delete(t)}submitFeedback({messageId:t,type:n}){var i;const r=(i=this.adapters)==null?void 0:i.feedback;if(!r)throw new Error("Feedback adapter not configured");const{message:s,parentId:o}=this.repository.getMessage(t);if(r.submit({message:s,type:n}),s.role==="assistant"){const a={...s,metadata:{...s.metadata,submittedFeedback:{type:n}}};this.repository.addOrUpdateMessage(o,a)}this._notifySubscribers()}speak(t){var i,a;const n=(i=this.adapters)==null?void 0:i.speech;if(!n)throw new Error("Speech adapter not configured");const{message:r}=this.repository.getMessage(t);(a=this._stopSpeaking)==null||a.call(this);const s=n.speak(qc(r)),o=s.subscribe(()=>{s.status.type==="ended"?(this._stopSpeaking=void 0,this.speech=void 0):this.speech={messageId:t,status:s.status},this._notifySubscribers()});this.speech={messageId:t,status:s.status},this._notifySubscribers(),this._stopSpeaking=()=>{s.cancel(),o(),this.speech=void 0,this._stopSpeaking=void 0}}stopSpeaking(){if(!this._stopSpeaking)throw new Error("No message is being spoken");this._stopSpeaking(),this._notifySubscribers()}ensureInitialized(){this._isInitialized||(this._isInitialized=!0,this._notifyEventSubscribers("initialize"))}export(){return this.repository.export()}import(t){this.ensureInitialized(),this.repository.clear(),this.repository.import(t),this._notifySubscribers()}reset(t){this.import(tm.fromArray(t??[]))}unstable_on(t,n){var s,o;if(t==="modelContextUpdate")return((o=(s=this._contextProvider).subscribe)==null?void 0:o.call(s,n))??(()=>{});const r=this._eventSubscribers.get(t);return r?r.add(n):this._eventSubscribers.set(t,new Set([n])),()=>{this._eventSubscribers.get(t).delete(n)}}}class eA{list(){return Promise.resolve({threads:[]})}rename(){return Promise.resolve()}archive(){return Promise.resolve()}unarchive(){return Promise.resolve()}delete(){return Promise.resolve()}initialize(t){return Promise.resolve({remoteId:t,externalId:void 0})}generateTitle(){return Promise.resolve(new ReadableStream)}fetch(t){return Promise.reject(new Error("Thread not found"))}}const Kv=(e,t)=>{var n,r;return t===void 0?((n=e.status)==null?void 0:n.type)==="requires-action"&&e.status.reason==="tool-calls"&&e.content.every(s=>s.type!=="tool-call"||!!s.result):((r=e.status)==null?void 0:r.type)==="requires-action"&&e.status.reason==="tool-calls"&&e.content.every(s=>s.type!=="tool-call"||!!s.result||!t.includes(s.toolName))};class Hd extends Error{constructor(n,r){super(r);P(this,"name","AbortError");P(this,"detach");this.detach=n}}class tA extends ZP{constructor(n,r){super(n);P(this,"capabilities",{switchToBranch:!0,switchBranchDuringRun:!0,edit:!0,reload:!0,cancel:!0,unstable_copy:!0,speech:!1,dictation:!1,attachments:!1,feedback:!1});P(this,"abortController",null);P(this,"isDisabled",!1);P(this,"_isLoading",!1);P(this,"_suggestions",[]);P(this,"_suggestionsController",null);P(this,"_options");P(this,"_lastRunConfig",{});P(this,"_getThreadId");P(this,"_getInitializePromise");P(this,"_loadPromise");this.__internal_setOptions(r)}get isLoading(){return this._isLoading}get suggestions(){return this._suggestions}get adapters(){return this._options.adapters}__internal_setGetThreadId(n){this._getThreadId=n}__internal_setGetInitializePromise(n){this._getInitializePromise=n}get extras(){}__internal_setOptions(n){var l,u,d,h;if(this._options===n)return;this._options=n;let r=!1;const s=((l=n.adapters)==null?void 0:l.speech)!==void 0;this.capabilities.speech!==s&&(this.capabilities.speech=s,r=!0);const o=((u=n.adapters)==null?void 0:u.dictation)!==void 0;this.capabilities.dictation!==o&&(this.capabilities.dictation=o,r=!0);const i=((d=n.adapters)==null?void 0:d.attachments)!==void 0;this.capabilities.attachments!==i&&(this.capabilities.attachments=i,r=!0);const a=((h=n.adapters)==null?void 0:h.feedback)!==void 0;this.capabilities.feedback!==a&&(this.capabilities.feedback=a,r=!0),r&&this._notifySubscribers()}__internal_load(){var r;if(this._loadPromise)return this._loadPromise;const n=((r=this.adapters.history)==null?void 0:r.load())??Promise.resolve(null);return this._isLoading=!0,this._notifySubscribers(),this._loadPromise=n.then(s=>{var i,a;if(!s)return;this.repository.import(s),s.messages.length>0&&this.ensureInitialized(),this._notifySubscribers();const o=(a=(i=this.adapters.history)==null?void 0:i.resume)==null?void 0:a.bind(this.adapters.history);s.unstable_resume&&o&&this.startRun({parentId:this.repository.headId,sourceId:this.repository.headId,runConfig:this._lastRunConfig},o)}).finally(()=>{this._isLoading=!1,this._notifySubscribers()}),this._loadPromise}async append(n){var i,a;this.ensureInitialized();const r=(i=this._getInitializePromise)==null?void 0:i.call(this);r&&await r;const s=Za(n,Qs(),{type:"complete",reason:"unknown"});this.repository.addOrUpdateMessage(n.parentId,s),(a=this._options.adapters.history)==null||a.append({parentId:n.parentId,message:s,...n.runConfig!==void 0&&{runConfig:n.runConfig}}),n.startRun??n.role==="user"?await this.startRun({parentId:s.id,sourceId:n.sourceId,runConfig:n.runConfig??{}}):(this.repository.resetHead(s.id),this._notifySubscribers())}resumeRun({stream:n,...r}){if(!n)throw new Error("You must pass a stream parameter to resume runs.");return this.startRun(r,n)}exportExternalState(){throw new Error("Runtime does not support exporting external states.")}importExternalState(){throw new Error("Runtime does not support importing external states.")}unstable_loadExternalState(){throw new Error("Runtime does not support importing external states.")}async startRun({parentId:n,runConfig:r},s){var l,u,d;this.ensureInitialized();let i={id:Qs(),role:"assistant",status:{type:"running"},content:[],metadata:{unstable_state:this.state,unstable_annotations:[],unstable_data:[],steps:[],custom:{}},createdAt:new Date};this._notifyEventSubscribers("runStart");try{this._suggestions=[],(l=this._suggestionsController)==null||l.abort(),this._suggestionsController=null,this._notifySubscribers();do i=await this.performRoundtrip(n,i,r,s),s=void 0;while(Kv(i,this._options.unstable_humanToolNames))}finally{this._notifyEventSubscribers("runEnd")}this._suggestionsController=new AbortController;const a=this._suggestionsController.signal;if(this.adapters.suggestion&&((u=i.status)==null?void 0:u.type)!=="requires-action"){const h=(d=this.adapters.suggestion)==null?void 0:d.generate({messages:this.messages});if(Symbol.asyncIterator in h)for await(const p of h){if(a.aborted)break;this._suggestions=p,this._notifySubscribers()}else{const p=await h;if(a.aborted)return;this._suggestions=p,this._notifySubscribers()}}}async performRoundtrip(n,r,s,o){var y,b,g,v,x,C,R,k,N;const i=n?this.repository.getMessages(n):[];(y=this.abortController)==null||y.abort(),this.abortController=new AbortController;const a=r.content,l=(b=r.metadata)==null?void 0:b.unstable_annotations,u=(g=r.metadata)==null?void 0:g.unstable_data,d=(v=r.metadata)==null?void 0:v.steps,h=(x=r.metadata)==null?void 0:x.custom,p=I=>{var q,K,Q,j;const M=(q=I.metadata)==null?void 0:q.steps,A=M?[...d??[],...M]:void 0,L=(K=I.metadata)==null?void 0:K.unstable_annotations,E=(Q=I.metadata)==null?void 0:Q.unstable_data,W=L?[...l??[],...L]:void 0,U=E?[...u??[],...E]:void 0;r={...r,...I.content?{content:[...a,...I.content??[]]}:void 0,status:I.status??r.status,...I.metadata?{metadata:{...r.metadata,...I.metadata.unstable_state?{unstable_state:I.metadata.unstable_state}:void 0,...W?{unstable_annotations:W}:void 0,...U?{unstable_data:U}:void 0,...A?{steps:A}:void 0,...(j=I.metadata)!=null&&j.custom?{custom:{...h??{},...I.metadata.custom}}:void 0}}:void 0},this.repository.addOrUpdateMessage(n,r),this._notifySubscribers()},m=this._options.maxSteps??2;if((((R=(C=r.metadata)==null?void 0:C.steps)==null?void 0:R.length)??0)>=m)return p({status:{type:"incomplete",reason:"tool-calls"}}),r;p({status:{type:"running"}}),this.repository.resetHead(r.id),this._notifySubscribers();try{this._lastRunConfig=s??{};const I=this.getModelContext();o=o??this.adapters.chatModel.run.bind(this.adapters.chatModel);const M=this.abortController.signal,A=(k=this._getThreadId)==null?void 0:k.call(this),L=o({messages:i,runConfig:this._lastRunConfig,abortSignal:M,context:I,config:I,unstable_assistantMessageId:r.id,unstable_threadId:A,unstable_parentId:n,unstable_getMessage(){return r}});if(Symbol.asyncIterator in L)for await(const E of L){if(M.aborted){p({status:{type:"incomplete",reason:"cancelled"}});break}p(E)}else p(await L);r.status.type==="running"&&p({status:{type:"complete",reason:"unknown"}})}catch(I){if(I instanceof Hd)p({status:{type:"incomplete",reason:"cancelled"}});else if(I instanceof Error&&I.name==="AbortError")p({status:{type:"incomplete",reason:"cancelled"}});else throw p({status:{type:"incomplete",reason:"error",error:I instanceof Error?I.message:`[${typeof I}] ${new String(I).toString()}`}}),I}finally{this.abortController=null,(r.status.type==="complete"||r.status.type==="incomplete")&&await((N=this._options.adapters.history)==null?void 0:N.append({parentId:n,message:r,runConfig:this._lastRunConfig}))}return r}detach(){var r;const n=new Hd(!0);(r=this.abortController)==null||r.abort(n),this.abortController=null}cancelRun(){var r;const n=new Hd(!1);(r=this.abortController)==null||r.abort(n),this.abortController=null}addToolResult({messageId:n,toolCallId:r,result:s,isError:o,artifact:i}){const a=this.repository.getMessage(n),{parentId:l}=a;let{message:u}=a;if(u.role!=="assistant")throw new Error("Tried to add tool result to non-assistant message");let d=!1,h=!1;const p=u.content.map(m=>m.type!=="tool-call"||m.toolCallId!==r?m:(h=!0,m.result||(d=!0),{...m,result:s,artifact:i,isError:o}));if(!h)throw new Error("Tried to add tool result to non-existing tool call");u={...u,content:p},this.repository.addOrUpdateMessage(l,u),d&&Kv(u,this._options.unstable_humanToolNames)&&this.performRoundtrip(l,u,this._lastRunConfig)}resumeToolCall(n){throw new Error("Local runtime does not support resuming tool calls.")}}const qv=Object.freeze([]),yh="__DEFAULT_ID__",nA=Object.freeze({[yh]:{id:yh,remoteId:void 0,externalId:void 0,status:"regular",title:void 0}});class rA extends Ja{constructor(n){super();P(this,"_mainThread");this._mainThread=n()}get isLoading(){return!1}getMainThreadRuntimeCore(){return this._mainThread}get newThreadId(){throw new Error("Method not implemented.")}get threadIds(){throw qv}get archivedThreadIds(){throw qv}get mainThreadId(){return yh}get threadItems(){return nA}getThreadRuntimeCore(){throw new Error("Method not implemented.")}getLoadThreadsPromise(){throw new Error("Method not implemented.")}getItemById(n){if(n===this.mainThreadId)return{status:"regular",id:this.mainThreadId,remoteId:this.mainThreadId,externalId:void 0,title:void 0,isMain:!0};throw new Error("Method not implemented")}async switchToThread(){throw new Error("Method not implemented.")}switchToNewThread(){throw new Error("Method not implemented.")}rename(){throw new Error("Method not implemented.")}archive(){throw new Error("Method not implemented.")}detach(){throw new Error("Method not implemented.")}unarchive(){throw new Error("Method not implemented.")}delete(){throw new Error("Method not implemented.")}initialize(n){return Promise.resolve({remoteId:n,externalId:void 0})}generateTitle(){throw new Error("Method not implemented.")}}class sA extends Jp{constructor(n,r){super();P(this,"threads");P(this,"Provider");P(this,"_options");this._options=n,this.threads=new rA(()=>new tA(this._contextProvider,this._options)),r&&this.threads.getMainThreadRuntimeCore().import(tm.fromArray(r))}}const Gv=e=>{try{const n=e.split(".")[1];if(!n)throw new Error("Invalid JWT format");let r=n.replace(/-/g,"+").replace(/_/g,"/");for(;r.length%4!==0;)r+="=";const s=atob(r),i=JSON.parse(s).exp;if(!i||typeof i!="number")throw new Error('JWT does not contain a valid "exp" field');return i*1e3}catch(t){throw new Error(`Unable to determine the token expiry: ${t}`)}};var Ha;class FS{constructor(t){P(this,"strategy","jwt");P(this,"cachedToken",null);P(this,"tokenExpiry",null);ji(this,Ha);Mi(this,Ha,t)}async getAuthHeaders(){const t=Date.now();if(this.cachedToken&&this.tokenExpiry&&this.tokenExpiry-t>30*1e3)return{Authorization:`Bearer ${this.cachedToken}`};const n=await Ai(this,Ha).call(this);return n?(this.cachedToken=n,this.tokenExpiry=Gv(n),{Authorization:`Bearer ${n}`}):!1}readAuthHeaders(t){const n=t.get("Authorization");if(!n)return;const[r,s]=n.split(" ");if(r!=="Bearer"||!s)throw new Error("Invalid auth header received");this.cachedToken=s,this.tokenExpiry=Gv(s)}}Ha=new WeakMap;var Va,Wa,Ka;class oA{constructor(t,n,r){P(this,"strategy","api-key");ji(this,Va);ji(this,Wa);ji(this,Ka);Mi(this,Va,t),Mi(this,Wa,n),Mi(this,Ka,r)}async getAuthHeaders(){return{Authorization:`Bearer ${Ai(this,Va)}`,"Aui-User-Id":Ai(this,Wa),"Aui-Workspace-Id":Ai(this,Ka)}}readAuthHeaders(){}}Va=new WeakMap,Wa=new WeakMap,Ka=new WeakMap;const Ml="aui:refresh_token";class iA{constructor(t){P(this,"strategy","anon");P(this,"baseUrl");P(this,"jwtStrategy");this.baseUrl=t,this.jwtStrategy=new FS(async()=>{const n=Date.now(),r=localStorage.getItem(Ml),s=r?JSON.parse(r):void 0;if(s)if(new Date(s.expires_at).getTime()-n>30*1e3){const d=await fetch(`${this.baseUrl}/v1/auth/tokens/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:s.token})});if(d.ok){const h=await d.json(),{access_token:p,refresh_token:m}=h;return m&&localStorage.setItem(Ml,JSON.stringify(m)),p}}else localStorage.removeItem(Ml);const o=await fetch(`${this.baseUrl}/v1/auth/tokens/anonymous`,{method:"POST"});if(!o.ok)return null;const i=await o.json(),{access_token:a,refresh_token:l}=i;return!a||!l?null:(localStorage.setItem(Ml,JSON.stringify(l)),a)})}async getAuthHeaders(){return this.jwtStrategy.getAuthHeaders()}readAuthHeaders(t){this.jwtStrategy.readAuthHeaders(t)}}class aA extends Error{constructor(t){super(t),this.name="APIError"}}class lA{constructor(t){P(this,"_auth");P(this,"_baseUrl");if("authToken"in t)this._baseUrl=t.baseUrl,this._auth=new FS(t.authToken);else if("apiKey"in t)this._baseUrl="https://backend.assistant-api.com",this._auth=new oA(t.apiKey,t.userId,t.workspaceId);else if("anonymous"in t)this._baseUrl=t.baseUrl,this._auth=new iA(t.baseUrl);else throw new Error("Invalid configuration: Must provide authToken, apiKey, or anonymous configuration")}async initializeAuth(){return!!this._auth.getAuthHeaders()}async makeRawRequest(t,n={}){const r=await this._auth.getAuthHeaders();if(!r)throw new Error("Authorization failed");const s={...r,...n.headers,"Content-Type":"application/json"},o=new URLSearchParams;if(n.query)for(const[l,u]of Object.entries(n.query))u!==!1&&(u===!0?o.set(l,"true"):o.set(l,u.toString()));const i=new URL(`${this._baseUrl}/v1${t}`);i.search=o.toString();const a=await fetch(i,{method:n.method??"GET",headers:s,body:n.body?JSON.stringify(n.body):null});if(this._auth.readAuthHeaders(a.headers),!a.ok){const l=await a.text();try{const u=JSON.parse(l);throw new aA(u.message)}catch{throw new Error(`Request failed with status ${a.status}, ${l}`)}}return a}async makeRequest(t,n={}){return(await this.makeRawRequest(t,n)).json()}}class cA{constructor(t){P(this,"cloud");this.cloud=t}async create(){return this.cloud.makeRequest("/auth/tokens",{method:"POST"})}}class uA{constructor(t){P(this,"cloud");this.cloud=t}__internal_getAssistantOptions(t){return{api:`${this.cloud._baseUrl}/v1/runs/stream`,headers:async()=>{const n=await this.cloud._auth.getAuthHeaders();if(!n)throw new Error("Authorization failed");return{...n,Accept:"text/plain"}},body:{assistant_id:t,response_format:"vercel-ai-data-stream/v1",thread_id:"unstable_todo"}}}async stream(t){const n=await this.cloud.makeRawRequest("/runs/stream",{method:"POST",headers:{Accept:"text/plain"},body:t});return mh.fromResponse(n,new $P)}}class dA{constructor(t){P(this,"cloud");this.cloud=t}async list(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}/messages`,{query:n})}async create(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}/messages`,{method:"POST",body:n})}}class fA{constructor(t){P(this,"cloud");P(this,"messages");this.cloud=t,this.messages=new dA(t)}async list(t){return this.cloud.makeRequest("/threads",{query:t})}async get(t){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`)}async create(t){return this.cloud.makeRequest("/threads",{method:"POST",body:t})}async update(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`,{method:"PUT",body:n})}async delete(t){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`,{method:"DELETE"})}}class hA{constructor(t){P(this,"cloud");this.cloud=t}async pdfToImages(t){return this.cloud.makeRequest("/files/pdf-to-images",{method:"POST",body:t})}async generatePresignedUploadUrl(t){return this.cloud.makeRequest("/files/attachments/generate-presigned-upload-url",{method:"POST",body:t})}}class pA{constructor(t){P(this,"threads");P(this,"auth");P(this,"runs");P(this,"files");const n=new lA(t);this.threads=new fA(n),this.auth={tokens:new cA(n)},this.runs=new uA(n),this.files=new hA(n)}}function vh(e,t=0){return t>100?!1:e===null||typeof e=="string"||typeof e=="boolean"?!0:typeof e=="number"?!Number.isNaN(e)&&Number.isFinite(e):Array.isArray(e)?e.every(n=>vh(n,t+1)):typeof e=="object"?Object.entries(e).every(([n,r])=>typeof n=="string"&&vh(r,t+1)):!1}const mA=e=>{var t;return{role:e.role,content:e.content.map(n=>{const r=n.type;switch(r){case"text":return{type:"text",text:n.text};case"reasoning":return{type:"reasoning",text:n.text};case"source":return{type:"source",sourceType:n.sourceType,id:n.id,url:n.url,...n.title?{title:n.title}:void 0};case"tool-call":return vh(n.result)||console.warn(`tool-call result is not JSON! ${JSON.stringify(n)}`),{type:"tool-call",toolCallId:n.toolCallId,toolName:n.toolName,...JSON.stringify(n.args)===n.argsText?{args:n.args}:{argsText:n.argsText},...n.result?{result:n.result}:{},...n.isError?{isError:!0}:{}};case"image":return{type:"image",image:n.image};case"file":return{type:"file",data:n.data,mimeType:n.mimeType,...n.filename?{filename:n.filename}:void 0};default:{const s=r;throw new Error(`Message part type not supported by aui/v0: ${s}`)}}}),metadata:e.metadata,...e.status?{status:((t=e.status)==null?void 0:t.type)==="running"?{type:"incomplete",reason:"cancelled"}:e.status}:void 0}},gA=e=>{const t=e.content,n=Za({id:e.id,createdAt:e.created_at,...t},e.id,{type:"complete",reason:"unknown"});return{parentId:e.parent_id,message:n}},Vd=new WeakMap;class yA{constructor(t,n){P(this,"parent");P(this,"formatAdapter");this.parent=t,this.formatAdapter=n}async append(t){const n=this.formatAdapter.encode(t),r=this.formatAdapter.getId(t.message);return this.parent._appendWithFormat(t.parentId,r,this.formatAdapter.format,n)}async load(){return this.parent._loadWithFormat(this.formatAdapter.format,t=>this.formatAdapter.decode(t))}}class vA{constructor(t,n){P(this,"cloudRef");P(this,"aui");this.cloudRef=t,this.aui=n}get _getIdForLocalId(){return Vd.has(this.aui.threadListItem())||Vd.set(this.aui.threadListItem(),{}),Vd.get(this.aui.threadListItem())}withFormat(t){return new yA(this,t)}async append({parentId:t,message:n}){const{remoteId:r}=await this.aui.threadListItem().initialize(),s=this.cloudRef.current.threads.messages.create(r,{parent_id:t?await this._getIdForLocalId[t]??t:null,format:"aui/v0",content:mA(n)}).then(({message_id:o})=>(this._getIdForLocalId[n.id]=o,o));return this._getIdForLocalId[n.id]=s,s.then(()=>{})}async load(){const t=this.aui.threadListItem().getState().remoteId;if(!t)return{messages:[]};const{messages:n}=await this.cloudRef.current.threads.messages.list(t,{format:"aui/v0"});return{messages:n.filter(s=>s.format==="aui/v0").map(gA).reverse()}}async _appendWithFormat(t,n,r,s){const{remoteId:o}=await this.aui.threadListItem().initialize(),i=this.cloudRef.current.threads.messages.create(o,{parent_id:t?await this._getIdForLocalId[t]??t:null,format:r,content:s}).then(({message_id:a})=>(this._getIdForLocalId[n]=a,a));return this._getIdForLocalId[n]=i,i.then(()=>{})}async _loadWithFormat(t,n){const r=this.aui.threadListItem().getState().remoteId;if(!r)return{messages:[]};const{messages:s}=await this.cloudRef.current.threads.messages.list(r,{format:t});return{messages:s.filter(o=>o.format===t).map(o=>n({id:o.id,parent_id:o.parent_id,format:o.format,content:o.content})).reverse()}}}const xA=e=>{const t=xe(),[n]=f.useState(()=>new vA(e,t));return n};var Lw;const Yv=typeof process<"u"&&((Lw=process==null?void 0:process.env)==null?void 0:Lw.NEXT_PUBLIC_ASSISTANT_BASE_URL),Wd=Yv?new pA({baseUrl:Yv,anonymous:!0}):void 0,wA=e=>{const t=f.useRef(e);f.useEffect(()=>{t.current=e},[e]);const n=f.useCallback(function({children:o}){const i=xA({get current(){return t.current.cloud??Wd}}),a=t.current.cloud??Wd,l=f.useMemo(()=>new XP(a),[a]),u=f.useMemo(()=>({history:i,attachments:l}),[i,l]);return c.jsx(DS,{adapters:u,children:o})},[]),r=e.cloud??Wd;return r?{list:async()=>{const{threads:s}=await r.threads.list();return{threads:s.map(o=>({status:o.is_archived?"archived":"regular",remoteId:o.id,title:o.title,externalId:o.external_id??void 0}))}},initialize:async()=>{var l;const o=await(((l=e.create)==null?void 0:l.call(e))??Promise.resolve()),i=o?o.externalId:void 0,{thread_id:a}=await r.threads.create({last_message_at:new Date,external_id:i});return{externalId:i,remoteId:a}},rename:async(s,o)=>r.threads.update(s,{title:o}),archive:async s=>r.threads.update(s,{is_archived:!0}),unarchive:async s=>r.threads.update(s,{is_archived:!1}),delete:async s=>{var o;return await((o=e.delete)==null?void 0:o.call(e,s)),r.threads.delete(s)},generateTitle:async(s,o)=>{const i=o.map(a=>({...a,content:a.content.filter(l=>l.type==="text"||l.type==="tool-call")}));return r.runs.stream({thread_id:s,assistant_id:"system/thread_title",messages:i})},fetch:async s=>{const o=await r.threads.get(s);return{status:o.is_archived?"archived":"regular",remoteId:o.id,title:o.title,externalId:o.external_id??void 0}},unstable_Provider:n}:new eA},bA=(e,{initialMessages:t,...n})=>{const{modelContext:r,...s}=QP()??{},o={...n,adapters:{...s,...n.adapters,chatModel:e}},[i]=f.useState(()=>new sA(o,t)),a=f.useRef(void 0);return a.current=se(({threadListItem:l})=>l.remoteId),f.useEffect(()=>{i.threads.getMainThreadRuntimeCore().__internal_setGetThreadId(()=>a.current)},[i]),f.useEffect(()=>()=>{i.threads.getMainThreadRuntimeCore().detach()},[i]),f.useEffect(()=>{i.threads.getMainThreadRuntimeCore().__internal_setOptions(o),i.threads.getMainThreadRuntimeCore().__internal_load()}),f.useEffect(()=>{if(r)return i.registerModelContextProvider(r)},[r,i]),f.useMemo(()=>new rm(i),[i])},_A=(e,{cloud:t,...n}={})=>{const r=wA({cloud:t});return uj({runtimeHook:function(){return bA(e,n)},adapter:r,allowNesting:!0})};class rm{constructor(t){P(this,"_core");P(this,"threads");P(this,"_thread");this._core=t,this.threads=new LS(t.threads),this._thread=this.threads.main,this.__internal_bindMethods()}get threadList(){return this.threads}__internal_bindMethods(){this.switchToNewThread=this.switchToNewThread.bind(this),this.switchToThread=this.switchToThread.bind(this),this.registerModelContextProvider=this.registerModelContextProvider.bind(this),this.registerModelConfigProvider=this.registerModelConfigProvider.bind(this),this.reset=this.reset.bind(this)}get thread(){return this._thread}switchToNewThread(){return this._core.threads.switchToNewThread()}switchToThread(t){return this._core.threads.switchToThread(t)}registerModelContextProvider(t){return this._core.registerModelContextProvider(t)}registerModelConfigProvider(t){return this.registerModelContextProvider(t)}reset({initialMessages:t}={}){return this._core.threads.getMainThreadRuntimeCore().import(tm.fromArray(t??[]))}}function Ye(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}const Xv=e=>{let t;const n=new Set,r=(u,d)=>{const h=typeof u=="function"?u(t):u;if(!Object.is(h,t)){const p=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(m=>m(t,p))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=t=e(r,s,a);return a},SA=e=>e?Xv(e):Xv,CA=e=>e;function kA(e,t=CA){const n=Se.useSyncExternalStore(e.subscribe,Se.useCallback(()=>t(e.getState()),[e,t]),Se.useCallback(()=>t(e.getInitialState()),[e,t]));return Se.useDebugValue(n),n}const Qv=e=>{const t=SA(e),n=r=>kA(t,r);return Object.assign(n,t),n},ai=e=>e?Qv(e):Qv;function BS(e,t){function n(s){const o=e(s);return o?o[t]:null}function r(s){let o=!1,i;typeof s=="function"?i=s:s&&typeof s=="object"&&(o=!!s.optional,i=s.selector);const a=n({optional:o});return a?i?a(i):a():null}return{[t]:r,[`${t}Store`]:n}}const zS=f.createContext(null),EA=e=>({useSmoothStatus:ai(()=>e)}),TA=({children:e})=>{const t=$S({optional:!0}),n=xe(),[r]=f.useState(()=>EA(n.part().getState().status));return t?e:c.jsx(zS.Provider,{value:r,children:e})},NA=e=>{const t=f.forwardRef((n,r)=>c.jsx(TA,{children:c.jsx(e,{...n,ref:r})}));return t.displayName=e.displayName,t};function $S(e){const t=f.useContext(zS);if(!(e!=null&&e.optional)&&!t)throw new Error("This component must be used within a SmoothContextProvider.");return t}const{useSmoothStatus:RA,useSmoothStatusStore:IA}=BS($S,"useSmoothStatus"),Da=e=>e;class PA{constructor(t,n){P(this,"currentText");P(this,"setText");P(this,"animationFrameId",null);P(this,"lastUpdateTime",Date.now());P(this,"targetText","");P(this,"animate",()=>{const t=Date.now();let r=t-this.lastUpdateTime;const s=this.targetText.length-this.currentText.length,o=Math.min(5,250/s);let i=0;for(;r>=o&&i<s;)i++,r-=o;i!==s?this.animationFrameId=requestAnimationFrame(this.animate):this.animationFrameId=null,i!==0&&(this.currentText=this.targetText.slice(0,this.currentText.length+i),this.lastUpdateTime=t-r,this.setText(this.currentText))});this.currentText=t,this.setText=n}start(){this.animationFrameId===null&&(this.lastUpdateTime=Date.now(),this.animate())}stop(){this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}}const Kd=Object.freeze({type:"running"}),US=(e,t=!1)=>{const{text:n}=e,r=se(({message:d})=>d.id),s=f.useRef(r),[o,i]=f.useState(n),a=IA({optional:!0}),l=Ye(d=>{if(i(d),a){const h=o!==d||e.status.type==="running"?Kd:e.status;Da(a).setState(h,!0)}});f.useEffect(()=>{if(a){const d=t&&(o!==n||e.status.type==="running")?Kd:e.status;Da(a).setState(d,!0)}},[a,t,n,o,e.status]);const[u]=f.useState(new PA(n,l));return f.useEffect(()=>{if(!t){u.stop();return}if(s.current!==r||!n.startsWith(u.targetText)){s.current=r,l(n),u.currentText=n,u.targetText=n,u.stop();return}u.targetText=n,u.start()},[l,u,r,t,n]),f.useEffect(()=>()=>{u.stop()},[u]),f.useMemo(()=>t?{type:"text",text:o,status:n===o?e.status:Kd}:e,[t,o,e,n])},sm=Object.freeze(Object.defineProperty({__proto__:null,AssistantRuntimeImpl:rm,BaseAssistantRuntimeCore:Jp,CompositeContextProvider:Qp,DefaultThreadComposerRuntimeCore:xS,MessageRepository:NS,ThreadRuntimeImpl:OS,fromThreadMessageLike:Za,generateId:Qs,getAutoStatus:wS,useSmooth:US,useSmoothStatus:RA,withSmoothContextProvider:NA},Symbol.toStringTag,{value:"Module"})),oo=e=>{const[,t]=Fn(e.getState);return yt(()=>(t(e.getState()),e.subscribe(()=>{t(e.getState())})),[e]),e.getState()},HS=Me(({runtime:e})=>{const t=oo(e),n=Xp();return yt(()=>{const r=[],s=["switchedTo","switchedAway"];for(const o of s){const i=e.unstable_on(o,()=>{n(`threadListItem.${o}`,{threadId:e.getState().id})});r.push(i)}return()=>{for(const o of r)o()}},[e,n]),{state:t,methods:{getState:()=>t,switchTo:e.switchTo,rename:e.rename,archive:e.archive,unarchive:e.unarchive,delete:e.delete,generateTitle:e.generateTitle,initialize:e.initialize,detach:e.detach,__internal_getRuntime:()=>e}}}),VS=Me(({runtime:e})=>{const t=oo(e);return{state:t,methods:{getState:()=>t,remove:e.remove,__internal_getRuntime:()=>e}}}),AA=Me(({runtime:e,index:t})=>{const n=ke(()=>e.getAttachmentByIndex(t),[e,t]);return cr(VS({runtime:n}))}),WS=Me(({threadIdRef:e,messageIdRef:t,runtime:n})=>{const r=oo(n),s=Xp();yt(()=>{const a=[],l=["send","attachmentAdd"];for(const u of l){const d=n.unstable_on(u,()=>{s(`composer.${u}`,{threadId:e.current,...t&&{messageId:t.current}})});a.push(d)}return()=>{for(const u of a)u()}},[n,s,e,t]);const o=ii(()=>r.attachments.map((a,l)=>Pr(a.id,AA({runtime:n,index:l}))),[r.attachments,n]),i=ke(()=>({text:r.text,role:r.role,attachments:o.state,runConfig:r.runConfig,isEditing:r.isEditing,canCancel:r.canCancel,attachmentAccept:r.attachmentAccept,isEmpty:r.isEmpty,type:r.type??"thread",dictation:r.dictation}),[r,o.state]);return{state:i,methods:{getState:()=>i,setText:n.setText,setRole:n.setRole,setRunConfig:n.setRunConfig,addAttachment:n.addAttachment,reset:n.reset,clearAttachments:n.clearAttachments,send:n.send,cancel:n.cancel,beginEdit:n.beginEdit??(()=>{throw new Error("beginEdit is not supported in this runtime")}),startDictation:n.startDictation,stopDictation:n.stopDictation,attachment:a=>"id"in a?o.get({key:a.id}):o.get(a),__internal_getRuntime:()=>n}}}),jA=Me(({runtime:e})=>{const t=oo(e);return{state:t,methods:{getState:()=>t,addToolResult:n=>e.addToolResult(n),resumeToolCall:n=>e.resumeToolCall(n),__internal_getRuntime:()=>e}}}),MA=Me(({runtime:e,index:t})=>{const n=ke(()=>e.getAttachmentByIndex(t),[e,t]);return cr(VS({runtime:n}))}),OA=Me(({runtime:e,index:t})=>{const n=ke(()=>e.getMessagePartByIndex(t),[e,t]);return cr(jA({runtime:n}))}),LA=Me(({runtime:e,threadIdRef:t})=>{const n=oo(e),[r,s]=Fn(!1),[o,i]=Fn(!1),a=ke(()=>({get current(){return e.getState().id}}),[e]),l=Ru(WS({runtime:e.composer,threadIdRef:t,messageIdRef:a})),u=ii(()=>n.content.map((p,m)=>Pr("toolCallId"in p&&p.toolCallId!=null?`toolCallId-${p.toolCallId}`:`index-${m}`,OA({runtime:e,index:m}))),[n.content,e]),d=ii(()=>(n.attachments??[]).map((p,m)=>Pr(p.id,MA({runtime:e,index:m}))),[n.attachments,e]),h=ke(()=>({...n,parts:u.state,composer:l.state,isCopied:r,isHovering:o}),[n,u.state,l.state,r,o]);return{state:h,methods:{getState:()=>h,composer:l.methods,reload:p=>e.reload(p),speak:()=>e.speak(),stopSpeaking:()=>e.stopSpeaking(),submitFeedback:p=>e.submitFeedback(p),switchToBranch:p=>e.switchToBranch(p),getCopyText:()=>e.unstable_getCopyText(),part:p=>"index"in p?u.get({index:p.index}):u.get({key:`toolCallId-${p.toolCallId}`}),attachment:p=>"id"in p?d.get({key:p.id}):d.get(p),setIsCopied:s,setIsHovering:i,__internal_getRuntime:()=>e}}}),DA=Me(({runtime:e,id:t,threadIdRef:n})=>{const r=ke(()=>e.getMessageById(t),[e,t]);return cr(LA({runtime:r,threadIdRef:n}))}),FA=Me(({runtime:e})=>{const t=oo(e),n=Xp();yt(()=>{const a=[],l=["runStart","runEnd","initialize","modelContextUpdate"];for(const u of l){const d=e.unstable_on(u,()=>{var p;const h=((p=e.getState())==null?void 0:p.threadId)||"unknown";n(`thread.${u}`,{threadId:h})});a.push(d)}return()=>{for(const u of a)u()}},[e,n]);const r=ke(()=>({get current(){return e.getState().threadId}}),[e]),s=Ru(WS({runtime:e.composer,threadIdRef:r})),o=ii(()=>t.messages.map(a=>Pr(a.id,DA({runtime:e,id:a.id,threadIdRef:r}))),[t.messages,e,r]),i=ke(()=>({isEmpty:o.state.length===0&&!t.isLoading,isDisabled:t.isDisabled,isLoading:t.isLoading,isRunning:t.isRunning,capabilities:t.capabilities,state:t.state,suggestions:t.suggestions,extras:t.extras,speech:t.speech,composer:s.state,messages:o.state}),[t,o,s.state]);return{state:i,methods:{getState:()=>i,composer:s.methods,append:e.append,startRun:e.startRun,unstable_resumeRun:e.unstable_resumeRun,cancelRun:e.cancelRun,getModelContext:e.getModelContext,export:e.export,import:e.import,reset:e.reset,stopSpeaking:e.stopSpeaking,startVoice:async()=>{throw new Error("startVoice is not supported in this runtime")},stopVoice:async()=>{throw new Error("stopVoice is not supported in this runtime")},message:a=>"id"in a?o.get({key:a.id}):o.get(a),__internal_getRuntime:()=>e}}}),BA=Me(({runtime:e,id:t})=>{const n=ke(()=>e.getItemById(t),[e,t]);return cr(HS({runtime:n}))}),zA=Me(({runtime:e,__internal_assistantRuntime:t})=>{const n=oo(e),r=Ru(FA({runtime:e.main})),s=ii(()=>Object.keys(n.threadItems).map(i=>Pr(i,BA({runtime:e,id:i}))),[n.threadItems,e]),o=ke(()=>({mainThreadId:n.mainThreadId,newThreadId:n.newThreadId??null,isLoading:n.isLoading,threadIds:n.threadIds,archivedThreadIds:n.archivedThreadIds,threadItems:s.state,main:r.state}),[n,s.state,r.state]);return{state:o,methods:{getState:()=>o,thread:()=>r.methods,item:i=>{if(i==="main")return s.get({key:o.mainThreadId});if("id"in i)return s.get({key:i.id});const{index:a,archived:l=!1}=i,u=l?o.archivedThreadIds[a]:o.threadIds[a];return s.get({key:u})},switchToThread:async i=>{await e.switchToThread(i)},switchToNewThread:async()=>{await e.switchToNewThread()},__internal_getAssistantRuntime:()=>t}}}),$A=1,KS=Me(()=>{const[e]=Fn(()=>({version:$A+1})),t=ke(()=>new Qp,[]);return{state:e,methods:{getState:()=>e,getModelContext:()=>t.getModelContext(),subscribe:n=>t.subscribe(n),register:n=>t.registerModelContextProvider(n)}}});function Jv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Mu(...e){return t=>{let n=!1;const r=e.map(s=>{const o=Jv(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Jv(e[s],null)}}}}function we(...e){return f.useCallback(Mu(...e),e)}const qS=Me(({toolkit:e})=>{const[t,n]=Fn(()=>({tools:{}})),r=gS(),s=Z_((o,i)=>(n(a=>({...a,tools:{...a.tools,[o]:[...a.tools[o]??[],i]}})),()=>{n(a=>{var l;return{...a,tools:{...a.tools,[o]:((l=a.tools[o])==null?void 0:l.filter(u=>u!==i))??[]}}})}),[]);return yt(()=>{if(!e)return;const o=[];for(const[l,u]of Object.entries(e))u.render&&o.push(s(l,u.render));const i=Object.entries(e).reduce((l,[u,d])=>{const{render:h,...p}=d;return l[u]=p,l},{}),a={getModelContext:()=>({tools:i})};return o.push(r.current.modelContext().register(a)),()=>{o.forEach(l=>l())}},[e,s,r]),{state:t,methods:{getState:()=>t,setToolUI:s}}});fS(qS,{modelContext:KS()});const UA=Me(e=>({state:e,methods:{getState:()=>e}})),HA=Me(e=>{const[t]=Fn(()=>({suggestions:(e??[]).map(s=>typeof s=="string"?{title:s,label:"",prompt:s}:{title:s.title,label:s.label,prompt:s.prompt})})),n=ii(()=>t.suggestions.map((r,s)=>Pr(s,UA(r))),[t.suggestions]);return{state:t,methods:{getState:()=>t,suggestion:({index:r})=>n.get({index:r})}}}),VA=HA,GS=Me(e=>{const t=gS();return yt(()=>e.registerModelContextProvider(t.current.modelContext()),[e,t]),cr(zA({runtime:e.threads,__internal_assistantRuntime:e}))});fS(GS,{modelContext:KS(),tools:qS({}),suggestions:VA(),threadListItem:On({source:"threads",query:{type:"main"},get:e=>e.threads().item("main")}),thread:On({source:"threads",query:{type:"main"},get:e=>e.threads().thread("main")}),composer:On({source:"thread",query:{},get:e=>e.threads().thread("main").composer})});const qd=e=>{const t=new Map,n=()=>{let r=0;for(const s of t.values())r+=s;e(r)};return{register:()=>{const r=Symbol();return t.set(r,0),{setHeight:s=>{t.get(r)!==s&&(t.set(r,s),n())},unregister:()=>{t.delete(r),n()}}}}},WA=(e={})=>{const t=new Set,n=qd(i=>{o.setState({height:{...o.getState().height,viewport:i}})}),r=qd(i=>{o.setState({height:{...o.getState().height,inset:i}})}),s=qd(i=>{o.setState({height:{...o.getState().height,userMessage:i}})}),o=ai(()=>({isAtBottom:!0,scrollToBottom:({behavior:i="auto"}={})=>{for(const a of t)a({behavior:i})},onScrollToBottom:i=>(t.add(i),()=>{t.delete(i)}),turnAnchor:e.turnAnchor??"bottom",height:{viewport:0,inset:0,userMessage:0},registerViewport:n.register,registerContentInset:r.register,registerUserMessageHeight:s.register}));return o};function KA(e,t){function n(r){const s=f.useContext(e);if(!(r!=null&&r.optional)&&!s)throw new Error(`This component must be used within ${t}.`);return s}return n}const YS=f.createContext(null),qA=KA(YS,"ThreadPrimitive.Viewport"),{useThreadViewport:Fa,useThreadViewportStore:Ou}=BS(qA,"useThreadViewport"),GA=e=>{const t=Ou({optional:!0}),[n]=f.useState(()=>WA(e));return f.useEffect(()=>t==null?void 0:t.getState().onScrollToBottom(()=>{n.getState().scrollToBottom()}),[t,n]),f.useEffect(()=>{if(t)return n.subscribe(r=>{t.getState().isAtBottom!==r.isAtBottom&&Da(t).setState({isAtBottom:r.isAtBottom})})},[n,t]),f.useEffect(()=>{const r={turnAnchor:e.turnAnchor??"bottom"};n.getState().turnAnchor!==r.turnAnchor&&Da(n).setState(r)},[n,e.turnAnchor]),n},XS=({children:e,options:t={}})=>{const n=GA(t),[r]=f.useState(()=>({useThreadViewport:n}));return c.jsx(YS.Provider,{value:r,children:e})},YA=e=>{var t;return(t=e._core)==null?void 0:t.RenderComponent},XA=({children:e,aui:t=null,runtime:n})=>{const r=xe({threads:GS(n)},{parent:t});f.useEffect(()=>{},[r]);const s=YA(n);return c.jsxs(Cs,{value:r,children:[s&&c.jsx(s,{}),c.jsx(XS,{children:e})]})},QS=f.memo(XA),QA=({runtime:e,children:t})=>{const n=xe({threadListItem:HS({runtime:e})});return c.jsx(Cs,{value:n,children:t})},JA=({index:e,children:t})=>{const n=xe({message:On({source:"thread",query:{type:"index",index:e},get:r=>r.thread().message({index:e})}),composer:On({source:"message",query:{},get:r=>r.thread().message({index:e}).composer})});return c.jsx(Cs,{value:n,children:t})},ZA=({index:e,children:t})=>{const n=xe({part:On({source:"message",query:{type:"index",index:e},get:r=>r.message().part({index:e})})});return c.jsx(Cs,{value:n,children:t})},ej=({index:e,children:t})=>{const n=xe({attachment:On({source:"message",query:{type:"index",index:e},get:r=>r.message().attachment({index:e})})});return c.jsx(Cs,{value:n,children:t})},tj=({index:e,children:t})=>{const n=xe({attachment:On({source:"composer",query:{type:"index",index:e},get:r=>r.composer().attachment({index:e})})});return c.jsx(Cs,{value:n,children:t})},nj=Me(({text:e,isRunning:t})=>{const n=ke(()=>({type:"text",text:e,status:t?{type:"running"}:{type:"complete"}}),[e,t]);return{state:n,methods:{getState:()=>n,addToolResult:()=>{throw new Error("Not supported")},resumeToolCall:()=>{throw new Error("Not supported")}}}}),rj=({text:e,isRunning:t=!1,children:n})=>{const r=xe({part:nj({text:e,isRunning:t})});return c.jsx(Cs,{value:r,children:n})};class sj extends Ja{constructor(n,r){super();P(this,"useRuntimeHook");P(this,"instances",new Map);P(this,"useAliveThreadsKeysChanged",ai(()=>({})));P(this,"parent");P(this,"_InnerActiveThreadProvider",({threadId:n})=>{const{useRuntime:r}=this.useRuntimeHook(),s=r(),o=s.thread.__internal_threadBinding,i=f.useCallback(()=>{const d=this.instances.get(n);if(!d)throw new Error("Thread not found. This is a bug in assistant-ui.");d.runtime=o.getState(),this._notifySubscribers()},[n,o]),a=f.useRef(!1);a.current||i(),f.useEffect(()=>(a.current=!0,i(),o.outerSubscribe(i)),[o,i]);const l=xe(),u=f.useRef(void 0);return f.useEffect(()=>{const d=o.getState(),h=d.__internal_setGetInitializePromise;typeof h=="function"&&h.call(d,()=>u.current)},[o]),f.useEffect(()=>s.threads.main.unstable_on("initialize",()=>{if(l.threadListItem().getState().status==="new"){u.current=l.threadListItem().initialize();const h=s.thread.unstable_on("runEnd",()=>{h(),l.threadListItem().generateTitle()})}}),[s,l]),null});P(this,"_OuterActiveThreadProvider",f.memo(({threadId:n,provider:r})=>{const s=f.useMemo(()=>new LS(this.parent).getItemById(n),[n]);return c.jsx(QA,{runtime:s,children:c.jsx(r,{children:c.jsx(this._InnerActiveThreadProvider,{threadId:n})})})}));P(this,"__internal_RenderThreadRuntimes",({provider:n})=>(this.useAliveThreadsKeysChanged(),Array.from(this.instances.keys()).map(r=>c.jsx(this._OuterActiveThreadProvider,{threadId:r,provider:n},r))));this.parent=r,this.useRuntimeHook=ai(()=>({useRuntime:n}))}startThreadRuntime(n){return this.instances.has(n)||(this.instances.set(n,{}),this.useAliveThreadsKeysChanged.setState({},!0)),new Promise((r,s)=>{const o=()=>{const a=this.instances.get(n);if(!a)i(),s(new Error("Thread was deleted before runtime was started"));else if(a.runtime)i(),r(a.runtime);else return},i=this.subscribe(o);o()})}getThreadRuntimeCore(n){const r=this.instances.get(n);if(r)return r.runtime}stopThreadRuntime(n){this.instances.delete(n),this.useAliveThreadsKeysChanged.setState({},!0)}setRuntimeHook(n){this.useRuntimeHook.getState().useRuntime!==n&&this.useRuntimeHook.setState({useRuntime:n},!0)}}const He=new Error("This is the empty thread, a placeholder for the main thread. You cannot perform any actions on this thread instance. This error is probably because you tried to call a thread method in your render function. Call the method inside a `useEffect` hook instead."),oj={getMessageById(){},getBranches(){return[]},switchToBranch(){throw He},append(){throw He},startRun(){throw He},resumeRun(){throw He},cancelRun(){throw He},addToolResult(){throw He},resumeToolCall(){throw He},speak(){throw He},stopSpeaking(){throw He},submitFeedback(){throw He},getModelContext(){return{}},exportExternalState(){throw He},importExternalState(){throw He},unstable_loadExternalState(){throw He},composer:{attachments:[],attachmentAccept:"*",async addAttachment(){throw He},async removeAttachment(){throw He},isEditing:!0,canCancel:!1,isEmpty:!0,text:"",setText(){throw He},role:"user",setRole(){throw He},runConfig:{},setRunConfig(){throw He},async reset(){},async clearAttachments(){},send(){throw He},cancel(){},dictation:void 0,startDictation(){throw He},stopDictation(){},subscribe(){return()=>{}},unstable_on(){return()=>{}}},getEditComposer(){},beginEdit(){throw He},speech:void 0,capabilities:{switchToBranch:!1,switchBranchDuringRun:!1,edit:!1,reload:!1,cancel:!1,unstable_copy:!1,speech:!1,dictation:!1,attachments:!1,feedback:!1},isDisabled:!1,isLoading:!1,messages:[],state:null,suggestions:[],extras:void 0,subscribe(){return()=>{}},import(){throw He},export(){return{messages:[]}},reset(){throw He},unstable_on(){return()=>{}}},Zv=(e,t,n)=>n.reduce((r,s)=>(s==null?void 0:s(r,t))??r,e);class ij extends Ja{constructor(n){super();P(this,"_pendingTransforms",[]);P(this,"_baseValue");P(this,"_cachedValue");this._baseValue=n,this._cachedValue=n}_updateState(){this._cachedValue=this._pendingTransforms.reduce((n,r)=>Zv(n,r.task,[r.loading,r.optimistic]),this._baseValue),this._notifySubscribers()}get baseValue(){return this._baseValue}get value(){return this._cachedValue}update(n){this._baseValue=n,this._updateState()}async optimisticUpdate(n){const r=n.execute(),s={...n,task:r};try{this._pendingTransforms.push(s),this._updateState();const o=await r;return this._baseValue=Zv(this._baseValue,o,[n.optimistic,n.then]),o}finally{const o=this._pendingTransforms.indexOf(s);o>-1&&this._pendingTransforms.splice(o,1),this._updateState()}}}const cc=(e,t)=>{const n=e.threadIdMap[t];if(n!==void 0)return e.threadData[n]},Ol=(e,t,n)=>{const r=cc(e,t);if(!r)return e;const{id:s,remoteId:o,status:i}=r;if(i===n)return e;const a={...e};switch(i){case"new":a.newThreadId=void 0;break;case"regular":a.threadIds=a.threadIds.filter(l=>l!==s);break;case"archived":a.archivedThreadIds=a.archivedThreadIds.filter(l=>l!==s);break;default:{const l=i;throw new Error(`Unsupported state: ${l}`)}}switch(n){case"regular":a.threadIds=[s,...a.threadIds];break;case"archived":a.archivedThreadIds=[s,...a.archivedThreadIds];break;case"deleted":a.threadData=Object.fromEntries(Object.entries(a.threadData).filter(([l])=>l!==s)),a.threadIdMap=Object.fromEntries(Object.entries(a.threadIdMap).filter(([l])=>l!==s&&l!==o));break;default:{const l=n;throw new Error(`Unsupported state: ${l}`)}}return n!=="deleted"&&(a.threadData={...a.threadData,[s]:{...r,status:n}}),a};class aj extends Ja{constructor(n,r){super();P(this,"contextProvider");P(this,"_options");P(this,"_hookManager");P(this,"_loadThreadsPromise");P(this,"_mainThreadId");P(this,"_state",new ij({isLoading:!1,newThreadId:void 0,threadIds:[],archivedThreadIds:[],threadIdMap:{},threadData:{}}));P(this,"useProvider");P(this,"initialize",async n=>{if(this._state.value.newThreadId!==n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status==="new")throw new Error("Unexpected new state");return r.initializeTask}return this._state.optimisticUpdate({execute:()=>this._options.adapter.initialize(n),optimistic:r=>Ol(r,n,"regular"),loading:(r,s)=>{const o=n;return{...r,threadData:{...r.threadData,[o]:{...r.threadData[o],initializeTask:s}}}},then:(r,{remoteId:s,externalId:o})=>{const i=cc(r,n);if(!i)return r;const a=n;return{...r,threadIdMap:{...r.threadIdMap,[s]:a},threadData:{...r.threadData,[a]:{...i,initializeTask:Promise.resolve({remoteId:s,externalId:o}),remoteId:s,externalId:o}}}}})});P(this,"generateTitle",async n=>{var u;const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status==="new")throw new Error("Thread is not yet initialized");const{remoteId:s}=await r.initializeTask,o=this._hookManager.getThreadRuntimeCore(r.id);if(!o)return;const i=o.messages,a=await this._options.adapter.generateTitle(s,i),l=fa.fromAssistantStream(a);for await(const d of l){const h=(u=d.parts.filter(m=>m.type==="text")[0])==null?void 0:u.text,p=this._state.baseValue;this._state.update({...p,threadData:{...p.threadData,[r.id]:{...r,title:h}}})}});P(this,"useBoundIds",ai(()=>[]));P(this,"__internal_RenderComponent",()=>{const n=f.useId();f.useEffect(()=>(this.useBoundIds.setState(i=>[...i,n],!0),()=>{this.useBoundIds.setState(i=>i.filter(a=>a!==n),!0)}),[n]);const r=this.useBoundIds(),{Provider:s}=this.useProvider(),o={modelContext:this.contextProvider};return(r.length===0||r[0]===n)&&c.jsx(DS,{adapters:o,children:c.jsx(this._hookManager.__internal_RenderThreadRuntimes,{provider:s})})});this.contextProvider=r,this._state.subscribe(()=>this._notifySubscribers()),this._hookManager=new sj(n.runtimeHook,this),this.useProvider=ai(()=>({Provider:n.adapter.unstable_Provider??f.Fragment})),this.__internal_setOptions(n),this.switchToNewThread()}get threadItems(){return this._state.value.threadData}getLoadThreadsPromise(){return this._loadThreadsPromise||(this._loadThreadsPromise=this._state.optimisticUpdate({execute:()=>this._options.adapter.list(),loading:n=>({...n,isLoading:!0}),then:(n,r)=>{const s=[],o=[],i={},a={};for(const l of r.threads){switch(l.status){case"regular":s.push(l.remoteId);break;case"archived":o.push(l.remoteId);break;default:{const d=l.status;throw new Error(`Unsupported state: ${d}`)}}const u=l.remoteId;i[l.remoteId]=u,a[u]={id:l.remoteId,remoteId:l.remoteId,externalId:l.externalId,status:l.status,title:l.title,initializeTask:Promise.resolve({remoteId:l.remoteId,externalId:l.externalId})}}return{...n,threadIds:s,archivedThreadIds:o,threadIdMap:{...n.threadIdMap,...i},threadData:{...n.threadData,...a}}}}).then(()=>{})),this._loadThreadsPromise}__internal_setOptions(n){if(this._options===n)return;this._options=n;const r=n.adapter.unstable_Provider??f.Fragment;r!==this.useProvider.getState().Provider&&this.useProvider.setState({Provider:r},!0),this._hookManager.setRuntimeHook(n.runtimeHook)}__internal_load(){this.getLoadThreadsPromise()}get isLoading(){return this._state.value.isLoading}get threadIds(){return this._state.value.threadIds}get archivedThreadIds(){return this._state.value.archivedThreadIds}get newThreadId(){return this._state.value.newThreadId}get mainThreadId(){return this._mainThreadId}getMainThreadRuntimeCore(){const n=this._hookManager.getThreadRuntimeCore(this._mainThreadId);return n||oj}getThreadRuntimeCore(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");const s=this._hookManager.getThreadRuntimeCore(r.id);if(!s)throw new Error("Thread not found");return s}getItemById(n){return cc(this._state.value,n)}async switchToThread(n){let r=this.getItemById(n);if(!r){const o=await this._options.adapter.fetch(n),i=this._state.value,a=o.remoteId,l={...i.threadData,[a]:{id:a,initializeTask:Promise.resolve({remoteId:o.remoteId,externalId:o.externalId}),remoteId:o.remoteId,externalId:o.externalId,status:o.status,title:o.title}},u={...i.threadIdMap,[o.remoteId]:a},d=o.status==="regular"?[...i.threadIds,o.remoteId]:i.threadIds,h=o.status==="archived"?[...i.archivedThreadIds,o.remoteId]:i.archivedThreadIds;this._state.update({...i,threadIds:d,archivedThreadIds:h,threadIdMap:u,threadData:l}),r=this.getItemById(n)}if(!r)throw new Error("Thread not found");if(this._mainThreadId===r.id)return;const s=this._hookManager.startThreadRuntime(r.id);this.mainThreadId!==void 0?await s:s.then(()=>this._notifySubscribers()),r.status==="archived"&&await this.unarchive(r.id),this._mainThreadId=r.id,this._notifySubscribers()}async switchToNewThread(){for(;this._state.baseValue.newThreadId!==void 0&&this._state.value.newThreadId===void 0;)await this._state.waitForUpdate();const n=this._state.value;let r=this._state.value.newThreadId;if(r===void 0){do r=`__LOCALID_${Qs()}`;while(n.threadIdMap[r]);const s=r;this._state.update({...n,newThreadId:r,threadIdMap:{...n.threadIdMap,[r]:s},threadData:{...n.threadData,[s]:{status:"new",id:r,remoteId:void 0,externalId:void 0,title:void 0}}})}return this.switchToThread(r)}rename(n,r){const s=this.getItemById(n);if(!s)throw new Error("Thread not found");if(s.status==="new")throw new Error("Thread is not yet initialized");return this._state.optimisticUpdate({execute:async()=>{const{remoteId:o}=await s.initializeTask;return this._options.adapter.rename(o,r)},optimistic:o=>{const i=cc(o,n);return i?{...o,threadData:{...o.threadData,[i.id]:{...i,title:r}}}:o}})}async _ensureThreadIsNotMain(n){if(n===this.newThreadId)throw new Error("Cannot ensure new thread is not main");n===this._mainThreadId&&await this.switchToNewThread()}async archive(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular")throw new Error("Thread is not yet initialized or already archived");return this._state.optimisticUpdate({execute:async()=>{await this._ensureThreadIsNotMain(r.id);const{remoteId:s}=await r.initializeTask;return this._options.adapter.archive(s)},optimistic:s=>Ol(s,r.id,"archived")})}unarchive(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="archived")throw new Error("Thread is not archived");return this._state.optimisticUpdate({execute:async()=>{try{const{remoteId:s}=await r.initializeTask;return await this._options.adapter.unarchive(s)}catch(s){throw await this._ensureThreadIsNotMain(r.id),s}},optimistic:s=>Ol(s,r.id,"regular")})}async delete(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular"&&r.status!=="archived")throw new Error("Thread is not yet initialized");return this._state.optimisticUpdate({execute:async()=>{await this._ensureThreadIsNotMain(r.id);const{remoteId:s}=await r.initializeTask;return await this._options.adapter.delete(s)},optimistic:s=>Ol(s,r.id,"deleted")})}async detach(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular"&&r.status!=="archived")throw new Error("Thread is not yet initialized");await this._ensureThreadIsNotMain(r.id),this._hookManager.stopThreadRuntime(r.id)}}class lj extends Jp{constructor(n){super();P(this,"threads");this.threads=new aj(n,this._contextProvider)}get RenderComponent(){return this.threads.__internal_RenderComponent}}const cj=e=>{const[t]=f.useState(()=>new lj(e));return f.useEffect(()=>{t.threads.__internal_setOptions(e),t.threads.__internal_load()},[t,e]),f.useMemo(()=>new rm(t),[t])},uj=e=>{if(xe().threadListItem.source!==null){if(!e.allowNesting)throw new Error("useRemoteThreadListRuntime cannot be nested inside another RemoteThreadListRuntime. Set allowNesting: true to allow nesting (the inner runtime will become a no-op).");return e.runtimeHook()}return cj(e)},dj=e=>{var n;const t=e;t.__isBound||((n=t.__internal_bindMethods)==null||n.call(t),t.__isBound=!0)};function fj(e,t=hj){dj(e);const n=f.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getState()));return f.useDebugValue(n),n}const hj=e=>e;function om(e){function t(n){let r=!1,s;typeof n=="function"?s=n:n&&(r=!!n.optional,s=n.selector);const o=e({optional:r});return o?fj(o,s):null}return t}function pj(e){var r,s;return((s=(r=xe().threads()).__internal_getAssistantRuntime)==null?void 0:s.call(r))??null}function mj(e){const t=xe(),n=se(()=>{var r,s;return t.attachment.source?((s=(r=t.attachment()).__internal_getRuntime)==null?void 0:s.call(r))??null:null});if(!n&&!(e!=null&&e.optional))throw new Error("AttachmentRuntime is not available");return n}const Xc=om(mj);function gj(e){const t=xe(),n=se(()=>{var r,s;return t.message.source?((s=(r=t.message()).__internal_getRuntime)==null?void 0:s.call(r))??null:null});if(!n&&!(e!=null&&e.optional))throw new Error("MessageRuntime is not available");return n}const xh=om(gj);function yj(e){const t=xe(),n=se(()=>{var r,s;return t.thread.source?((s=(r=t.thread()).__internal_getRuntime)==null?void 0:s.call(r))??null:null});if(!n&&!(e!=null&&e.optional))throw new Error("ThreadRuntime is not available");return n}const Un=om(yj);var vj=Symbol.for("react.lazy"),Qc=ep[" use ".trim().toString()];function xj(e){return typeof e=="object"&&e!==null&&"then"in e}function JS(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===vj&&"_payload"in e&&xj(e._payload)}function ZS(e){const t=wj(e),n=f.forwardRef((r,s)=>{let{children:o,...i}=r;JS(o)&&typeof Qc=="function"&&(o=Qc(o._payload));const a=f.Children.toArray(o),l=a.find(_j);if(l){const u=l.props.children,d=a.map(h=>h===l?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...i,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return c.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var eC=ZS("Slot");function wj(e){const t=f.forwardRef((n,r)=>{let{children:s,...o}=n;if(JS(s)&&typeof Qc=="function"&&(s=Qc(s._payload)),f.isValidElement(s)){const i=Cj(s),a=Sj(o,s.props);return s.type!==f.Fragment&&(a.ref=r?Mu(r,i):i),f.cloneElement(s,a)}return f.Children.count(s)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var bj=Symbol("radix.slottable");function _j(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===bj}function Sj(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Cj(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var kj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cn=kj.reduce((e,t)=>{const n=ZS(`Primitive.${t}`),r=f.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),_r;(function(e){e.Hidden="hidden",e.Floating="floating",e.Normal="normal"})(_r||(_r={}));const Ej=({hideWhenRunning:e,autohide:t,autohideFloat:n})=>se(({thread:r,message:s})=>e&&r.isRunning?_r.Hidden:t==="always"||t==="not-last"&&!s.isLast?s.isHovering?n==="always"||n==="single-branch"&&s.branchCount<=1?_r.Floating:_r.Normal:_r.Hidden:_r.Normal),im=f.forwardRef(({hideWhenRunning:e,autohide:t,autohideFloat:n,...r},s)=>{const o=Ej({hideWhenRunning:e,autohide:t,autohideFloat:n});return o===_r.Hidden?null:c.jsx(cn.div,{...o===_r.Floating?{"data-floating":"true"}:null,...r,ref:s})});im.displayName="ActionBarPrimitive.Root";function Z(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}const Tj=({copiedDuration:e=3e3}={})=>{const t=xe(),n=se(({message:i})=>{var a;return(i.role!=="assistant"||((a=i.status)==null?void 0:a.type)!=="running")&&i.parts.some(l=>l.type==="text"&&l.text.length>0)}),r=se(({composer:i})=>i.isEditing),s=se(({composer:i})=>i.text),o=f.useCallback(()=>{const i=r?s:t.message().getCopyText();i&&navigator.clipboard.writeText(i).then(()=>{t.message().setIsCopied(!0),setTimeout(()=>t.message().setIsCopied(!1),e)})},[t,r,s,e]);return n?o:null},tC=f.forwardRef(({copiedDuration:e,onClick:t,disabled:n,...r},s)=>{const o=se(({message:a})=>a.isCopied),i=Tj({copiedDuration:e});return c.jsx(cn.button,{type:"button",...o?{"data-copied":"true"}:{},...r,ref:s,disabled:n||!i,onClick:Z(t,()=>{i==null||i()})})});tC.displayName="ActionBarPrimitive.Copy";const Hn=(e,t,n=[])=>{const r=f.forwardRef((s,o)=>{const i={},a={};Object.keys(s).forEach(u=>{n.includes(u)?i[u]=s[u]:a[u]=s[u]});const l=t(i)??void 0;return c.jsx(cn.button,{type:"button",...a,ref:o,disabled:a.disabled||!l,onClick:Z(a.onClick,l)})});return r.displayName=e,r},Nj=()=>{const e=xe(),t=se(r=>r.thread.isRunning||r.thread.isDisabled||r.message.role!=="assistant"),n=f.useCallback(()=>{e.message().reload()},[e]);return t?null:n},Rj=Hn("ActionBarPrimitive.Reload",Nj),Ij=()=>{const e=xe(),t=se(({composer:r})=>r.isEditing),n=f.useCallback(()=>{e.composer().beginEdit()},[e]);return t?null:n},Pj=Hn("ActionBarPrimitive.Edit",Ij),Aj=()=>{const e=xe(),t=f.useCallback(async()=>{e.message().speak()},[e]);return se(({message:r})=>{var s;return(r.role!=="assistant"||((s=r.status)==null?void 0:s.type)!=="running")&&r.parts.some(o=>o.type==="text"&&o.text.length>0)})?t:null},jj=Hn("ActionBarPrimitive.Speak",Aj);function am(e,t=globalThis==null?void 0:globalThis.document){const n=Ye(e);f.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}const Mj=()=>{const e=xe(),t=se(({message:r})=>r.speech!=null),n=f.useCallback(()=>{e.message().stopSpeaking()},[e]);return t?n:null},nC=f.forwardRef((e,t)=>{const n=Mj();return am(r=>{n&&(r.preventDefault(),n())}),c.jsx(cn.button,{type:"button",disabled:!n,...e,ref:t,onClick:Z(e.onClick,()=>{n==null||n()})})});nC.displayName="ActionBarPrimitive.StopSpeaking";const Oj=()=>{const e=xe();return f.useCallback(()=>{e.message().submitFeedback({type:"positive"})},[e])},rC=f.forwardRef(({onClick:e,disabled:t,...n},r)=>{const s=se(i=>{var a;return((a=i.message.metadata.submittedFeedback)==null?void 0:a.type)==="positive"}),o=Oj();return c.jsx(cn.button,{type:"button",...s?{"data-submitted":"true"}:{},...n,ref:r,disabled:t||!o,onClick:Z(e,()=>{o==null||o()})})});rC.displayName="ActionBarPrimitive.FeedbackPositive";const Lj=()=>{const e=xe();return f.useCallback(()=>{e.message().submitFeedback({type:"negative"})},[e])},sC=f.forwardRef(({onClick:e,disabled:t,...n},r)=>{const s=se(i=>{var a;return((a=i.message.metadata.submittedFeedback)==null?void 0:a.type)==="negative"}),o=Lj();return c.jsx(cn.button,{type:"button",...s?{"data-submitted":"true"}:{},...n,ref:r,disabled:t||!o,onClick:Z(e,()=>{o==null||o()})})});sC.displayName="ActionBarPrimitive.FeedbackNegative";function Dj(e,t){const n=f.createContext(t),r=o=>{const{children:i,...a}=o,l=f.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function s(o){const i=f.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function ur(e,t=[]){let n=[];function r(o,i){const a=f.createContext(i),l=n.length;n=[...n,i];const u=h=>{var g;const{scope:p,children:m,...w}=h,y=((g=p==null?void 0:p[e])==null?void 0:g[l])||a,b=f.useMemo(()=>w,Object.values(w));return c.jsx(y.Provider,{value:b,children:m})};u.displayName=o+"Provider";function d(h,p){var y;const m=((y=p==null?void 0:p[e])==null?void 0:y[l])||a,w=f.useContext(m);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>f.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return f.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,Fj(s,...t)]}function Fj(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(o)[`__scope${u}`];return{...a,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var nt=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},Bj=ep[" useInsertionEffect ".trim().toString()]||nt;function Js({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=zj({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const d=f.useRef(e!==void 0);f.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=f.useCallback(d=>{var h;if(a){const p=$j(d)?d(e):d;p!==e&&((h=i.current)==null||h.call(i,p))}else o(d)},[a,e,o,i]);return[l,u]}function zj({defaultProp:e,onChange:t}){const[n,r]=f.useState(e),s=f.useRef(n),o=f.useRef(t);return Bj(()=>{o.current=t},[t]),f.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function $j(e){return typeof e=="function"}function li(e){const t=Uj(e),n=f.forwardRef((r,s)=>{const{children:o,...i}=r,a=f.Children.toArray(o),l=a.find(Vj);if(l){const u=l.props.children,d=a.map(h=>h===l?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...i,ref:s,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return c.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var ks=li("Slot");function Uj(e){const t=f.forwardRef((n,r)=>{const{children:s,...o}=n;if(f.isValidElement(s)){const i=Kj(s),a=Wj(o,s.props);return s.type!==f.Fragment&&(a.ref=r?Mu(r,i):i),f.cloneElement(s,a)}return f.Children.count(s)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oC=Symbol("radix.slottable");function Hj(e){const t=({children:n})=>c.jsx(c.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=oC,t}function Vj(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oC}function Wj(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Kj(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var qj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ce=qj.reduce((e,t)=>{const n=li(`Primitive.${t}`),r=f.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function iC(e,t){e&&yi.flushSync(()=>e.dispatchEvent(t))}function aC(e){const t=e+"CollectionProvider",[n,r]=ur(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:b,children:g}=y,v=Se.useRef(null),x=Se.useRef(new Map).current;return c.jsx(s,{scope:b,itemMap:x,collectionRef:v,children:g})};i.displayName=t;const a=e+"CollectionSlot",l=li(a),u=Se.forwardRef((y,b)=>{const{scope:g,children:v}=y,x=o(a,g),C=we(b,x.collectionRef);return c.jsx(l,{ref:C,children:v})});u.displayName=a;const d=e+"CollectionItemSlot",h="data-radix-collection-item",p=li(d),m=Se.forwardRef((y,b)=>{const{scope:g,children:v,...x}=y,C=Se.useRef(null),R=we(b,C),k=o(d,g);return Se.useEffect(()=>(k.itemMap.set(C,{ref:C,...x}),()=>void k.itemMap.delete(C))),c.jsx(p,{[h]:"",ref:R,children:v})});m.displayName=d;function w(y){const b=o(e+"CollectionConsumer",y);return Se.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((k,N)=>x.indexOf(k.ref.current)-x.indexOf(N.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},w,r]}var lC=f.createContext(void 0),Gj=e=>{const{dir:t,children:n}=e;return c.jsx(lC.Provider,{value:t,children:n})};function Lu(e){const t=f.useContext(lC);return e||t||"ltr"}var Yj=Gj,Xj="DismissableLayer",wh="dismissableLayer.update",Qj="dismissableLayer.pointerDownOutside",Jj="dismissableLayer.focusOutside",ex,cC=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Du=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=e,u=f.useContext(cC),[d,h]=f.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=f.useState({}),w=we(t,N=>h(N)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=y.indexOf(b),v=d?y.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,C=v>=g,R=t2(N=>{const I=N.target,M=[...u.branches].some(A=>A.contains(I));!C||M||(s==null||s(N),i==null||i(N),N.defaultPrevented||a==null||a())},p),k=n2(N=>{const I=N.target;[...u.branches].some(A=>A.contains(I))||(o==null||o(N),i==null||i(N),N.defaultPrevented||a==null||a())},p);return am(N=>{v===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},p),f.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ex=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),tx(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=ex)}},[d,p,n,u]),f.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),tx())},[d,u]),f.useEffect(()=>{const N=()=>m({});return document.addEventListener(wh,N),()=>document.removeEventListener(wh,N)},[]),c.jsx(ce.div,{...l,ref:w,style:{pointerEvents:x?C?"auto":"none":void 0,...e.style},onFocusCapture:Z(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Z(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Z(e.onPointerDownCapture,R.onPointerDownCapture)})});Du.displayName=Xj;var Zj="DismissableLayerBranch",e2=f.forwardRef((e,t)=>{const n=f.useContext(cC),r=f.useRef(null),s=we(t,r);return f.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),c.jsx(ce.div,{...e,ref:s})});e2.displayName=Zj;function t2(e,t=globalThis==null?void 0:globalThis.document){const n=Ye(e),r=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){uC(Qj,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function n2(e,t=globalThis==null?void 0:globalThis.document){const n=Ye(e),r=f.useRef(!1);return f.useEffect(()=>{const s=o=>{o.target&&!r.current&&uC(Jj,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function tx(){const e=new CustomEvent(wh);document.dispatchEvent(e)}function uC(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?iC(s,o):s.dispatchEvent(o)}var Gd=0;function dC(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??nx()),document.body.insertAdjacentElement("beforeend",e[1]??nx()),Gd++,()=>{Gd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Gd--}},[])}function nx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Yd="focusScope.autoFocusOnMount",Xd="focusScope.autoFocusOnUnmount",rx={bubbles:!1,cancelable:!0},r2="FocusScope",lm=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,l]=f.useState(null),u=Ye(s),d=Ye(o),h=f.useRef(null),p=we(t,y=>l(y)),m=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let y=function(x){if(m.paused||!a)return;const C=x.target;a.contains(C)?h.current=C:Yr(h.current,{select:!0})},b=function(x){if(m.paused||!a)return;const C=x.relatedTarget;C!==null&&(a.contains(C)||Yr(h.current,{select:!0}))},g=function(x){if(document.activeElement===document.body)for(const R of x)R.removedNodes.length>0&&Yr(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const v=new MutationObserver(g);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),v.disconnect()}}},[r,a,m.paused]),f.useEffect(()=>{if(a){ox.add(m);const y=document.activeElement;if(!a.contains(y)){const g=new CustomEvent(Yd,rx);a.addEventListener(Yd,u),a.dispatchEvent(g),g.defaultPrevented||(s2(c2(fC(a)),{select:!0}),document.activeElement===y&&Yr(a))}return()=>{a.removeEventListener(Yd,u),setTimeout(()=>{const g=new CustomEvent(Xd,rx);a.addEventListener(Xd,d),a.dispatchEvent(g),g.defaultPrevented||Yr(y??document.body,{select:!0}),a.removeEventListener(Xd,d),ox.remove(m)},0)}}},[a,u,d,m]);const w=f.useCallback(y=>{if(!n&&!r||m.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,g=document.activeElement;if(b&&g){const v=y.currentTarget,[x,C]=o2(v);x&&C?!y.shiftKey&&g===C?(y.preventDefault(),n&&Yr(x,{select:!0})):y.shiftKey&&g===x&&(y.preventDefault(),n&&Yr(C,{select:!0})):g===v&&y.preventDefault()}},[n,r,m.paused]);return c.jsx(ce.div,{tabIndex:-1,...i,ref:p,onKeyDown:w})});lm.displayName=r2;function s2(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Yr(r,{select:t}),document.activeElement!==n)return}function o2(e){const t=fC(e),n=sx(t,e),r=sx(t.reverse(),e);return[n,r]}function fC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function sx(e,t){for(const n of e)if(!i2(n,{upTo:t}))return n}function i2(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function a2(e){return e instanceof HTMLInputElement&&"select"in e}function Yr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&a2(e)&&t&&e.select()}}var ox=l2();function l2(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=ix(e,t),e.unshift(t)},remove(t){var n;e=ix(e,t),(n=e[0])==null||n.resume()}}}function ix(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function c2(e){return e.filter(t=>t.tagName!=="A")}var u2=ep[" useId ".trim().toString()]||(()=>{}),d2=0;function Er(e){const[t,n]=f.useState(u2());return nt(()=>{n(r=>r??String(d2++))},[e]),e||(t?`radix-${t}`:"")}const f2=["top","right","bottom","left"],xs=Math.min,en=Math.max,Jc=Math.round,Ll=Math.floor,ir=e=>({x:e,y:e}),h2={left:"right",right:"left",bottom:"top",top:"bottom"},p2={start:"end",end:"start"};function bh(e,t,n){return en(e,xs(t,n))}function Ar(e,t){return typeof e=="function"?e(t):e}function jr(e){return e.split("-")[0]}function xi(e){return e.split("-")[1]}function cm(e){return e==="x"?"y":"x"}function um(e){return e==="y"?"height":"width"}const m2=new Set(["top","bottom"]);function rr(e){return m2.has(jr(e))?"y":"x"}function dm(e){return cm(rr(e))}function g2(e,t,n){n===void 0&&(n=!1);const r=xi(e),s=dm(e),o=um(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Zc(i)),[i,Zc(i)]}function y2(e){const t=Zc(e);return[_h(e),t,_h(t)]}function _h(e){return e.replace(/start|end/g,t=>p2[t])}const ax=["left","right"],lx=["right","left"],v2=["top","bottom"],x2=["bottom","top"];function w2(e,t,n){switch(e){case"top":case"bottom":return n?t?lx:ax:t?ax:lx;case"left":case"right":return t?v2:x2;default:return[]}}function b2(e,t,n,r){const s=xi(e);let o=w2(jr(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(_h)))),o}function Zc(e){return e.replace(/left|right|bottom|top/g,t=>h2[t])}function _2(e){return{top:0,right:0,bottom:0,left:0,...e}}function hC(e){return typeof e!="number"?_2(e):{top:e,right:e,bottom:e,left:e}}function eu(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function cx(e,t,n){let{reference:r,floating:s}=e;const o=rr(t),i=dm(t),a=um(i),l=jr(t),u=o==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(xi(t)){case"start":m[i]-=p*(n&&u?-1:1);break;case"end":m[i]+=p*(n&&u?-1:1);break}return m}async function S2(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Ar(t,e),w=hC(m),b=a[p?h==="floating"?"reference":"floating":h],g=eu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),v=h==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),C=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},R=eu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:l}):v);return{top:(g.top-R.top+w.top)/C.y,bottom:(R.bottom-g.bottom+w.bottom)/C.y,left:(g.left-R.left+w.left)/C.x,right:(R.right-g.right+w.right)/C.x}}const C2=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=cx(u,r,l),p=r,m={},w=0;for(let b=0;b<a.length;b++){var y;const{name:g,fn:v}=a[b],{x,y:C,data:R,reset:k}=await v({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:u,platform:{...i,detectOverflow:(y=i.detectOverflow)!=null?y:S2},elements:{reference:e,floating:t}});d=x??d,h=C??h,m={...m,[g]:{...m[g],...R}},k&&w<=50&&(w++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(u=k.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:d,y:h}=cx(u,p,l)),b=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:m}},k2=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:u,padding:d=0}=Ar(e,t)||{};if(u==null)return{};const h=hC(d),p={x:n,y:r},m=dm(s),w=um(m),y=await i.getDimensions(u),b=m==="y",g=b?"top":"left",v=b?"bottom":"right",x=b?"clientHeight":"clientWidth",C=o.reference[w]+o.reference[m]-p[m]-o.floating[w],R=p[m]-o.reference[m],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let N=k?k[x]:0;(!N||!await(i.isElement==null?void 0:i.isElement(k)))&&(N=a.floating[x]||o.floating[w]);const I=C/2-R/2,M=N/2-y[w]/2-1,A=xs(h[g],M),L=xs(h[v],M),E=A,W=N-y[w]-L,U=N/2-y[w]/2+I,q=bh(E,U,W),K=!l.arrow&&xi(s)!=null&&U!==q&&o.reference[w]/2-(U<E?A:L)-y[w]/2<0,Q=K?U<E?U-E:U-W:0;return{[m]:p[m]+Q,data:{[m]:q,centerOffset:U-q-Q,...K&&{alignmentOffset:Q}},reset:K}}}),E2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...b}=Ar(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const g=jr(s),v=rr(a),x=jr(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),R=p||(x||!y?[Zc(a)]:y2(a)),k=w!=="none";!p&&k&&R.push(...b2(a,y,w,C));const N=[a,...R],I=await l.detectOverflow(t,b),M=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&M.push(I[g]),h){const U=g2(s,i,C);M.push(I[U[0]],I[U[1]])}if(A=[...A,{placement:s,overflows:M}],!M.every(U=>U<=0)){var L,E;const U=(((L=o.flip)==null?void 0:L.index)||0)+1,q=N[U];if(q&&(!(h==="alignment"?v!==rr(q):!1)||A.every(j=>rr(j.placement)===v?j.overflows[0]>0:!0)))return{data:{index:U,overflows:A},reset:{placement:q}};let K=(E=A.filter(Q=>Q.overflows[0]<=0).sort((Q,j)=>Q.overflows[1]-j.overflows[1])[0])==null?void 0:E.placement;if(!K)switch(m){case"bestFit":{var W;const Q=(W=A.filter(j=>{if(k){const $=rr(j.placement);return $===v||$==="y"}return!0}).map(j=>[j.placement,j.overflows.filter($=>$>0).reduce(($,S)=>$+S,0)]).sort((j,$)=>j[1]-$[1])[0])==null?void 0:W[0];Q&&(K=Q);break}case"initialPlacement":K=a;break}if(s!==K)return{reset:{placement:K}}}return{}}}};function ux(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function dx(e){return f2.some(t=>e[t]>=0)}const T2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:s="referenceHidden",...o}=Ar(e,t);switch(s){case"referenceHidden":{const i=await r.detectOverflow(t,{...o,elementContext:"reference"}),a=ux(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:dx(a)}}}case"escaped":{const i=await r.detectOverflow(t,{...o,altBoundary:!0}),a=ux(i,n.floating);return{data:{escapedOffsets:a,escaped:dx(a)}}}default:return{}}}}},pC=new Set(["left","top"]);async function N2(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=jr(n),a=xi(n),l=rr(n)==="y",u=pC.has(i)?-1:1,d=o&&l?-1:1,h=Ar(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(m=a==="end"?w*-1:w),l?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const R2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await N2(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},I2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s,platform:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:g=>{let{x:v,y:x}=g;return{x:v,y:x}}},...u}=Ar(e,t),d={x:n,y:r},h=await o.detectOverflow(t,u),p=rr(jr(s)),m=cm(p);let w=d[m],y=d[p];if(i){const g=m==="y"?"top":"left",v=m==="y"?"bottom":"right",x=w+h[g],C=w-h[v];w=bh(x,w,C)}if(a){const g=p==="y"?"top":"left",v=p==="y"?"bottom":"right",x=y+h[g],C=y-h[v];y=bh(x,y,C)}const b=l.fn({...t,[m]:w,[p]:y});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[m]:i,[p]:a}}}}}},P2=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Ar(e,t),d={x:n,y:r},h=rr(s),p=cm(h);let m=d[p],w=d[h];const y=Ar(a,t),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const x=p==="y"?"height":"width",C=o.reference[p]-o.floating[x]+b.mainAxis,R=o.reference[p]+o.reference[x]-b.mainAxis;m<C?m=C:m>R&&(m=R)}if(u){var g,v;const x=p==="y"?"width":"height",C=pC.has(jr(s)),R=o.reference[h]-o.floating[x]+(C&&((g=i.offset)==null?void 0:g[h])||0)+(C?0:b.crossAxis),k=o.reference[h]+o.reference[x]+(C?0:((v=i.offset)==null?void 0:v[h])||0)-(C?b.crossAxis:0);w<R?w=R:w>k&&(w=k)}return{[p]:m,[h]:w}}}},A2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:l=()=>{},...u}=Ar(e,t),d=await i.detectOverflow(t,u),h=jr(s),p=xi(s),m=rr(s)==="y",{width:w,height:y}=o.floating;let b,g;h==="top"||h==="bottom"?(b=h,g=p===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(g=h,b=p==="end"?"top":"bottom");const v=y-d.top-d.bottom,x=w-d.left-d.right,C=xs(y-d[b],v),R=xs(w-d[g],x),k=!t.middlewareData.shift;let N=C,I=R;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(I=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=v),k&&!p){const A=en(d.left,0),L=en(d.right,0),E=en(d.top,0),W=en(d.bottom,0);m?I=w-2*(A!==0||L!==0?A+L:en(d.left,d.right)):N=y-2*(E!==0||W!==0?E+W:en(d.top,d.bottom))}await l({...t,availableWidth:I,availableHeight:N});const M=await i.getDimensions(a.floating);return w!==M.width||y!==M.height?{reset:{rects:!0}}:{}}}};function Fu(){return typeof window<"u"}function wi(e){return mC(e)?(e.nodeName||"").toLowerCase():"#document"}function sn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function dr(e){var t;return(t=(mC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function mC(e){return Fu()?e instanceof Node||e instanceof sn(e).Node:!1}function zn(e){return Fu()?e instanceof Element||e instanceof sn(e).Element:!1}function ar(e){return Fu()?e instanceof HTMLElement||e instanceof sn(e).HTMLElement:!1}function fx(e){return!Fu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof sn(e).ShadowRoot}const j2=new Set(["inline","contents"]);function el(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=$n(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!j2.has(s)}const M2=new Set(["table","td","th"]);function O2(e){return M2.has(wi(e))}const L2=[":popover-open",":modal"];function Bu(e){return L2.some(t=>{try{return e.matches(t)}catch{return!1}})}const D2=["transform","translate","scale","rotate","perspective"],F2=["transform","translate","scale","rotate","perspective","filter"],B2=["paint","layout","strict","content"];function fm(e){const t=hm(),n=zn(e)?$n(e):e;return D2.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||F2.some(r=>(n.willChange||"").includes(r))||B2.some(r=>(n.contain||"").includes(r))}function z2(e){let t=ws(e);for(;ar(t)&&!ci(t);){if(fm(t))return t;if(Bu(t))return null;t=ws(t)}return null}function hm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const $2=new Set(["html","body","#document"]);function ci(e){return $2.has(wi(e))}function $n(e){return sn(e).getComputedStyle(e)}function zu(e){return zn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ws(e){if(wi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||fx(e)&&e.host||dr(e);return fx(t)?t.host:t}function gC(e){const t=ws(e);return ci(t)?e.ownerDocument?e.ownerDocument.body:e.body:ar(t)&&el(t)?t:gC(t)}function Ba(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=gC(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=sn(s);if(o){const a=Sh(i);return t.concat(i,i.visualViewport||[],el(s)?s:[],a&&n?Ba(a):[])}return t.concat(s,Ba(s,[],n))}function Sh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function yC(e){const t=$n(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=ar(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=Jc(n)!==o||Jc(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function pm(e){return zn(e)?e:e.contextElement}function Go(e){const t=pm(e);if(!ar(t))return ir(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=yC(t);let i=(o?Jc(n.width):n.width)/r,a=(o?Jc(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const U2=ir(0);function vC(e){const t=sn(e);return!hm()||!t.visualViewport?U2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function H2(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==sn(e)?!1:t}function Zs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=pm(e);let i=ir(1);t&&(r?zn(r)&&(i=Go(r)):i=Go(e));const a=H2(o,n,r)?vC(o):ir(0);let l=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,d=s.width/i.x,h=s.height/i.y;if(o){const p=sn(o),m=r&&zn(r)?sn(r):r;let w=p,y=Sh(w);for(;y&&r&&m!==w;){const b=Go(y),g=y.getBoundingClientRect(),v=$n(y),x=g.left+(y.clientLeft+parseFloat(v.paddingLeft))*b.x,C=g.top+(y.clientTop+parseFloat(v.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,h*=b.y,l+=x,u+=C,w=sn(y),y=Sh(w)}}return eu({width:d,height:h,x:l,y:u})}function $u(e,t){const n=zu(e).scrollLeft;return t?t.left+n:Zs(dr(e)).left+n}function xC(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-$u(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function V2(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=dr(r),a=t?Bu(t.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=ir(1);const d=ir(0),h=ar(r);if((h||!h&&!o)&&((wi(r)!=="body"||el(i))&&(l=zu(r)),ar(r))){const m=Zs(r);u=Go(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=i&&!h&&!o?xC(i,l):ir(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-l.scrollTop*u.y+d.y+p.y}}function W2(e){return Array.from(e.getClientRects())}function K2(e){const t=dr(e),n=zu(e),r=e.ownerDocument.body,s=en(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=en(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+$u(e);const a=-n.scrollTop;return $n(r).direction==="rtl"&&(i+=en(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}const hx=25;function q2(e,t){const n=sn(e),r=dr(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const d=hm();(!d||d&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const u=$u(r);if(u<=0){const d=r.ownerDocument,h=d.body,p=getComputedStyle(h),m=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,w=Math.abs(r.clientWidth-h.clientWidth-m);w<=hx&&(o-=w)}else u<=hx&&(o+=u);return{width:o,height:i,x:a,y:l}}const G2=new Set(["absolute","fixed"]);function Y2(e,t){const n=Zs(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=ar(e)?Go(e):ir(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,u=r*o.y;return{width:i,height:a,x:l,y:u}}function px(e,t,n){let r;if(t==="viewport")r=q2(e,n);else if(t==="document")r=K2(dr(e));else if(zn(t))r=Y2(t,n);else{const s=vC(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return eu(r)}function wC(e,t){const n=ws(e);return n===t||!zn(n)||ci(n)?!1:$n(n).position==="fixed"||wC(n,t)}function X2(e,t){const n=t.get(e);if(n)return n;let r=Ba(e,[],!1).filter(a=>zn(a)&&wi(a)!=="body"),s=null;const o=$n(e).position==="fixed";let i=o?ws(e):e;for(;zn(i)&&!ci(i);){const a=$n(i),l=fm(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&G2.has(s.position)||el(i)&&!l&&wC(e,i))?r=r.filter(d=>d!==i):s=a,i=ws(i)}return t.set(e,r),r}function Q2(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Bu(t)?[]:X2(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((u,d)=>{const h=px(t,d,s);return u.top=en(h.top,u.top),u.right=xs(h.right,u.right),u.bottom=xs(h.bottom,u.bottom),u.left=en(h.left,u.left),u},px(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function J2(e){const{width:t,height:n}=yC(e);return{width:t,height:n}}function Z2(e,t,n){const r=ar(t),s=dr(t),o=n==="fixed",i=Zs(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=ir(0);function u(){l.x=$u(s)}if(r||!r&&!o)if((wi(t)!=="body"||el(s))&&(a=zu(t)),r){const m=Zs(t,!0,o,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?xC(s,a):ir(0),h=i.left+a.scrollLeft-l.x-d.x,p=i.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:i.width,height:i.height}}function Qd(e){return $n(e).position==="static"}function mx(e,t){if(!ar(e)||$n(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return dr(e)===n&&(n=n.ownerDocument.body),n}function bC(e,t){const n=sn(e);if(Bu(e))return n;if(!ar(e)){let s=ws(e);for(;s&&!ci(s);){if(zn(s)&&!Qd(s))return s;s=ws(s)}return n}let r=mx(e,t);for(;r&&O2(r)&&Qd(r);)r=mx(r,t);return r&&ci(r)&&Qd(r)&&!fm(r)?n:r||z2(e)||n}const eM=async function(e){const t=this.getOffsetParent||bC,n=this.getDimensions,r=await n(e.floating);return{reference:Z2(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function tM(e){return $n(e).direction==="rtl"}const nM={convertOffsetParentRelativeRectToViewportRelativeRect:V2,getDocumentElement:dr,getClippingRect:Q2,getOffsetParent:bC,getElementRects:eM,getClientRects:W2,getDimensions:J2,getScale:Go,isElement:zn,isRTL:tM};function _C(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function rM(e,t){let n=null,r;const s=dr(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:d,top:h,width:p,height:m}=u;if(a||t(),!p||!m)return;const w=Ll(h),y=Ll(s.clientWidth-(d+p)),b=Ll(s.clientHeight-(h+m)),g=Ll(d),x={rootMargin:-w+"px "+-y+"px "+-b+"px "+-g+"px",threshold:en(0,xs(1,l))||1};let C=!0;function R(k){const N=k[0].intersectionRatio;if(N!==l){if(!C)return i();N?i(!1,N):r=setTimeout(()=>{i(!1,1e-7)},1e3)}N===1&&!_C(u,e.getBoundingClientRect())&&i(),C=!1}try{n=new IntersectionObserver(R,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(R,x)}n.observe(e)}return i(!0),o}function sM(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=pm(e),d=s||o?[...u?Ba(u):[],...Ba(t)]:[];d.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),o&&g.addEventListener("resize",n)});const h=u&&a?rM(u,n):null;let p=-1,m=null;i&&(m=new ResizeObserver(g=>{let[v]=g;v&&v.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(t)})),n()}),u&&!l&&m.observe(u),m.observe(t));let w,y=l?Zs(e):null;l&&b();function b(){const g=Zs(e);y&&!_C(y,g)&&n(),y=g,w=requestAnimationFrame(b)}return n(),()=>{var g;d.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),h==null||h(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(w)}}const oM=R2,iM=I2,aM=E2,lM=A2,cM=T2,gx=k2,uM=P2,dM=(e,t,n)=>{const r=new Map,s={platform:nM,...n},o={...s.platform,_c:r};return C2(e,t,{...s,platform:o})};var fM=typeof document<"u",hM=function(){},uc=fM?f.useLayoutEffect:hM;function tu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!tu(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!tu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function SC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yx(e,t){const n=SC(e);return Math.round(t*n)/n}function Jd(e){const t=f.useRef(e);return uc(()=>{t.current=e}),t}function pM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[d,h]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=f.useState(r);tu(p,r)||m(r);const[w,y]=f.useState(null),[b,g]=f.useState(null),v=f.useCallback(j=>{j!==k.current&&(k.current=j,y(j))},[]),x=f.useCallback(j=>{j!==N.current&&(N.current=j,g(j))},[]),C=o||w,R=i||b,k=f.useRef(null),N=f.useRef(null),I=f.useRef(d),M=l!=null,A=Jd(l),L=Jd(s),E=Jd(u),W=f.useCallback(()=>{if(!k.current||!N.current)return;const j={placement:t,strategy:n,middleware:p};L.current&&(j.platform=L.current),dM(k.current,N.current,j).then($=>{const S={...$,isPositioned:E.current!==!1};U.current&&!tu(I.current,S)&&(I.current=S,yi.flushSync(()=>{h(S)}))})},[p,t,n,L,E]);uc(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[u]);const U=f.useRef(!1);uc(()=>(U.current=!0,()=>{U.current=!1}),[]),uc(()=>{if(C&&(k.current=C),R&&(N.current=R),C&&R){if(A.current)return A.current(C,R,W);W()}},[C,R,W,A,M]);const q=f.useMemo(()=>({reference:k,floating:N,setReference:v,setFloating:x}),[v,x]),K=f.useMemo(()=>({reference:C,floating:R}),[C,R]),Q=f.useMemo(()=>{const j={position:n,left:0,top:0};if(!K.floating)return j;const $=yx(K.floating,d.x),S=yx(K.floating,d.y);return a?{...j,transform:"translate("+$+"px, "+S+"px)",...SC(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:S}},[n,a,K.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:W,refs:q,elements:K,floatingStyles:Q}),[d,W,q,K,Q])}const mM=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?gx({element:r.current,padding:s}).fn(n):{}:r?gx({element:r,padding:s}).fn(n):{}}}},gM=(e,t)=>({...oM(e),options:[e,t]}),yM=(e,t)=>({...iM(e),options:[e,t]}),vM=(e,t)=>({...uM(e),options:[e,t]}),xM=(e,t)=>({...aM(e),options:[e,t]}),wM=(e,t)=>({...lM(e),options:[e,t]}),bM=(e,t)=>({...cM(e),options:[e,t]}),_M=(e,t)=>({...mM(e),options:[e,t]});var SM="Arrow",CC=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return c.jsx(ce.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});CC.displayName=SM;var CM=CC;function kC(e){const[t,n]=f.useState(void 0);return nt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var mm="Popper",[EC,Uu]=ur(mm),[kM,TC]=EC(mm),NC=e=>{const{__scopePopper:t,children:n}=e,[r,s]=f.useState(null);return c.jsx(kM,{scope:t,anchor:r,onAnchorChange:s,children:n})};NC.displayName=mm;var RC="PopperAnchor",IC=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=TC(RC,n),i=f.useRef(null),a=we(t,i),l=f.useRef(null);return f.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||i.current,u!==l.current&&o.onAnchorChange(l.current)}),r?null:c.jsx(ce.div,{...s,ref:a})});IC.displayName=RC;var gm="PopperContent",[EM,TM]=EC(gm),PC=f.forwardRef((e,t)=>{var J,ge,Oe,_e,ye,Te;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:w,...y}=e,b=TC(gm,n),[g,v]=f.useState(null),x=we(t,lt=>v(lt)),[C,R]=f.useState(null),k=kC(C),N=(k==null?void 0:k.width)??0,I=(k==null?void 0:k.height)??0,M=r+(o!=="center"?"-"+o:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],E=L.length>0,W={padding:A,boundary:L.filter(RM),altBoundary:E},{refs:U,floatingStyles:q,placement:K,isPositioned:Q,middlewareData:j}=pM({strategy:"fixed",placement:M,whileElementsMounted:(...lt)=>sM(...lt,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[gM({mainAxis:s+I,alignmentAxis:i}),l&&yM({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?vM():void 0,...W}),l&&xM({...W}),wM({...W,apply:({elements:lt,rects:Lt,availableWidth:Kt,availableHeight:_n})=>{const{width:Wn,height:Is}=Lt.reference,Kn=lt.floating.style;Kn.setProperty("--radix-popper-available-width",`${Kt}px`),Kn.setProperty("--radix-popper-available-height",`${_n}px`),Kn.setProperty("--radix-popper-anchor-width",`${Wn}px`),Kn.setProperty("--radix-popper-anchor-height",`${Is}px`)}}),C&&_M({element:C,padding:a}),IM({arrowWidth:N,arrowHeight:I}),p&&bM({strategy:"referenceHidden",...W})]}),[$,S]=MC(K),oe=Ye(w);nt(()=>{Q&&(oe==null||oe())},[Q,oe]);const me=(J=j.arrow)==null?void 0:J.x,T=(ge=j.arrow)==null?void 0:ge.y,Pe=((Oe=j.arrow)==null?void 0:Oe.centerOffset)!==0,[Xe,be]=f.useState();return nt(()=>{g&&be(window.getComputedStyle(g).zIndex)},[g]),c.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:Q?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Xe,"--radix-popper-transform-origin":[(_e=j.transformOrigin)==null?void 0:_e.x,(ye=j.transformOrigin)==null?void 0:ye.y].join(" "),...((Te=j.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(EM,{scope:n,placedSide:$,onArrowChange:R,arrowX:me,arrowY:T,shouldHideArrow:Pe,children:c.jsx(ce.div,{"data-side":$,"data-align":S,...y,ref:x,style:{...y.style,animation:Q?void 0:"none"}})})})});PC.displayName=gm;var AC="PopperArrow",NM={top:"bottom",right:"left",bottom:"top",left:"right"},jC=f.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=TM(AC,r),i=NM[o.placedSide];return c.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:c.jsx(CM,{...s,ref:n,style:{...s.style,display:"block"}})})});jC.displayName=AC;function RM(e){return e!==null}var IM=e=>({name:"transformOrigin",options:e,fn(t){var b,g,v;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[u,d]=MC(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((g=s.arrow)==null?void 0:g.x)??0)+a/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let w="",y="";return u==="bottom"?(w=i?h:`${p}px`,y=`${-l}px`):u==="top"?(w=i?h:`${p}px`,y=`${r.floating.height+l}px`):u==="right"?(w=`${-l}px`,y=i?h:`${m}px`):u==="left"&&(w=`${r.floating.width+l}px`,y=i?h:`${m}px`),{data:{x:w,y}}}});function MC(e){const[t,n="center"]=e.split("-");return[t,n]}var OC=NC,LC=IC,DC=PC,FC=jC,PM="Portal",ym=f.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=f.useState(!1);nt(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?sI.createPortal(c.jsx(ce.div,{...r,ref:t}),i):null});ym.displayName=PM;function AM(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var fr=e=>{const{present:t,children:n}=e,r=jM(t),s=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),o=we(r.ref,MM(s));return typeof n=="function"||r.isPresent?f.cloneElement(s,{ref:o}):null};fr.displayName="Presence";function jM(e){const[t,n]=f.useState(),r=f.useRef(null),s=f.useRef(e),o=f.useRef("none"),i=e?"mounted":"unmounted",[a,l]=AM(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=Dl(r.current);o.current=a==="mounted"?u:"none"},[a]),nt(()=>{const u=r.current,d=s.current;if(d!==e){const p=o.current,m=Dl(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),nt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const y=Dl(r.current).includes(CSS.escape(m.animationName));if(m.target===t&&y&&(l("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},p=m=>{m.target===t&&(o.current=Dl(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Dl(e){return(e==null?void 0:e.animationName)||"none"}function MM(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Zd="rovingFocusGroup.onEntryFocus",OM={bubbles:!1,cancelable:!0},tl="RovingFocusGroup",[Ch,BC,LM]=aC(tl),[DM,zC]=ur(tl,[LM]),[FM,BM]=DM(tl),$C=f.forwardRef((e,t)=>c.jsx(Ch.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(Ch.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(zM,{...e,ref:t})})}));$C.displayName=tl;var zM=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,p=f.useRef(null),m=we(t,p),w=Lu(o),[y,b]=Js({prop:i,defaultProp:a??null,onChange:l,caller:tl}),[g,v]=f.useState(!1),x=Ye(u),C=BC(n),R=f.useRef(!1),[k,N]=f.useState(0);return f.useEffect(()=>{const I=p.current;if(I)return I.addEventListener(Zd,x),()=>I.removeEventListener(Zd,x)},[x]),c.jsx(FM,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:y,onItemFocus:f.useCallback(I=>b(I),[b]),onItemShiftTab:f.useCallback(()=>v(!0),[]),onFocusableItemAdd:f.useCallback(()=>N(I=>I+1),[]),onFocusableItemRemove:f.useCallback(()=>N(I=>I-1),[]),children:c.jsx(ce.div,{tabIndex:g||k===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:Z(e.onMouseDown,()=>{R.current=!0}),onFocus:Z(e.onFocus,I=>{const M=!R.current;if(I.target===I.currentTarget&&M&&!g){const A=new CustomEvent(Zd,OM);if(I.currentTarget.dispatchEvent(A),!A.defaultPrevented){const L=C().filter(K=>K.focusable),E=L.find(K=>K.active),W=L.find(K=>K.id===y),q=[E,W,...L].filter(Boolean).map(K=>K.ref.current);VC(q,d)}}R.current=!1}),onBlur:Z(e.onBlur,()=>v(!1))})})}),UC="RovingFocusGroupItem",HC=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...a}=e,l=Er(),u=o||l,d=BM(UC,n),h=d.currentTabStopId===u,p=BC(n),{onFocusableItemAdd:m,onFocusableItemRemove:w,currentTabStopId:y}=d;return f.useEffect(()=>{if(r)return m(),()=>w()},[r,m,w]),c.jsx(Ch.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:c.jsx(ce.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:Z(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:Z(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Z(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const g=HM(b,d.orientation,d.dir);if(g!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let x=p().filter(C=>C.focusable).map(C=>C.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const C=x.indexOf(b.currentTarget);x=d.loop?VM(x,C+1):x.slice(C+1)}setTimeout(()=>VC(x))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:y!=null}):i})})});HC.displayName=UC;var $M={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function UM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function HM(e,t,n){const r=UM(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return $M[r]}function VC(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function VM(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var WM=$C,KM=HC,qM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},xo=new WeakMap,Fl=new WeakMap,Bl={},ef=0,WC=function(e){return e&&(e.host||WC(e.parentNode))},GM=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=WC(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},YM=function(e,t,n,r){var s=GM(t,Array.isArray(e)?e:[e]);Bl[n]||(Bl[n]=new WeakMap);var o=Bl[n],i=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var m=p.getAttribute(r),w=m!==null&&m!=="false",y=(xo.get(p)||0)+1,b=(o.get(p)||0)+1;xo.set(p,y),o.set(p,b),i.push(p),y===1&&w&&Fl.set(p,!0),b===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return d(t),a.clear(),ef++,function(){i.forEach(function(h){var p=xo.get(h)-1,m=o.get(h)-1;xo.set(h,p),o.set(h,m),p||(Fl.has(h)||h.removeAttribute(r),Fl.delete(h)),m||h.removeAttribute(n)}),ef--,ef||(xo=new WeakMap,xo=new WeakMap,Fl=new WeakMap,Bl={})}},KC=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=qM(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),YM(r,s,n,"aria-hidden")):function(){return null}},er=function(){return er=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},er.apply(this,arguments)};function qC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function XM(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var dc="right-scroll-bar-position",fc="width-before-scroll-bar",QM="with-scroll-bars-hidden",JM="--removed-body-scroll-bar-size";function tf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ZM(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var eO=typeof window<"u"?f.useLayoutEffect:f.useEffect,vx=new WeakMap;function tO(e,t){var n=ZM(null,function(r){return e.forEach(function(s){return tf(s,r)})});return eO(function(){var r=vx.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||tf(a,null)}),o.forEach(function(a){s.has(a)||tf(a,i)})}vx.set(n,e)},[e]),n}function nO(e){return e}function rO(e,t){t===void 0&&(t=nO);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var l=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function sO(e){e===void 0&&(e={});var t=rO(null);return t.options=er({async:!0,ssr:!1},e),t}var GC=function(e){var t=e.sideCar,n=qC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,er({},n))};GC.isSideCarExport=!0;function oO(e,t){return e.useMedium(t),GC}var YC=sO(),nf=function(){},Hu=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:nf,onWheelCapture:nf,onTouchMoveCapture:nf}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,p=e.sideCar,m=e.noRelative,w=e.noIsolation,y=e.inert,b=e.allowPinchZoom,g=e.as,v=g===void 0?"div":g,x=e.gapMode,C=qC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=p,k=tO([n,t]),N=er(er({},C),s);return f.createElement(f.Fragment,null,d&&f.createElement(R,{sideCar:YC,removeScrollBar:u,shards:h,noRelative:m,noIsolation:w,inert:y,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:x}),i?f.cloneElement(f.Children.only(a),er(er({},N),{ref:k})):f.createElement(v,er({},N,{className:l,ref:k}),a))});Hu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hu.classNames={fullWidth:fc,zeroRight:dc};var iO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=iO();return t&&e.setAttribute("nonce",t),e}function lO(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function cO(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var uO=function(){var e=0,t=null;return{add:function(n){e==0&&(t=aO())&&(lO(t,n),cO(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},dO=function(){var e=uO();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},XC=function(){var e=dO(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},fO={left:0,top:0,right:0,gap:0},rf=function(e){return parseInt(e||"",10)||0},hO=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[rf(n),rf(r),rf(s)]},pO=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return fO;var t=hO(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},mO=XC(),Yo="data-scroll-locked",gO=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(QM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Yo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(fc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(dc," .").concat(dc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(fc," .").concat(fc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Yo,`] {
    `).concat(JM,": ").concat(a,`px;
  }
`)},xx=function(){var e=parseInt(document.body.getAttribute(Yo)||"0",10);return isFinite(e)?e:0},yO=function(){f.useEffect(function(){return document.body.setAttribute(Yo,(xx()+1).toString()),function(){var e=xx()-1;e<=0?document.body.removeAttribute(Yo):document.body.setAttribute(Yo,e.toString())}},[])},vO=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;yO();var o=f.useMemo(function(){return pO(s)},[s]);return f.createElement(mO,{styles:gO(o,!t,s,n?"":"!important")})},kh=!1;if(typeof window<"u")try{var zl=Object.defineProperty({},"passive",{get:function(){return kh=!0,!0}});window.addEventListener("test",zl,zl),window.removeEventListener("test",zl,zl)}catch{kh=!1}var wo=kh?{passive:!1}:!1,xO=function(e){return e.tagName==="TEXTAREA"},QC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!xO(e)&&n[t]==="visible")},wO=function(e){return QC(e,"overflowY")},bO=function(e){return QC(e,"overflowX")},wx=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=JC(e,r);if(s){var o=ZC(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},_O=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},SO=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},JC=function(e,t){return e==="v"?wO(t):bO(t)},ZC=function(e,t){return e==="v"?_O(t):SO(t)},CO=function(e,t){return e==="h"&&t==="rtl"?-1:1},kO=function(e,t,n,r,s){var o=CO(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,l=t.contains(a),u=!1,d=i>0,h=0,p=0;do{if(!a)break;var m=ZC(e,a),w=m[0],y=m[1],b=m[2],g=y-b-o*w;(w||g)&&JC(e,a)&&(h+=g,p+=w);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(u=!0),u},$l=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},bx=function(e){return[e.deltaX,e.deltaY]},_x=function(e){return e&&"current"in e?e.current:e},EO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},TO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},NO=0,bo=[];function RO(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),s=f.useState(NO++)[0],o=f.useState(XC)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=XM([e.lockRef.current],(e.shards||[]).map(_x),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=f.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var g=$l(y),v=n.current,x="deltaX"in y?y.deltaX:v[0]-g[0],C="deltaY"in y?y.deltaY:v[1]-g[1],R,k=y.target,N=Math.abs(x)>Math.abs(C)?"h":"v";if("touches"in y&&N==="h"&&k.type==="range")return!1;var I=window.getSelection(),M=I&&I.anchorNode,A=M?M===k||M.contains(k):!1;if(A)return!1;var L=wx(N,k);if(!L)return!0;if(L?R=N:(R=N==="v"?"h":"v",L=wx(N,k)),!L)return!1;if(!r.current&&"changedTouches"in y&&(x||C)&&(r.current=R),!R)return!0;var E=r.current||R;return kO(E,b,y,E==="h"?x:C)},[]),l=f.useCallback(function(y){var b=y;if(!(!bo.length||bo[bo.length-1]!==o)){var g="deltaY"in b?bx(b):$l(b),v=t.current.filter(function(R){return R.name===b.type&&(R.target===b.target||b.target===R.shadowParent)&&EO(R.delta,g)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var x=(i.current.shards||[]).map(_x).filter(Boolean).filter(function(R){return R.contains(b.target)}),C=x.length>0?a(b,x[0]):!i.current.noIsolation;C&&b.cancelable&&b.preventDefault()}}},[]),u=f.useCallback(function(y,b,g,v){var x={name:y,delta:b,target:g,should:v,shadowParent:IO(g)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(C){return C!==x})},1)},[]),d=f.useCallback(function(y){n.current=$l(y),r.current=void 0},[]),h=f.useCallback(function(y){u(y.type,bx(y),y.target,a(y,e.lockRef.current))},[]),p=f.useCallback(function(y){u(y.type,$l(y),y.target,a(y,e.lockRef.current))},[]);f.useEffect(function(){return bo.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,wo),document.addEventListener("touchmove",l,wo),document.addEventListener("touchstart",d,wo),function(){bo=bo.filter(function(y){return y!==o}),document.removeEventListener("wheel",l,wo),document.removeEventListener("touchmove",l,wo),document.removeEventListener("touchstart",d,wo)}},[]);var m=e.removeScrollBar,w=e.inert;return f.createElement(f.Fragment,null,w?f.createElement(o,{styles:TO(s)}):null,m?f.createElement(vO,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function IO(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const PO=oO(YC,RO);var vm=f.forwardRef(function(e,t){return f.createElement(Hu,er({},e,{ref:t,sideCar:PO}))});vm.classNames=Hu.classNames;const e0=f.forwardRef((e,t)=>c.jsx(cn.div,{...e,ref:t}));e0.displayName="AttachmentPrimitive.Root";const Eh=()=>{const e=se(({attachment:t})=>t.name);return c.jsx(c.Fragment,{children:e})};Eh.displayName="AttachmentPrimitive.Name";const AO=()=>{const e=xe();return f.useCallback(()=>{e.attachment().remove()},[e])},jO=Hn("AttachmentPrimitive.Remove",AO),MO=()=>{const e=xe(),t=se(({thread:r,message:s})=>!!(s.branchNumber>=s.branchCount||r.isRunning&&!r.capabilities.switchBranchDuringRun)),n=f.useCallback(()=>{e.message().switchToBranch({position:"next"})},[e]);return t?null:n},OO=Hn("BranchPickerPrimitive.Next",MO),LO=()=>{const e=xe(),t=se(({thread:r,message:s})=>!!(s.branchNumber<=1||r.isRunning&&!r.capabilities.switchBranchDuringRun)),n=f.useCallback(()=>{e.message().switchToBranch({position:"previous"})},[e]);return t?null:n},DO=Hn("BranchPickerPrimitive.Previous",LO),FO=()=>se(({message:t})=>t.branchCount),t0=()=>{const e=FO();return c.jsx(c.Fragment,{children:e})};t0.displayName="BranchPickerPrimitive.Count";const BO=()=>se(({message:t})=>t.branchNumber),n0=()=>{const e=BO();return c.jsx(c.Fragment,{children:e})};n0.displayName="BranchPickerPrimitive.Number";const nl=e=>{const t=f.useRef(void 0);return f.useCallback(r=>{t.current&&t.current(),r&&(t.current=e(r))},[e])},r0=(e,t)=>{const n=f.useCallback(r=>{if(!e)return;const s=e(),o=()=>{const a=t?t(r):r.offsetHeight;s.setHeight(a)},i=new ResizeObserver(o);return i.observe(r),o(),()=>{i.disconnect(),s.unregister()}},[e,t]);return nl(n)},Sx=f.createContext(!1),Cx=(e,t)=>{const n=e.match(/^([\d.]+)(em|px|rem)$/);if(!n)return 0;const r=parseFloat(n[1]),s=n[2];if(s==="px")return r;if(s==="em"){const o=parseFloat(getComputedStyle(t).fontSize)||16;return r*o}if(s==="rem"){const o=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;return r*o}return 0},s0=({children:e,fillClampThreshold:t="10em",fillClampOffset:n="6em"})=>{const r=se(({thread:l,message:u})=>{var d;return u.isLast&&u.role==="assistant"&&u.index>=1&&((d=l.messages.at(u.index-1))==null?void 0:d.role)==="user"}),s=Ou({optional:!0}),o=f.useContext(Sx),i=f.useCallback(l=>{if(!s||o)return;const u=()=>{const d=s.getState();if(d.turnAnchor==="top"&&r){const{viewport:h,inset:p,userMessage:m}=d.height,w=Cx(t,l),y=Cx(n,l),b=m<=w?m:y,g=Math.max(0,h-p-b);l.style.minHeight=`${g}px`,l.style.flexShrink="0",l.style.transition="min-height 0s"}else l.style.minHeight="",l.style.flexShrink="",l.style.transition=""};return u(),s.subscribe(u)},[s,r,o,t,n]),a=nl(i);return c.jsx(Sx.Provider,{value:!0,children:c.jsx(eC,{ref:a,children:e})})};s0.displayName="ThreadPrimitive.ViewportSlack";const zO=()=>{const e=xe(),t=se(()=>e.message()),n=f.useCallback(r=>{const s=()=>{t.setIsHovering(!0)},o=()=>{t.setIsHovering(!1)};return r.addEventListener("mouseenter",s),r.addEventListener("mouseleave",o),r.matches(":hover")&&queueMicrotask(()=>t.setIsHovering(!0)),()=>{r.removeEventListener("mouseenter",s),r.removeEventListener("mouseleave",o),t.setIsHovering(!1)}},[t]);return nl(n)},$O=()=>{const e=Fa(s=>s.turnAnchor),t=Fa(s=>s.registerUserMessageHeight),n=se(({thread:s,message:o})=>{var i;return e==="top"&&o.role==="user"&&o.index===s.messages.length-2&&((i=s.messages.at(-1))==null?void 0:i.role)==="assistant"}),r=f.useCallback(s=>s.offsetHeight,[]);return r0(n?t:null,r)},xm=f.forwardRef((e,t)=>{const n=zO(),r=$O(),s=we(t,n,r);return c.jsx(s0,{children:c.jsx(cn.div,{...e,ref:s})})});xm.displayName="MessagePrimitive.Root";const UO=Object.freeze({type:"complete"}),HO=Me(({parts:e,getMessagePart:t})=>{const[n,r]=Fn(!0),s=ke(()=>{const i=e[e.length-1];return(i==null?void 0:i.status)??UO},[e]),o=ke(()=>({parts:e,collapsed:n,status:s}),[e,n,s]);return{state:o,methods:{getState:()=>o,setCollapsed:r,part:t}}}),VO=({startIndex:e,endIndex:t,children:n})=>{const r=se(({message:i})=>i.parts).slice(e,t+1),s=xe(),o=xe({chainOfThought:HO({parts:r,getMessagePart:({index:i})=>{if(i<0||i>=r.length)throw new Error(`ChainOfThought part index ${i} is out of bounds (0..${r.length-1})`);return s.message().part({index:e+i})}})});return c.jsx(Cs,{value:o,children:n})},o0=()=>se(({part:t})=>{if(t.type!=="text"&&t.type!=="reasoning")throw new Error("MessagePartText can only be used inside text or reasoning message parts.");return t}),wm=f.forwardRef(({smooth:e=!0,component:t="span",...n},r)=>{const{text:s,status:o}=US(o0(),e);return c.jsx(t,{"data-status":o.type,...n,ref:r,children:s})});wm.displayName="MessagePartPrimitive.Text";const WO=()=>se(({part:t})=>{if(t.type!=="image")throw new Error("MessagePartImage can only be used inside image message parts.");return t}),i0=f.forwardRef((e,t)=>{const{image:n}=WO();return c.jsx(cn.img,{src:n,...e,ref:t})});i0.displayName="MessagePartPrimitive.Image";const a0=({children:e})=>se(({part:n})=>n.status.type==="running")?e:null;a0.displayName="MessagePartPrimitive.InProgress";const kx=e=>Symbol.iterator in e,Ex=e=>"entries"in e,Tx=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(const[s,o]of n)if(!r.has(s)||!Object.is(o,r.get(s)))return!1;return!0},KO=(e,t)=>{const n=e[Symbol.iterator](),r=t[Symbol.iterator]();let s=n.next(),o=r.next();for(;!s.done&&!o.done;){if(!Object.is(s.value,o.value))return!1;s=n.next(),o=r.next()}return!!s.done&&!!o.done};function qO(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:kx(e)&&kx(t)?Ex(e)&&Ex(t)?Tx(e,t):KO(e,t):Tx({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function l0(e){const t=Se.useRef(void 0);return n=>{const r=e(n);return qO(t.current,r)?t.current:t.current=r}}const sf=e=>{let t=-1;return{startGroup:n=>{t===-1&&(t=n)},endGroup:(n,r)=>{t!==-1&&(r.push({type:e,startIndex:t,endIndex:n}),t=-1)},finalize:(n,r)=>{t!==-1&&r.push({type:e,startIndex:t,endIndex:n})}}},GO=(e,t)=>{const n=[];if(t){const r=sf("chainOfThoughtGroup");for(let s=0;s<e.length;s++){const o=e[s];o==="tool-call"||o==="reasoning"?r.startGroup(s):(r.endGroup(s-1,n),n.push({type:"single",index:s}))}r.finalize(e.length-1,n)}else{const r=sf("toolGroup"),s=sf("reasoningGroup");for(let o=0;o<e.length;o++){const i=e[o];i==="tool-call"?(s.endGroup(o-1,n),r.startGroup(o)):i==="reasoning"?(r.endGroup(o-1,n),s.startGroup(o)):(r.endGroup(o-1,n),s.endGroup(o-1,n),n.push({type:"single",index:o}))}r.finalize(e.length-1,n),s.finalize(e.length-1,n)}return n},YO=e=>{const t=se(l0(n=>n.message.parts.map(r=>r.type)));return f.useMemo(()=>t.length===0?[]:GO(t,e),[t,e])},XO=({Fallback:e,...t})=>{const n=se(({tools:r})=>{const s=r.tools[t.toolName]??e;return Array.isArray(s)?s[0]??e:s});return n?c.jsx(n,{...t}):null},br={Text:()=>c.jsxs("p",{style:{whiteSpace:"pre-line"},children:[c.jsx(wm,{}),c.jsx(a0,{children:c.jsx("span",{style:{fontFamily:"revert"},children:" "})})]}),Reasoning:()=>null,Source:()=>null,Image:()=>c.jsx(i0,{}),File:()=>null,Unstable_Audio:()=>null,ToolGroup:({children:e})=>e,ReasoningGroup:({children:e})=>e},QO=({components:{Text:e=br.Text,Reasoning:t=br.Reasoning,Image:n=br.Image,Source:r=br.Source,File:s=br.File,Unstable_Audio:o=br.Unstable_Audio,tools:i={}}={}})=>{var d,h;const a=xe(),l=se(({part:p})=>p),u=l.type;if(u==="tool-call"){const p=a.part().addToolResult,m=a.part().resumeToolCall;if("Override"in i)return c.jsx(i.Override,{...l,addResult:p,resume:m});const w=((d=i.by_name)==null?void 0:d[l.toolName])??i.Fallback;return c.jsx(XO,{...l,Fallback:w,addResult:p,resume:m})}if(((h=l.status)==null?void 0:h.type)==="requires-action")throw new Error("Encountered unexpected requires-action status");switch(u){case"text":return c.jsx(e,{...l});case"reasoning":return c.jsx(t,{...l});case"source":return c.jsx(r,{...l});case"image":return c.jsx(n,{...l});case"file":return c.jsx(s,{...l});case"audio":return c.jsx(o,{...l});case"data":return null;default:const p=u;throw new Error(`Unknown message part type: ${p}`)}},hc=f.memo(({index:e,components:t})=>c.jsx(ZA,{index:e,children:c.jsx(QO,{components:t})}),(e,t)=>{var n,r,s,o,i,a,l,u,d,h,p,m,w,y,b,g,v,x;return e.index===t.index&&((n=e.components)==null?void 0:n.Text)===((r=t.components)==null?void 0:r.Text)&&((s=e.components)==null?void 0:s.Reasoning)===((o=t.components)==null?void 0:o.Reasoning)&&((i=e.components)==null?void 0:i.Source)===((a=t.components)==null?void 0:a.Source)&&((l=e.components)==null?void 0:l.Image)===((u=t.components)==null?void 0:u.Image)&&((d=e.components)==null?void 0:d.File)===((h=t.components)==null?void 0:h.File)&&((p=e.components)==null?void 0:p.Unstable_Audio)===((m=t.components)==null?void 0:m.Unstable_Audio)&&((w=e.components)==null?void 0:w.tools)===((y=t.components)==null?void 0:y.tools)&&((b=e.components)==null?void 0:b.ToolGroup)===((g=t.components)==null?void 0:g.ToolGroup)&&((v=e.components)==null?void 0:v.ReasoningGroup)===((x=t.components)==null?void 0:x.ReasoningGroup)});hc.displayName="MessagePrimitive.PartByIndex";const JO=({status:e,component:t})=>c.jsx(rj,{text:"",isRunning:e.type==="running",children:c.jsx(t,{type:"text",text:"",status:e})}),ZO=Object.freeze({type:"complete"}),eL=({components:e})=>{const t=se(n=>n.message.status??ZO);return e!=null&&e.Empty?c.jsx(e.Empty,{status:t}):c.jsx(JO,{status:t,component:(e==null?void 0:e.Text)??br.Text})},c0=f.memo(eL,(e,t)=>{var n,r,s,o;return((n=e.components)==null?void 0:n.Empty)===((r=t.components)==null?void 0:r.Empty)&&((s=e.components)==null?void 0:s.Text)===((o=t.components)==null?void 0:o.Text)}),tL=({components:e,enabled:t})=>se(({message:r})=>{if(!t||r.parts.length===0)return!1;const s=r.parts[r.parts.length-1];return(s==null?void 0:s.type)!=="text"&&(s==null?void 0:s.type)!=="reasoning"})?c.jsx(c0,{components:e}):null,nL=f.memo(tL,(e,t)=>{var n,r,s,o;return e.enabled===t.enabled&&((n=e.components)==null?void 0:n.Empty)===((r=t.components)==null?void 0:r.Empty)&&((s=e.components)==null?void 0:s.Text)===((o=t.components)==null?void 0:o.Text)}),bm=({components:e,unstable_showEmptyOnNonTextEnd:t=!0})=>{const n=se(({message:i})=>i.parts.length),r=!!(e!=null&&e.ChainOfThought),s=YO(r),o=f.useMemo(()=>n===0?c.jsx(c0,{components:e}):s.map(i=>{if(i.type==="single")return c.jsx(hc,{index:i.index,components:e},i.index);if(i.type==="chainOfThoughtGroup"){const a=e==null?void 0:e.ChainOfThought;return a?c.jsx(VO,{startIndex:i.startIndex,endIndex:i.endIndex,children:c.jsx(a,{})},`chainOfThought-${i.startIndex}`):null}else if(i.type==="toolGroup"){const a=(e==null?void 0:e.ToolGroup)??br.ToolGroup;return c.jsx(a,{startIndex:i.startIndex,endIndex:i.endIndex,children:Array.from({length:i.endIndex-i.startIndex+1},(l,u)=>c.jsx(hc,{index:i.startIndex+u,components:e},u))},`tool-${i.startIndex}`)}else{const a=(e==null?void 0:e.ReasoningGroup)??br.ReasoningGroup;return c.jsx(a,{startIndex:i.startIndex,endIndex:i.endIndex,children:Array.from({length:i.endIndex-i.startIndex+1},(l,u)=>c.jsx(hc,{index:i.startIndex+u,components:e},u))},`reasoning-${i.startIndex}`)}}),[s,e,n]);return c.jsxs(c.Fragment,{children:[o,c.jsx(nL,{components:e,enabled:t})]})};bm.displayName="MessagePrimitive.Parts";const rL=e=>se(({message:t})=>{var d;const{role:n,attachments:r,parts:s,branchCount:o,isLast:i,speech:a,isCopied:l,isHovering:u}=t;return!(e.hasBranches===!0&&o<2||e.user&&n!=="user"||e.assistant&&n!=="assistant"||e.system&&n!=="system"||e.lastOrHover===!0&&!u&&!i||e.last!==void 0&&e.last!==i||e.copied===!0&&!l||e.copied===!1&&l||e.speaking===!0&&a==null||e.speaking===!1&&a!=null||e.hasAttachments===!0&&(n!=="user"||!(r!=null&&r.length))||e.hasAttachments===!1&&n==="user"&&(r!=null&&r.length)||e.hasContent===!0&&s.length===0||e.hasContent===!1&&s.length>0||e.submittedFeedback!==void 0&&(((d=t.metadata.submittedFeedback)==null?void 0:d.type)??null)!==e.submittedFeedback)}),Mr=({children:e,...t})=>rL(t)?e:null;Mr.displayName="MessagePrimitive.If";const sL=(e,t)=>{const n=t.type;switch(n){case"image":return(e==null?void 0:e.Image)??(e==null?void 0:e.Attachment);case"document":return(e==null?void 0:e.Document)??(e==null?void 0:e.Attachment);case"file":return(e==null?void 0:e.File)??(e==null?void 0:e.Attachment);default:const r=n;throw new Error(`Unknown attachment type: ${r}`)}},oL=({components:e})=>{const t=se(({attachment:r})=>r);if(!t)return null;const n=sL(e,t);return n?c.jsx(n,{}):null},u0=f.memo(({index:e,components:t})=>c.jsx(ej,{index:e,children:c.jsx(oL,{components:t})}),(e,t)=>{var n,r,s,o,i,a,l,u;return e.index===t.index&&((n=e.components)==null?void 0:n.Image)===((r=t.components)==null?void 0:r.Image)&&((s=e.components)==null?void 0:s.Document)===((o=t.components)==null?void 0:o.Document)&&((i=e.components)==null?void 0:i.File)===((a=t.components)==null?void 0:a.File)&&((l=e.components)==null?void 0:l.Attachment)===((u=t.components)==null?void 0:u.Attachment)});u0.displayName="MessagePrimitive.AttachmentByIndex";const d0=({components:e})=>{const t=se(({message:r})=>r.role!=="user"?0:r.attachments.length);return f.useMemo(()=>Array.from({length:t},(r,s)=>c.jsx(u0,{index:s,components:e},s)),[t,e])};d0.displayName="MessagePrimitive.Attachments";const f0=f.forwardRef(({hideWhenSingleBranch:e,...t},n)=>c.jsx(Mr,{hasBranches:e?!0:void 0,children:c.jsx(cn.div,{...t,ref:n})}));f0.displayName="BranchPickerPrimitive.Root";const h0=()=>{const e=xe(),t=se(r=>r.thread.isRunning||!r.composer.isEditing||r.composer.isEmpty),n=f.useCallback(()=>{e.composer().send()},[e]);return t?null:n},p0=Hn("ComposerPrimitive.Send",h0),_m=f.forwardRef(({onSubmit:e,...t},n)=>{const r=h0(),s=o=>{o.preventDefault(),r&&r()};return c.jsx(cn.form,{...t,ref:n,onSubmit:Z(e,s)})});_m.displayName="ComposerPrimitive.Root";function Th(){return Th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Th.apply(null,arguments)}function iL(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aL=f.useLayoutEffect,lL=function(t){var n=Se.useRef(t);return aL(function(){n.current=t}),n},Nx=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},cL=function(t,n){var r=Se.useRef();return Se.useCallback(function(s){t.current=s,r.current&&Nx(r.current,null),r.current=n,n&&Nx(n,s)},[n])},Rx={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},uL=function(t){Object.keys(Rx).forEach(function(n){t.style.setProperty(n,Rx[n],"important")})},Ix=uL,It=null,Px=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function dL(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),It||(It=document.createElement("textarea"),It.setAttribute("tabindex","-1"),It.setAttribute("aria-hidden","true"),Ix(It)),It.parentNode===null&&document.body.appendChild(It);var s=e.paddingSize,o=e.borderSize,i=e.sizingStyle,a=i.boxSizing;Object.keys(i).forEach(function(p){var m=p;It.style[m]=i[m]}),Ix(It),It.value=t;var l=Px(It,e);It.value=t,l=Px(It,e),It.value="x";var u=It.scrollHeight-s,d=u*n;a==="border-box"&&(d=d+s+o),l=Math.max(d,l);var h=u*r;return a==="border-box"&&(h=h+s+o),l=Math.min(h,l),[l,u]}var Ax=function(){},fL=function(t,n){return t.reduce(function(r,s){return r[s]=n[s],r},{})},hL=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],pL=!!document.documentElement.currentStyle,mL=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=fL(hL,n),s=r.boxSizing;if(s==="")return null;pL&&s==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),i=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:i}},gL=mL;function Sm(e,t,n){var r=lL(n);f.useLayoutEffect(function(){var s=function(i){return r.current(i)};if(e)return e.addEventListener(t,s),function(){return e.removeEventListener(t,s)}},[])}var yL=function(t,n){Sm(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},vL=function(t){Sm(window,"resize",t)},xL=function(t){Sm(document.fonts,"loadingdone",t)},wL=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],bL=function(t,n){var r=t.cacheMeasurements,s=t.maxRows,o=t.minRows,i=t.onChange,a=i===void 0?Ax:i,l=t.onHeightChange,u=l===void 0?Ax:l,d=iL(t,wL),h=d.value!==void 0,p=f.useRef(null),m=cL(p,n),w=f.useRef(0),y=f.useRef(),b=function(){var x=p.current,C=r&&y.current?y.current:gL(x);if(C){y.current=C;var R=dL(C,x.value||x.placeholder||"x",o,s),k=R[0],N=R[1];w.current!==k&&(w.current=k,x.style.setProperty("height",k+"px","important"),u(k,{rowHeight:N}))}},g=function(x){h||b(),a(x)};return f.useLayoutEffect(b),yL(p,function(){if(!h){var v=p.current.value;requestAnimationFrame(function(){var x=p.current;x&&v!==x.value&&b()})}}),vL(b),xL(b),f.createElement("textarea",Th({},d,{onChange:g,ref:m}))},_L=f.forwardRef(bL);const m0=e=>{const t=Ye(e),n=Fa(r=>r.onScrollToBottom);f.useEffect(()=>n(t),[n,t])},Cm=f.forwardRef(({autoFocus:e=!1,asChild:t,disabled:n,onChange:r,onKeyDown:s,onPaste:o,submitOnEnter:i=!0,cancelOnEscape:a=!0,unstable_focusOnRunStart:l=!0,unstable_focusOnScrollToBottom:u=!0,unstable_focusOnThreadSwitched:d=!0,addAttachmentOnPaste:h=!0,...p},m)=>{const w=xe(),y=se(({composer:I})=>I.isEditing?I.text:""),b=t?eC:_L,g=se(({thread:I,composer:M})=>{var A;return I.isDisabled||((A=M.dictation)==null?void 0:A.inputDisabled)})||n,v=f.useRef(null),x=we(m,v);am(I=>{var A;if(!a||!((A=v.current)!=null&&A.contains(I.target)))return;const M=w.composer();M.getState().canCancel&&(M.cancel(),I.preventDefault())});const C=I=>{var M,A;g||!i||I.nativeEvent.isComposing||I.key==="Enter"&&I.shiftKey===!1&&(w.thread().getState().isRunning||(I.preventDefault(),(A=(M=v.current)==null?void 0:M.closest("form"))==null||A.requestSubmit()))},R=async I=>{var L;if(!h)return;const M=w.thread().getState().capabilities,A=Array.from(((L=I.clipboardData)==null?void 0:L.files)||[]);if(M.attachments&&A.length>0)try{I.preventDefault(),await Promise.all(A.map(E=>w.composer().addAttachment(E)))}catch(E){console.error("Error adding attachment:",E)}},k=e&&!g,N=f.useCallback(()=>{const I=v.current;!I||!k||(I.focus({preventScroll:!0}),I.setSelectionRange(I.value.length,I.value.length))},[k]);return f.useEffect(()=>N(),[N]),m0(()=>{w.composer().getState().type==="thread"&&u&&N()}),f.useEffect(()=>{if(!(w.composer().getState().type!=="thread"||!l))return w.on("thread.runStart",N)},[l,N,w]),f.useEffect(()=>{if(!(w.composer().getState().type!=="thread"||!d))return w.on("threadListItem.switchedTo",N)},[d,N,w]),c.jsx(b,{name:"input",value:y,...p,ref:x,disabled:g,onChange:Z(r,I=>{w.composer().getState().isEditing&&nS(()=>{w.composer().setText(I.target.value)})}),onKeyDown:Z(s,C),onPaste:Z(o,R)})});Cm.displayName="ComposerPrimitive.Input";const SL=()=>{const e=xe(),t=se(({composer:r})=>!r.canCancel),n=f.useCallback(()=>{e.composer().cancel()},[e]);return t?null:n},g0=Hn("ComposerPrimitive.Cancel",SL),CL=({multiple:e=!0}={})=>{const t=se(({composer:s})=>!s.isEditing),n=xe(),r=f.useCallback(()=>{const s=document.createElement("input");s.type="file",s.multiple=e,s.hidden=!0;const o=n.composer().getState().attachmentAccept;o!=="*"&&(s.accept=o),document.body.appendChild(s),s.onchange=i=>{const a=i.target.files;if(a){for(const l of a)n.composer().addAttachment(l);document.body.removeChild(s)}},s.oncancel=()=>{(!s.files||s.files.length===0)&&document.body.removeChild(s)},s.click()},[n,e]);return t?null:r},kL=Hn("ComposerPrimitive.AddAttachment",CL,["multiple"]),EL=(e,t)=>{const n=t.type;switch(n){case"image":return(e==null?void 0:e.Image)??(e==null?void 0:e.Attachment);case"document":return(e==null?void 0:e.Document)??(e==null?void 0:e.Attachment);case"file":return(e==null?void 0:e.File)??(e==null?void 0:e.Attachment);default:const r=n;throw new Error(`Unknown attachment type: ${r}`)}},TL=({components:e})=>{const t=se(({attachment:r})=>r);if(!t)return null;const n=EL(e,t);return n?c.jsx(n,{}):null},y0=f.memo(({index:e,components:t})=>c.jsx(tj,{index:e,children:c.jsx(TL,{components:t})}),(e,t)=>{var n,r,s,o,i,a,l,u;return e.index===t.index&&((n=e.components)==null?void 0:n.Image)===((r=t.components)==null?void 0:r.Image)&&((s=e.components)==null?void 0:s.Document)===((o=t.components)==null?void 0:o.Document)&&((i=e.components)==null?void 0:i.File)===((a=t.components)==null?void 0:a.File)&&((l=e.components)==null?void 0:l.Attachment)===((u=t.components)==null?void 0:u.Attachment)});y0.displayName="ComposerPrimitive.AttachmentByIndex";const v0=({components:e})=>{const t=se(r=>r.composer.attachments.length);return f.useMemo(()=>Array.from({length:t},(r,s)=>c.jsx(y0,{index:s,components:e},s)),[t,e])};v0.displayName="ComposerPrimitive.Attachments";const x0=f.forwardRef((e,t)=>c.jsx(cn.div,{...e,ref:t}));x0.displayName="ThreadPrimitive.Root";const w0=({children:e})=>se(({thread:n})=>n.messages.length===0&&!n.isLoading)?e:null;w0.displayName="ThreadPrimitive.Empty";const NL=e=>se(({thread:t})=>!(e.empty===!0&&!t.isEmpty||e.empty===!1&&t.isEmpty||e.running===!0&&!t.isRunning||e.running===!1&&t.isRunning||e.disabled===!0&&!t.isDisabled||e.disabled===!1&&t.isDisabled)),za=({children:e,...t})=>NL(t)?e:null;za.displayName="ThreadPrimitive.If";const RL=e=>{const t=Ye(e),n=f.useCallback(r=>{const s=new ResizeObserver(()=>{t()}),o=new MutationObserver(i=>{i.some(l=>l.type!=="attributes"||l.attributeName!=="style")&&t()});return s.observe(r),o.observe(r,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),()=>{s.disconnect(),o.disconnect()}},[t]);return nl(n)},IL=({autoScroll:e,scrollToBottomOnRunStart:t=!0,scrollToBottomOnInitialize:n=!0,scrollToBottomOnThreadSwitch:r=!0})=>{const s=f.useRef(null),o=Ou();e===void 0&&(e=o.getState().turnAnchor!=="top");const i=f.useRef(0),a=f.useRef(null),l=f.useCallback(m=>{const w=s.current;w&&(a.current=m,w.scrollTo({top:w.scrollHeight,behavior:m}))},[]),u=()=>{const m=s.current;if(!m)return;const w=o.getState().isAtBottom,y=Math.abs(m.scrollHeight-m.scrollTop-m.clientHeight)<1||m.scrollHeight<=m.clientHeight;!y&&i.current<m.scrollTop||(y&&(a.current=null),(y||a.current===null)&&y!==w&&Da(o).setState({isAtBottom:y})),i.current=m.scrollTop},d=RL(()=>{const m=a.current;m?l(m):e&&o.getState().isAtBottom&&l("instant"),u()}),h=nl(m=>(m.addEventListener("scroll",u),()=>{m.removeEventListener("scroll",u)}));return m0(({behavior:m})=>{l(m)}),$d("thread.runStart",()=>{t&&(a.current="auto",requestAnimationFrame(()=>{l("auto")}))}),$d("thread.initialize",()=>{n&&(a.current="instant",requestAnimationFrame(()=>{l("instant")}))}),$d("threadListItem.switchedTo",()=>{r&&(a.current="instant",requestAnimationFrame(()=>{l("instant")}))}),we(d,h,s)},PL=()=>{const e=Fa(n=>n.registerViewport),t=f.useCallback(n=>n.clientHeight,[]);return r0(e,t)},b0=f.forwardRef(({autoScroll:e,scrollToBottomOnRunStart:t,scrollToBottomOnInitialize:n,scrollToBottomOnThreadSwitch:r,children:s,...o},i)=>{const a=IL({autoScroll:e,scrollToBottomOnRunStart:t,scrollToBottomOnInitialize:n,scrollToBottomOnThreadSwitch:r}),l=PL(),u=we(i,a,l);return c.jsx(cn.div,{...o,ref:u,children:s})});b0.displayName="ThreadPrimitive.ViewportScrollable";const _0=f.forwardRef(({turnAnchor:e,...t},n)=>c.jsx(XS,{options:{turnAnchor:e},children:c.jsx(b0,{...t,ref:n})}));_0.displayName="ThreadPrimitive.Viewport";const S0=(e,t)=>e.Message===t.Message&&e.EditComposer===t.EditComposer&&e.UserEditComposer===t.UserEditComposer&&e.AssistantEditComposer===t.AssistantEditComposer&&e.SystemEditComposer===t.SystemEditComposer&&e.UserMessage===t.UserMessage&&e.AssistantMessage===t.AssistantMessage&&e.SystemMessage===t.SystemMessage,AL=()=>null,jL=(e,t,n)=>{switch(t){case"user":return n?e.UserEditComposer??e.EditComposer??e.UserMessage??e.Message:e.UserMessage??e.Message;case"assistant":return n?e.AssistantEditComposer??e.EditComposer??e.AssistantMessage??e.Message:e.AssistantMessage??e.Message;case"system":return n?e.SystemEditComposer??e.EditComposer??e.SystemMessage??e.Message:e.SystemMessage??AL;default:const r=t;throw new Error(`Unknown message role: ${r}`)}},ML=({components:e})=>{const t=se(({message:s})=>s.role),n=se(({message:s})=>s.composer.isEditing),r=jL(e,t,n);return c.jsx(r,{})},C0=f.memo(({index:e,components:t})=>c.jsx(JA,{index:e,children:c.jsx(ML,{components:t})}),(e,t)=>e.index===t.index&&S0(e.components,t.components));C0.displayName="ThreadPrimitive.MessageByIndex";const k0=({components:e})=>{const t=se(({thread:r})=>r.messages.length);return f.useMemo(()=>t===0?null:Array.from({length:t},(r,s)=>c.jsx(C0,{index:s,components:e},s)),[t,e])};k0.displayName="ThreadPrimitive.Messages";const OL=f.memo(k0,(e,t)=>S0(e.components,t.components)),LL=({behavior:e}={})=>{const t=Fa(s=>s.isAtBottom),n=Ou(),r=f.useCallback(()=>{n.getState().scrollToBottom({behavior:e})},[n,e]);return t?null:r},DL=Hn("ThreadPrimitive.ScrollToBottom",LL,["behavior"]),FL=({prompt:e,send:t,clearComposer:n=!0,autoSend:r,method:s})=>{const o=xe(),i=se(({thread:u})=>u.isDisabled),a=t??r??!1,l=f.useCallback(()=>{const u=o.thread().getState().isRunning;if(a&&!u)o.thread().append(e),n&&o.composer().setText("");else if(n)o.composer().setText(e);else{const d=o.composer().getState().text;o.composer().setText(d.trim()?`${d} ${e}`:e)}},[o,a,n,e]);return i?null:l},E0=Hn("ThreadPrimitive.Suggestion",FL,["prompt","send","clearComposer","autoSend","method"]);var T0=f.createContext({}),Re=()=>f.useContext(T0),N0=({children:e,config:t})=>{const n=!!pj(),r=t&&Object.keys(t).length>0,s=Re();if(r&&Object.keys(s).length>0)throw new Error("You are providing ThreadConfig to several nested components. Please provide all configuration to the same component.");const o=r?c.jsx(T0.Provider,{value:t,children:e}):c.jsx(c.Fragment,{children:e});if(!(t!=null&&t.runtime))return o;if(n)throw new Error("You provided a runtime to <Thread> while simulataneously using <AssistantRuntimeProvider>. This is not allowed.");return c.jsx(QS,{runtime:t.runtime,children:o})};N0.displayName="ThreadConfigProvider";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),R0=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},l)=>f.createElement("svg",{ref:l,...zL,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:R0("lucide",s),...a},[...i.map(([u,d])=>f.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=(e,t)=>{const n=f.forwardRef(({className:r,...s},o)=>f.createElement($L,{ref:o,iconNode:t,className:R0(`lucide-${BL(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],HL=Ot("ArrowDown",UL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]],WL=Ot("AudioLines",VL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],I0=Ot("Check",KL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],GL=Ot("ChevronLeft",qL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],XL=Ot("ChevronRight",YL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],JL=Ot("CircleStop",QL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],eD=Ot("CircleX",ZL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],P0=Ot("Copy",tD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],rD=Ot("File",nD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],oD=Ot("Paperclip",sD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],aD=Ot("Pencil",iD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],cD=Ot("RefreshCw",lD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],dD=Ot("SendHorizontal",uD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],hD=Ot("ThumbsDown",fD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],mD=Ot("ThumbsUp",pD);var A0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),gD="VisuallyHidden",j0=f.forwardRef((e,t)=>c.jsx(ce.span,{...e,ref:t,style:{...A0,...e.style}}));j0.displayName=gD;var M0=j0,[Vu]=ur("Tooltip",[Uu]),Wu=Uu(),O0="TooltipProvider",yD=700,Nh="tooltip.open",[vD,km]=Vu(O0),L0=e=>{const{__scopeTooltip:t,delayDuration:n=yD,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,i=f.useRef(!0),a=f.useRef(!1),l=f.useRef(0);return f.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(vD,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:f.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:o})};L0.displayName=O0;var $a="Tooltip",[xD,Ku]=Vu($a),D0=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:o,disableHoverableContent:i,delayDuration:a}=e,l=km($a,e.__scopeTooltip),u=Wu(t),[d,h]=f.useState(null),p=Er(),m=f.useRef(0),w=i??l.disableHoverableContent,y=a??l.delayDuration,b=f.useRef(!1),[g,v]=Js({prop:r,defaultProp:s??!1,onChange:N=>{N?(l.onOpen(),document.dispatchEvent(new CustomEvent(Nh))):l.onClose(),o==null||o(N)},caller:$a}),x=f.useMemo(()=>g?b.current?"delayed-open":"instant-open":"closed",[g]),C=f.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b.current=!1,v(!0)},[v]),R=f.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v(!1)},[v]),k=f.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{b.current=!0,v(!0),m.current=0},y)},[y,v]);return f.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),c.jsx(OC,{...u,children:c.jsx(xD,{scope:t,contentId:p,open:g,stateAttribute:x,trigger:d,onTriggerChange:h,onTriggerEnter:f.useCallback(()=>{l.isOpenDelayedRef.current?k():C()},[l.isOpenDelayedRef,k,C]),onTriggerLeave:f.useCallback(()=>{w?R():(window.clearTimeout(m.current),m.current=0)},[R,w]),onOpen:C,onClose:R,disableHoverableContent:w,children:n})})};D0.displayName=$a;var Rh="TooltipTrigger",F0=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Ku(Rh,n),o=km(Rh,n),i=Wu(n),a=f.useRef(null),l=we(t,a,s.onTriggerChange),u=f.useRef(!1),d=f.useRef(!1),h=f.useCallback(()=>u.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),c.jsx(LC,{asChild:!0,...i,children:c.jsx(ce.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Z(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Z(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Z(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Z(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Z(e.onBlur,s.onClose),onClick:Z(e.onClick,s.onClose)})})});F0.displayName=Rh;var wD="TooltipPortal",[P8,bD]=Vu(wD,{forceMount:void 0}),ui="TooltipContent",B0=f.forwardRef((e,t)=>{const n=bD(ui,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,i=Ku(ui,e.__scopeTooltip);return c.jsx(fr,{present:r||i.open,children:i.disableHoverableContent?c.jsx(z0,{side:s,...o,ref:t}):c.jsx(_D,{side:s,...o,ref:t})})}),_D=f.forwardRef((e,t)=>{const n=Ku(ui,e.__scopeTooltip),r=km(ui,e.__scopeTooltip),s=f.useRef(null),o=we(t,s),[i,a]=f.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,p=f.useCallback(()=>{a(null),h(!1)},[h]),m=f.useCallback((w,y)=>{const b=w.currentTarget,g={x:w.clientX,y:w.clientY},v=TD(g,b.getBoundingClientRect()),x=ND(g,v),C=RD(y.getBoundingClientRect()),R=PD([...x,...C]);a(R),h(!0)},[h]);return f.useEffect(()=>()=>p(),[p]),f.useEffect(()=>{if(l&&d){const w=b=>m(b,d),y=b=>m(b,l);return l.addEventListener("pointerleave",w),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",y)}}},[l,d,m,p]),f.useEffect(()=>{if(i){const w=y=>{const b=y.target,g={x:y.clientX,y:y.clientY},v=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),x=!ID(g,i);v?p():x&&(p(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,d,i,u,p]),c.jsx(z0,{...e,ref:o})}),[SD,CD]=Vu($a,{isInside:!1}),kD=Hj("TooltipContent"),z0=f.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,l=Ku(ui,n),u=Wu(n),{onClose:d}=l;return f.useEffect(()=>(document.addEventListener(Nh,d),()=>document.removeEventListener(Nh,d)),[d]),f.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),c.jsx(Du,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:c.jsxs(DC,{"data-state":l.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(kD,{children:r}),c.jsx(SD,{scope:n,isInside:!0,children:c.jsx(M0,{id:l.contentId,role:"tooltip",children:s||r})})]})})});B0.displayName=ui;var $0="TooltipArrow",ED=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Wu(n);return CD($0,n).isInside?null:c.jsx(FC,{...s,...r,ref:t})});ED.displayName=$0;function TD(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ND(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function RD(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function ID(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],l=t[i],u=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function PD(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),AD(t)}function AD(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var U0=L0,jD=D0,MD=F0,OD=B0,H0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",i=0;i<arguments.length;i++){var a=arguments[i];a&&(o=s(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var i="";for(var a in o)t.call(o,a)&&o[a]&&(i=s(i,a));return i}function s(o,i){return i?o?o+" "+i:o+i:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(H0);var LD=H0.exports;const X=hi(LD);var DD=({className:e,...t})=>({className:n,...r})=>({className:X(e,n),...t,...r}),Ee=(e,t)=>{const n=DD(t),r=f.forwardRef((s,o)=>{const i=e;return c.jsx(i,{...n(s),ref:o})});return r.displayName="withDefaults("+(typeof e=="string"?e:e.displayName)+")",r},Em=e=>c.jsx(U0,{children:c.jsx(jD,{...e})});Em.displayName="Tooltip";var V0=MD,Tm=Ee(OD,{sideOffset:4,className:"aui-tooltip-content"});Tm.displayName="TooltipContent";function W0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=W0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function FD(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=W0(e))&&(r&&(r+=" "),r+=t);return r}const jx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Mx=FD,BD=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Mx(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=o==null?void 0:o[u];if(d===null)return null;const p=jx(d)||jx(h);return s[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:p,...m}=d;return Object.entries(m).every(w=>{let[y,b]=w;return Array.isArray(b)?b.includes({...o,...a}[y]):{...o,...a}[y]===b})?[...u,h,p]:u},[]);return Mx(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};var zD=BD("aui-button",{variants:{variant:{default:"aui-button-primary",outline:"aui-button-outline",ghost:"aui-button-ghost"},size:{default:"aui-button-medium",icon:"aui-button-icon"}},defaultVariants:{variant:"default",size:"default"}}),qu=f.forwardRef(({className:e,variant:t,size:n,...r},s)=>c.jsx(ce.button,{className:zD({variant:t,size:n,className:e}),...r,ref:s}));qu.displayName="Button";var Et=f.forwardRef(({children:e,tooltip:t,side:n="bottom",...r},s)=>c.jsxs(Em,{children:[c.jsx(V0,{asChild:!0,children:c.jsxs(qu,{variant:"ghost",size:"icon",...r,ref:s,children:[e,c.jsx("span",{className:"aui-sr-only",children:t})]})}),c.jsx(Tm,{side:n,children:t})]}));Et.displayName="TooltipIconButton";var $D=(e=!1)=>{const{assistantMessage:{allowCopy:t=!0}={}}=Re(),n=Un(r=>r.capabilities.unstable_copy);return t&&(!e||n)},Nm=(e=!1)=>{const{assistantMessage:{allowSpeak:t=!0}={}}=Re(),n=Un(r=>r.capabilities.speech);return t&&(!e||n)},K0=(e=!1)=>{const{assistantMessage:{allowReload:t=!0}={}}=Re(),n=Un(r=>r.capabilities.reload);return t&&(!e||n)},q0=(e=!1)=>{const{assistantMessage:{allowFeedbackPositive:t=!0}={}}=Re(),n=Un(r=>r.capabilities.feedback);return t&&(!e||n)},G0=(e=!1)=>{const{assistantMessage:{allowFeedbackNegative:t=!0}={}}=Re(),n=Un(r=>r.capabilities.feedback);return t&&(!e||n)},Y0=()=>{const e=$D(!0),t=K0(!0),n=Nm(!0),r=q0(!0),s=G0(!0);return!e&&!t&&!n&&!r&&!s?null:c.jsxs(Rm,{hideWhenRunning:!0,autohide:"not-last",autohideFloat:"single-branch",children:[n&&c.jsx(X0,{}),e&&c.jsx(Im,{}),t&&c.jsx(jm,{}),r&&c.jsx(Mm,{}),s&&c.jsx(Om,{})]})};Y0.displayName="AssistantActionBar";var Rm=Ee(im,{className:"aui-assistant-action-bar-root"});Rm.displayName="AssistantActionBarRoot";var Im=f.forwardRef(({copiedDuration:e,...t},n)=>{const{strings:{assistantMessage:{copy:{tooltip:r="Copy"}={}}={}}={}}=Re();return c.jsx(tC,{copiedDuration:e,asChild:!0,children:c.jsx(Et,{tooltip:r,...t,ref:n,children:t.children??c.jsxs(c.Fragment,{children:[c.jsx(Mr,{copied:!0,children:c.jsx(I0,{})}),c.jsx(Mr,{copied:!1,children:c.jsx(P0,{})})]})})})});Im.displayName="AssistantActionBarCopy";var X0=()=>c.jsxs(c.Fragment,{children:[c.jsx(Mr,{speaking:!1,children:c.jsx(Pm,{})}),c.jsx(Mr,{speaking:!0,children:c.jsx(Am,{})})]}),Pm=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{speak:{tooltip:n="Read aloud"}={}}={}}={}}=Re(),r=Nm();return c.jsx(jj,{disabled:!r,asChild:!0,children:c.jsx(Et,{tooltip:n,...e,ref:t,children:e.children??c.jsx(WL,{})})})});Pm.displayName="AssistantActionBarSpeak";var Am=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{speak:{stop:{tooltip:n="Stop"}={}}={}}={}}={}}=Re(),r=Nm();return c.jsx(nC,{disabled:!r,asChild:!0,children:c.jsx(Et,{tooltip:n,...e,ref:t,children:e.children??c.jsx(JL,{})})})});Am.displayName="AssistantActionBarStopSpeaking";var jm=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{reload:{tooltip:n="Refresh"}={}}={}}={}}=Re(),r=K0();return c.jsx(Rj,{disabled:!r,asChild:!0,children:c.jsx(Et,{tooltip:n,...e,ref:t,children:e.children??c.jsx(cD,{})})})});jm.displayName="AssistantActionBarReload";var Mm=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{feedback:{positive:{tooltip:n="Good response"}={}}={}}={}}={}}=Re(),r=q0();return c.jsx(rC,{disabled:!r,className:"aui-assistant-action-bar-feedback-positive",asChild:!0,children:c.jsx(Et,{tooltip:n,...e,ref:t,children:e.children??c.jsx(mD,{})})})});Mm.displayName="AssistantActionBarFeedbackPositive";var Om=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{feedback:{negative:{tooltip:n="Bad response"}={}}={}}={}}={}}=Re(),r=G0();return c.jsx(sC,{disabled:!r,className:"aui-assistant-action-bar-feedback-negative",asChild:!0,children:c.jsx(Et,{tooltip:n,...e,ref:t,children:e.children??c.jsx(hD,{})})})});Om.displayName="AssistantActionBarFeedbackNegative";var UD={Root:Rm,Reload:jm,Copy:Im,Speak:Pm,StopSpeaking:Am,SpeechControl:X0,FeedbackPositive:Mm,FeedbackNegative:Om},Q0=Object.assign(Y0,UD),Lm=(e=!1)=>{const{branchPicker:{allowBranchPicker:t=!0}={}}=Re(),n=Un(r=>r.capabilities.edit);return t&&(!e||n)},J0=()=>Lm(!0)?c.jsxs(Dm,{hideWhenSingleBranch:!0,children:[c.jsx(Fm,{}),c.jsx(Z0,{}),c.jsx(Bm,{})]}):null;J0.displayName="BranchPicker";var Dm=Ee(f0,{className:"aui-branch-picker-root"});Dm.displayName="BranchPickerRoot";var Fm=f.forwardRef((e,t)=>{const{strings:{branchPicker:{previous:{tooltip:n="Previous"}={}}={}}={}}=Re(),r=Lm();return c.jsx(DO,{disabled:!r,asChild:!0,children:c.jsx(Et,{tooltip:n,...e,ref:t,children:e.children??c.jsx(GL,{})})})});Fm.displayName="BranchPickerPrevious";var HD=Ee("span",{className:"aui-branch-picker-state"}),Z0=f.forwardRef((e,t)=>c.jsxs(HD,{...e,ref:t,children:[c.jsx(n0,{})," / ",c.jsx(t0,{})]}));Z0.displayName="BranchPickerState";var Bm=f.forwardRef((e,t)=>{const{strings:{branchPicker:{next:{tooltip:n="Next"}={}}={}}={}}=Re(),r=Lm();return c.jsx(OO,{disabled:!r,asChild:!0,children:c.jsx(Et,{tooltip:n,...e,ref:t,children:e.children??c.jsx(XL,{})})})});Bm.displayName="BranchPickerNext";var VD={Root:Dm,Previous:Fm,Next:Bm},Gu=Object.assign(J0,VD),ek={exports:{}},tk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var di=f;function WD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var KD=typeof Object.is=="function"?Object.is:WD,qD=di.useState,GD=di.useEffect,YD=di.useLayoutEffect,XD=di.useDebugValue;function QD(e,t){var n=t(),r=qD({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return YD(function(){s.value=n,s.getSnapshot=t,of(s)&&o({inst:s})},[e,n,t]),GD(function(){return of(s)&&o({inst:s}),e(function(){of(s)&&o({inst:s})})},[e]),XD(n),n}function of(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!KD(e,n)}catch{return!0}}function JD(e,t){return t()}var ZD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?JD:QD;tk.useSyncExternalStore=di.useSyncExternalStore!==void 0?di.useSyncExternalStore:ZD;ek.exports=tk;var eF=ek.exports;function tF(){return eF.useSyncExternalStore(nF,()=>!0,()=>!1)}function nF(){return()=>{}}var zm="Avatar",[rF]=ur(zm),[sF,nk]=rF(zm),rk=f.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=f.useState("idle");return c.jsx(sF,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:c.jsx(ce.span,{...r,ref:t})})});rk.displayName=zm;var sk="AvatarImage",ok=f.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,i=nk(sk,n),a=oF(r,o),l=Ye(u=>{s(u),i.onImageLoadingStatusChange(u)});return nt(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?c.jsx(ce.img,{...o,ref:t,src:r}):null});ok.displayName=sk;var ik="AvatarFallback",$m=f.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=nk(ik,n),[i,a]=f.useState(r===void 0);return f.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&o.imageLoadingStatus!=="loaded"?c.jsx(ce.span,{...s,ref:t}):null});$m.displayName=ik;function Ox(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function oF(e,{referrerPolicy:t,crossOrigin:n}){const r=tF(),s=f.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[i,a]=f.useState(()=>Ox(o,e));return nt(()=>{a(Ox(o,e))},[o,e]),nt(()=>{const l=h=>()=>{a(h)};if(!o)return;const u=l("loaded"),d=l("error");return o.addEventListener("load",u),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,n,t]),i}var iF=rk,aF=ok,lF=$m,Um=({src:e,alt:t,fallback:n})=>e==null&&n==null?null:c.jsxs(Hm,{children:[e!=null&&c.jsx(Vm,{src:e,alt:t}),n!=null&&c.jsx(ak,{children:n})]});Um.displayName="Avatar";var Hm=Ee(iF,{className:"aui-avatar-root"});Hm.displayName="AvatarRoot";var Vm=Ee(aF,{className:"aui-avatar-image"});Vm.displayName="AvatarImage";var ak=Ee(lF,{className:"aui-avatar-fallback"});ak.displayName="AvatarFallback";var{useSmoothStatus:cF,withSmoothContextProvider:uF}=sm,dF=()=>{const e=cF();return c.jsx(wm,{className:X("aui-text",e.type==="running"&&"aui-text-running"),component:"p"})},fF={Text:uF(dF)},lk=fF,ck=()=>c.jsxs(Wm,{children:[c.jsx(uk,{}),c.jsx(Km,{}),c.jsx(Gu,{}),c.jsx(Q0,{})]});ck.displayName="AssistantMessage";var uk=()=>{const{assistantAvatar:e={fallback:"A"}}=Re();return c.jsx(Um,{...e})},Wm=Ee(xm,{className:"aui-assistant-message-root"});Wm.displayName="AssistantMessageRoot";var hF=Ee("div",{className:"aui-assistant-message-content"}),Km=f.forwardRef(({components:e,...t},n)=>{const{tools:r,assistantMessage:{components:s={}}={}}=Re(),o=f.useMemo(()=>({by_name:r?Object.fromEntries(r.map(a=>[a.unstable_tool.toolName,a.unstable_tool.render])):void 0,Fallback:s.ToolFallback}),[...r??[],s.ToolFallback]),i=s.Footer;return c.jsxs(hF,{...t,ref:n,children:[c.jsx(bm,{components:{...e,Text:(e==null?void 0:e.Text)??s.Text??lk.Text,Empty:(e==null?void 0:e.Empty)??s.Empty,tools:o}}),i&&c.jsx(i,{})]})});Km.displayName="AssistantMessageContent";var pF={Root:Wm,Avatar:uk,Content:Km},pc=Object.assign(ck,pF),dk=()=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:"16",height:"16",children:c.jsx("rect",{width:"10",height:"10",x:"3",y:"3",rx:"2"})});dk.displayName="CircleStopIcon";var Yu="Dialog",[fk]=ur(Yu),[mF,Vn]=fk(Yu),hk=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=f.useRef(null),l=f.useRef(null),[u,d]=Js({prop:r,defaultProp:s??!1,onChange:o,caller:Yu});return c.jsx(mF,{scope:t,triggerRef:a,contentRef:l,contentId:Er(),titleId:Er(),descriptionId:Er(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),modal:i,children:n})};hk.displayName=Yu;var pk="DialogTrigger",mk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Vn(pk,n),o=we(t,s.triggerRef);return c.jsx(ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Xm(s.open),...r,ref:o,onClick:Z(e.onClick,s.onOpenToggle)})});mk.displayName=pk;var qm="DialogPortal",[gF,gk]=fk(qm,{forceMount:void 0}),yk=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=Vn(qm,t);return c.jsx(gF,{scope:t,forceMount:n,children:f.Children.map(r,i=>c.jsx(fr,{present:n||o.open,children:c.jsx(ym,{asChild:!0,container:s,children:i})}))})};yk.displayName=qm;var nu="DialogOverlay",vk=f.forwardRef((e,t)=>{const n=gk(nu,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Vn(nu,e.__scopeDialog);return o.modal?c.jsx(fr,{present:r||o.open,children:c.jsx(vF,{...s,ref:t})}):null});vk.displayName=nu;var yF=li("DialogOverlay.RemoveScroll"),vF=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Vn(nu,n);return c.jsx(vm,{as:yF,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(ce.div,{"data-state":Xm(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),eo="DialogContent",xk=f.forwardRef((e,t)=>{const n=gk(eo,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Vn(eo,e.__scopeDialog);return c.jsx(fr,{present:r||o.open,children:o.modal?c.jsx(xF,{...s,ref:t}):c.jsx(wF,{...s,ref:t})})});xk.displayName=eo;var xF=f.forwardRef((e,t)=>{const n=Vn(eo,e.__scopeDialog),r=f.useRef(null),s=we(t,n.contentRef,r);return f.useEffect(()=>{const o=r.current;if(o)return KC(o)},[]),c.jsx(wk,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Z(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Z(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:Z(e.onFocusOutside,o=>o.preventDefault())})}),wF=f.forwardRef((e,t)=>{const n=Vn(eo,e.__scopeDialog),r=f.useRef(!1),s=f.useRef(!1);return c.jsx(wk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),wk=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=Vn(eo,n),l=f.useRef(null),u=we(t,l);return dC(),c.jsxs(c.Fragment,{children:[c.jsx(lm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:c.jsx(Du,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Xm(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(bF,{titleId:a.titleId}),c.jsx(SF,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Gm="DialogTitle",Ym=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Vn(Gm,n);return c.jsx(ce.h2,{id:s.titleId,...r,ref:t})});Ym.displayName=Gm;var bk="DialogDescription",_k=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Vn(bk,n);return c.jsx(ce.p,{id:s.descriptionId,...r,ref:t})});_k.displayName=bk;var Sk="DialogClose",Ck=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Vn(Sk,n);return c.jsx(ce.button,{type:"button",...r,ref:t,onClick:Z(e.onClick,()=>s.onOpenChange(!1))})});Ck.displayName=Sk;function Xm(e){return e?"open":"closed"}var kk="DialogTitleWarning",[A8,Ek]=Dj(kk,{contentName:eo,titleName:Gm,docsSlug:"dialog"}),bF=({titleId:e})=>{const t=Ek(kk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},_F="DialogDescriptionWarning",SF=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ek(_F).contentName}}.`;return f.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Tk=hk,Nk=mk,Rk=yk,Qm=vk,Jm=xk,CF=Ym,kF=_k,EF=Ck,TF=Tk,NF=Nk,RF=Rk,Ik=f.forwardRef(({className:e,...t},n)=>c.jsx(Qm,{ref:n,className:X("aui-dialog-overlay",e),...t}));Ik.displayName=Qm.displayName;var Pk=f.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(RF,{children:[c.jsx(Ik,{}),c.jsx(Jm,{ref:r,className:X("aui-dialog-content",e),...n,children:t})]}));Pk.displayName=Jm.displayName;var Zm=Ee(e0,{className:"aui-attachment-root"}),IF=Ee("div",{className:"aui-attachment-content"});Zm.displayName="AttachmentRoot";var PF=e=>{const[t,n]=f.useState(void 0);return f.useEffect(()=>{if(!e){n(void 0);return}const r=URL.createObjectURL(e);return n(r),()=>{URL.revokeObjectURL(r)}},[e]),t},Ak=()=>{const{file:e,src:t}=Xc(l0(n=>{var s,o;if(n.type!=="image")return{};if(n.file)return{file:n.file};const r=(o=(s=n.content)==null?void 0:s.filter(i=>i.type==="image")[0])==null?void 0:o.image;return r?{src:r}:{}}));return PF(e)??t},AF=({src:e})=>{const[t,n]=f.useState(!1);return c.jsx("img",{src:e,style:{width:"auto",height:"auto",maxWidth:"75dvh",maxHeight:"75dvh",display:t?"block":"none",overflow:"clip"},onLoad:()=>n(!0),alt:"Preview"})},jF=({children:e})=>{const t=Ak();return t?c.jsxs(TF,{children:[c.jsx(NF,{className:"aui-attachment-preview-trigger",asChild:!0,children:e}),c.jsxs(Pk,{children:[c.jsx(Ym,{className:"aui-sr-only",children:"Image Attachment Preview"}),c.jsx(AF,{src:t})]})]}):e},MF=()=>{const e=Xc(n=>n.type==="image"),t=Ak();return c.jsxs(Hm,{className:"aui-attachment-thumb",children:[c.jsx($m,{delayMs:e?200:0,children:c.jsx(rD,{})}),c.jsx(Vm,{src:t})]})},jk=()=>{const e=Xc(n=>n.source!=="message"),t=Xc(n=>{const r=n.type;switch(r){case"image":return"Image";case"document":return"Document";case"file":return"File";default:const s=r;throw new Error(`Unknown attachment type: ${s}`)}});return c.jsxs(Em,{children:[c.jsxs(Zm,{children:[c.jsx(jF,{children:c.jsx(V0,{asChild:!0,children:c.jsxs(IF,{children:[c.jsx(MF,{}),c.jsxs("div",{className:"aui-attachment-text",children:[c.jsx("p",{className:"aui-attachment-name",children:c.jsx(Eh,{})}),c.jsx("p",{className:"aui-attachment-type",children:t})]})]})})}),e&&c.jsx(eg,{})]}),c.jsx(Tm,{side:"top",children:c.jsx(Eh,{})})]})};jk.displayName="Attachment";var eg=f.forwardRef((e,t)=>{const{strings:{composer:{removeAttachment:{tooltip:n="Remove file"}={}}={}}={}}=Re();return c.jsx(jO,{asChild:!0,children:c.jsx(Et,{tooltip:n,className:"aui-attachment-remove",side:"top",...e,ref:t,children:e.children??c.jsx(eD,{})})})});eg.displayName="AttachmentRemove";var OF={Root:Zm,Remove:eg},Mk=Object.assign(jk,OF),Ok=(e=!1)=>{const{composer:{allowAttachments:t=!0}={}}=Re(),n=Un(r=>r.capabilities.attachments);return t&&(!e||n)},Lk=()=>{const e=Ok(!0);return c.jsxs(tg,{children:[e&&c.jsx(Dk,{}),e&&c.jsx(rg,{}),c.jsx(ng,{autoFocus:!0}),c.jsx(sg,{})]})};Lk.displayName="Composer";var tg=Ee(_m,{className:"aui-composer-root"});tg.displayName="ComposerRoot";var LF=Ee(Cm,{rows:1,autoFocus:!0,className:"aui-composer-input"}),ng=f.forwardRef((e,t)=>{const{strings:{composer:{input:{placeholder:n="Write a message..."}={}}={}}={}}=Re();return c.jsx(LF,{placeholder:n,...e,ref:t})});ng.displayName="ComposerInput";var DF=Ee("div",{className:"aui-composer-attachments"}),Dk=({components:e})=>c.jsx(DF,{children:c.jsx(v0,{components:{...e,Attachment:(e==null?void 0:e.Attachment)??Mk}})}),FF=Ee(Et,{variant:"default",className:"aui-composer-attach"}),rg=f.forwardRef((e,t)=>{const{strings:{composer:{addAttachment:{tooltip:n="Attach file"}={}}={}}={}}=Re(),r=Ok();return c.jsx(kL,{disabled:!r,asChild:!0,children:c.jsx(FF,{tooltip:n,variant:"ghost",...e,ref:t,children:e.children??c.jsx(oD,{})})})});rg.displayName="ComposerAddAttachment";var BF=()=>Un(t=>t.capabilities.cancel),sg=()=>BF()?c.jsxs(c.Fragment,{children:[c.jsx(za,{running:!1,children:c.jsx(ru,{})}),c.jsx(za,{running:!0,children:c.jsx(og,{})})]}):c.jsx(ru,{});sg.displayName="ComposerAction";var zF=Ee(Et,{variant:"default",className:"aui-composer-send"}),ru=f.forwardRef((e,t)=>{const{strings:{composer:{send:{tooltip:n="Send"}={}}={}}={}}=Re();return c.jsx(p0,{asChild:!0,children:c.jsx(zF,{tooltip:n,...e,ref:t,children:e.children??c.jsx(dD,{})})})});ru.displayName="ComposerSend";var $F=Ee(Et,{variant:"default",className:"aui-composer-cancel"}),og=f.forwardRef((e,t)=>{const{strings:{composer:{cancel:{tooltip:n="Cancel"}={}}={}}={}}=Re();return c.jsx(g0,{asChild:!0,children:c.jsx($F,{tooltip:n,...e,ref:t,children:e.children??c.jsx(dk,{})})})});og.displayName="ComposerCancel";var UF={Root:tg,Input:ng,Action:sg,Send:ru,Cancel:og,AddAttachment:rg,Attachments:Dk},HF=Object.assign(Lk,UF),Fk=()=>c.jsxs(ig,{children:[c.jsxs(Bk,{children:[c.jsx(zk,{}),c.jsx(ag,{})]}),c.jsx(lg,{})]});Fk.displayName="ThreadWelcome";var VF=Ee("div",{className:"aui-thread-welcome-root"}),Bk=Ee("div",{className:"aui-thread-welcome-center"}),ig=f.forwardRef((e,t)=>c.jsx(w0,{children:c.jsx(VF,{...e,ref:t})}));ig.displayName="ThreadWelcomeRoot";var zk=()=>{const{assistantAvatar:e={fallback:"A"}}=Re();return c.jsx(Um,{...e})},WF=Ee("p",{className:"aui-thread-welcome-message"}),ag=f.forwardRef(({message:e,...t},n)=>{const{welcome:{message:r}={},strings:{welcome:{message:s="How can I help you today?"}={}}={}}=Re();return c.jsx(WF,{...t,ref:n,children:e??r??s})});ag.displayName="ThreadWelcomeMessage";var KF=Ee("div",{className:"aui-thread-welcome-suggestions"}),qF=Ee(E0,{className:"aui-thread-welcome-suggestion"}),$k=({suggestion:{text:e,prompt:t}})=>c.jsx(qF,{prompt:t,method:"replace",autoSend:!0,children:c.jsx("span",{className:"aui-thread-welcome-suggestion-text",children:e??t})}),lg=()=>{const e=Un(r=>r.suggestions),{welcome:{suggestions:t}={}}=Re(),n=e.length?e:t;return c.jsx(KF,{children:n==null?void 0:n.map((r,s)=>{const o=`${r.prompt}-${s}`;return c.jsx($k,{suggestion:r},o)})})};lg.displayName="ThreadWelcomeSuggestions";var GF={Root:ig,Center:Bk,Avatar:zk,Message:ag,Suggestions:lg,Suggestion:$k},YF=Object.assign(Fk,GF),Uk=(e=!1)=>{const{userMessage:{allowEdit:t=!0}={}}=Re(),n=Un(r=>r.capabilities.edit);return t&&(!e||n)},Hk=()=>Uk(!0)?c.jsx(cg,{hideWhenRunning:!0,autohide:"not-last",children:c.jsx(ug,{})}):null;Hk.displayName="UserActionBar";var cg=Ee(im,{className:"aui-user-action-bar-root"});cg.displayName="UserActionBarRoot";var ug=f.forwardRef((e,t)=>{const{strings:{userMessage:{edit:{tooltip:n="Edit"}={}}={}}={}}=Re(),r=Uk();return c.jsx(Pj,{disabled:!r,asChild:!0,children:c.jsx(Et,{tooltip:n,...e,ref:t,children:e.children??c.jsx(aD,{})})})});ug.displayName="UserActionBarEdit";var XF={Root:cg,Edit:ug},Vk=Object.assign(Hk,XF),Wk=()=>c.jsxs(dg,{children:[c.jsx(Kk,{}),c.jsxs(Mr,{hasContent:!0,children:[c.jsx(Vk,{}),c.jsx(fg,{})]}),c.jsx(Gu,{})]});Wk.displayName="UserMessage";var dg=Ee(xm,{className:"aui-user-message-root"});dg.displayName="UserMessageRoot";var QF=Ee("div",{className:"aui-user-message-content"}),fg=f.forwardRef(({components:e,...t},n)=>c.jsx(QF,{...t,ref:n,children:c.jsx(bm,{components:{...e,Text:(e==null?void 0:e.Text)??lk.Text}})}));fg.displayName="UserMessageContent";var JF=Ee("div",{className:"aui-user-message-attachments"}),Kk=({components:e})=>c.jsx(Mr,{hasAttachments:!0,children:c.jsx(JF,{children:c.jsx(d0,{components:{...e,Attachment:(e==null?void 0:e.Attachment)??Mk}})})}),ZF={Root:dg,Content:fg,Attachments:Kk},mc=Object.assign(Wk,ZF),qk=()=>c.jsxs(hg,{children:[c.jsx(pg,{}),c.jsxs(mg,{children:[c.jsx(gg,{}),c.jsx(yg,{})]})]});qk.displayName="EditComposer";var hg=Ee(_m,{className:"aui-edit-composer-root"});hg.displayName="EditComposerRoot";var pg=Ee(Cm,{className:"aui-edit-composer-input"});pg.displayName="EditComposerInput";var mg=Ee("div",{className:"aui-edit-composer-footer"});mg.displayName="EditComposerFooter";var gg=f.forwardRef((e,t)=>{const{strings:{editComposer:{cancel:{label:n="Cancel"}={}}={}}={}}=Re();return c.jsx(g0,{asChild:!0,children:c.jsx(qu,{variant:"ghost",...e,ref:t,children:e.children??n})})});gg.displayName="EditComposerCancel";var yg=f.forwardRef((e,t)=>{const{strings:{editComposer:{send:{label:n="Send"}={}}={}}={}}=Re();return c.jsx(p0,{asChild:!0,children:c.jsx(qu,{...e,ref:t,children:e.children??n})})});yg.displayName="EditComposerSend";var eB={Root:hg,Input:pg,Footer:mg,Cancel:gg,Send:yg},tB=Object.assign(qk,eB),nB=e=>{const{components:{Composer:t=HF,ThreadWelcome:n=YF,MessagesFooter:r,...s}={}}=e;return c.jsx(vg,{config:e,children:c.jsxs(xg,{children:[c.jsx(n,{}),c.jsx(bg,{MessagesFooter:r,components:s}),c.jsx(Gk,{}),c.jsxs(wg,{children:[c.jsx(_g,{}),c.jsx(t,{})]})]})})},rB=Ee(x0,{className:"aui-root aui-thread-root"}),vg=f.forwardRef(({config:e,...t},n)=>c.jsx(N0,{config:e,children:c.jsx(rB,{...t,ref:n})}));vg.displayName="ThreadRoot";var xg=Ee(_0,{className:"aui-thread-viewport"});xg.displayName="ThreadViewport";var wg=Ee("div",{className:"aui-thread-viewport-footer"});wg.displayName="ThreadViewportFooter";var bg=({components:e,MessagesFooter:t,unstable_flexGrowDiv:n=!0,...r})=>c.jsxs(c.Fragment,{children:[c.jsx(OL,{components:{...e,UserMessage:(e==null?void 0:e.UserMessage)??mc,AssistantMessage:(e==null?void 0:e.AssistantMessage)??pc,EditComposer:(e==null?void 0:e.EditComposer)??tB},...r}),t&&c.jsx(t,{}),n&&c.jsx(za,{empty:!1,children:c.jsx("div",{style:{flexGrow:1}})})]});bg.displayName="ThreadMessages";var Gk=()=>{const e=Un(t=>t.suggestions);return c.jsx(za,{empty:!1,running:!1,children:c.jsx("div",{className:"aui-thread-followup-suggestions",children:e==null?void 0:e.map((t,n)=>c.jsx(E0,{className:"aui-thread-followup-suggestion",prompt:t.prompt,method:"replace",autoSend:!0,children:t.prompt},n))})})},sB=Ee(Et,{variant:"outline",className:"aui-thread-scroll-to-bottom"}),_g=f.forwardRef((e,t)=>{const{strings:{thread:{scrollToBottom:{tooltip:n="Scroll to bottom"}={}}={}}={}}=Re();return c.jsx(DL,{asChild:!0,children:c.jsx(sB,{tooltip:n,...e,ref:t,children:e.children??c.jsx(HL,{})})})});_g.displayName="ThreadScrollToBottom";var oB={Root:vg,Viewport:xg,Messages:bg,FollowupSuggestions:Gk,ScrollToBottom:_g,ViewportFooter:wg},iB=Object.assign(nB,oB),aB=({copiedDuration:e=3e3}={})=>{const[t,n]=f.useState(!1);return{isCopied:t,copyToClipboard:s=>{s&&navigator.clipboard.writeText(s).then(()=>{n(!0),setTimeout(()=>n(!1),e)})}}},lB=({language:e,code:t})=>{const{strings:{code:{header:{copy:{tooltip:n="Copy"}={}}={}}={}}={}}=Re(),{isCopied:r,copyToClipboard:s}=aB(),o=()=>{!t||r||s(t)};return c.jsxs("div",{className:"aui-code-header-root",children:[c.jsx("span",{className:"aui-code-header-language",children:e}),c.jsxs(Et,{tooltip:n,onClick:o,children:[!r&&c.jsx(P0,{}),r&&c.jsx(I0,{})]})]})};function cB(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const uB=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,dB=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,fB={};function Lx(e,t){return(fB.jsx?dB:uB).test(e)}const hB=/[ \t\n\f\r]/g;function pB(e){return typeof e=="object"?e.type==="text"?Dx(e.value):!1:Dx(e)}function Dx(e){return e.replace(hB,"")===""}class rl{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}rl.prototype.normal={};rl.prototype.property={};rl.prototype.space=void 0;function Yk(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new rl(n,r,t)}function Ih(e){return e.toLowerCase()}class Wt{constructor(t,n){this.attribute=n,this.property=t}}Wt.prototype.attribute="";Wt.prototype.booleanish=!1;Wt.prototype.boolean=!1;Wt.prototype.commaOrSpaceSeparated=!1;Wt.prototype.commaSeparated=!1;Wt.prototype.defined=!1;Wt.prototype.mustUseProperty=!1;Wt.prototype.number=!1;Wt.prototype.overloadedBoolean=!1;Wt.prototype.property="";Wt.prototype.spaceSeparated=!1;Wt.prototype.space=void 0;let mB=0;const de=io(),et=io(),Ph=io(),z=io(),Le=io(),Xo=io(),Qt=io();function io(){return 2**++mB}const Ah=Object.freeze(Object.defineProperty({__proto__:null,boolean:de,booleanish:et,commaOrSpaceSeparated:Qt,commaSeparated:Xo,number:z,overloadedBoolean:Ph,spaceSeparated:Le},Symbol.toStringTag,{value:"Module"})),af=Object.keys(Ah);class Sg extends Wt{constructor(t,n,r,s){let o=-1;if(super(t,n),Fx(this,"space",s),typeof r=="number")for(;++o<af.length;){const i=af[o];Fx(this,af[o],(r&Ah[i])===Ah[i])}}}Sg.prototype.defined=!0;function Fx(e,t,n){n&&(e[t]=n)}function bi(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const o=new Sg(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[Ih(r)]=r,n[Ih(o.attribute)]=r}return new rl(t,n,e.space)}const Xk=bi({properties:{ariaActiveDescendant:null,ariaAtomic:et,ariaAutoComplete:null,ariaBusy:et,ariaChecked:et,ariaColCount:z,ariaColIndex:z,ariaColSpan:z,ariaControls:Le,ariaCurrent:null,ariaDescribedBy:Le,ariaDetails:null,ariaDisabled:et,ariaDropEffect:Le,ariaErrorMessage:null,ariaExpanded:et,ariaFlowTo:Le,ariaGrabbed:et,ariaHasPopup:null,ariaHidden:et,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Le,ariaLevel:z,ariaLive:null,ariaModal:et,ariaMultiLine:et,ariaMultiSelectable:et,ariaOrientation:null,ariaOwns:Le,ariaPlaceholder:null,ariaPosInSet:z,ariaPressed:et,ariaReadOnly:et,ariaRelevant:null,ariaRequired:et,ariaRoleDescription:Le,ariaRowCount:z,ariaRowIndex:z,ariaRowSpan:z,ariaSelected:et,ariaSetSize:z,ariaSort:null,ariaValueMax:z,ariaValueMin:z,ariaValueNow:z,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Qk(e,t){return t in e?e[t]:t}function Jk(e,t){return Qk(e,t.toLowerCase())}const gB=bi({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Xo,acceptCharset:Le,accessKey:Le,action:null,allow:null,allowFullScreen:de,allowPaymentRequest:de,allowUserMedia:de,alt:null,as:null,async:de,autoCapitalize:null,autoComplete:Le,autoFocus:de,autoPlay:de,blocking:Le,capture:null,charSet:null,checked:de,cite:null,className:Le,cols:z,colSpan:null,content:null,contentEditable:et,controls:de,controlsList:Le,coords:z|Xo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:de,defer:de,dir:null,dirName:null,disabled:de,download:Ph,draggable:et,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:de,formTarget:null,headers:Le,height:z,hidden:Ph,high:z,href:null,hrefLang:null,htmlFor:Le,httpEquiv:Le,id:null,imageSizes:null,imageSrcSet:null,inert:de,inputMode:null,integrity:null,is:null,isMap:de,itemId:null,itemProp:Le,itemRef:Le,itemScope:de,itemType:Le,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:de,low:z,manifest:null,max:null,maxLength:z,media:null,method:null,min:null,minLength:z,multiple:de,muted:de,name:null,nonce:null,noModule:de,noValidate:de,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:de,optimum:z,pattern:null,ping:Le,placeholder:null,playsInline:de,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:de,referrerPolicy:null,rel:Le,required:de,reversed:de,rows:z,rowSpan:z,sandbox:Le,scope:null,scoped:de,seamless:de,selected:de,shadowRootClonable:de,shadowRootDelegatesFocus:de,shadowRootMode:null,shape:null,size:z,sizes:null,slot:null,span:z,spellCheck:et,src:null,srcDoc:null,srcLang:null,srcSet:null,start:z,step:null,style:null,tabIndex:z,target:null,title:null,translate:null,type:null,typeMustMatch:de,useMap:null,value:et,width:z,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Le,axis:null,background:null,bgColor:null,border:z,borderColor:null,bottomMargin:z,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:de,declare:de,event:null,face:null,frame:null,frameBorder:null,hSpace:z,leftMargin:z,link:null,longDesc:null,lowSrc:null,marginHeight:z,marginWidth:z,noResize:de,noHref:de,noShade:de,noWrap:de,object:null,profile:null,prompt:null,rev:null,rightMargin:z,rules:null,scheme:null,scrolling:et,standby:null,summary:null,text:null,topMargin:z,valueType:null,version:null,vAlign:null,vLink:null,vSpace:z,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:de,disableRemotePlayback:de,prefix:null,property:null,results:z,security:null,unselectable:null},space:"html",transform:Jk}),yB=bi({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Qt,accentHeight:z,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:z,amplitude:z,arabicForm:null,ascent:z,attributeName:null,attributeType:null,azimuth:z,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:z,by:null,calcMode:null,capHeight:z,className:Le,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:z,diffuseConstant:z,direction:null,display:null,dur:null,divisor:z,dominantBaseline:null,download:de,dx:null,dy:null,edgeMode:null,editable:null,elevation:z,enableBackground:null,end:null,event:null,exponent:z,externalResourcesRequired:null,fill:null,fillOpacity:z,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Xo,g2:Xo,glyphName:Xo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:z,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:z,horizOriginX:z,horizOriginY:z,id:null,ideographic:z,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:z,k:z,k1:z,k2:z,k3:z,k4:z,kernelMatrix:Qt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:z,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:z,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:z,overlineThickness:z,paintOrder:null,panose1:null,path:null,pathLength:z,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Le,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:z,pointsAtY:z,pointsAtZ:z,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Qt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Qt,rev:Qt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Qt,requiredFeatures:Qt,requiredFonts:Qt,requiredFormats:Qt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:z,specularExponent:z,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:z,strikethroughThickness:z,string:null,stroke:null,strokeDashArray:Qt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:z,strokeOpacity:z,strokeWidth:null,style:null,surfaceScale:z,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Qt,tabIndex:z,tableValues:null,target:null,targetX:z,targetY:z,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Qt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:z,underlineThickness:z,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:z,values:null,vAlphabetic:z,vMathematical:z,vectorEffect:null,vHanging:z,vIdeographic:z,version:null,vertAdvY:z,vertOriginX:z,vertOriginY:z,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:z,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Qk}),Zk=bi({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),e1=bi({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Jk}),t1=bi({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),vB={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},xB=/[A-Z]/g,Bx=/-[a-z]/g,wB=/^data[-\w.:]+$/i;function bB(e,t){const n=Ih(t);let r=t,s=Wt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&wB.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Bx,SB);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Bx.test(o)){let i=o.replace(xB,_B);i.charAt(0)!=="-"&&(i="-"+i),t="data"+i}}s=Sg}return new s(r,t)}function _B(e){return"-"+e.toLowerCase()}function SB(e){return e.charAt(1).toUpperCase()}const CB=Yk([Xk,gB,Zk,e1,t1],"html"),Cg=Yk([Xk,yB,Zk,e1,t1],"svg");function kB(e){return e.join(" ").trim()}var kg={},zx=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,EB=/\n/g,TB=/^\s*/,NB=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,RB=/^:\s*/,IB=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,PB=/^[;\s]*/,AB=/^\s+|\s+$/g,jB=`
`,$x="/",Ux="*",Bs="",MB="comment",OB="declaration";function LB(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function s(w){var y=w.match(EB);y&&(n+=y.length);var b=w.lastIndexOf(jB);r=~b?w.length-b:r+w.length}function o(){var w={line:n,column:r};return function(y){return y.position=new i(w),u(),y}}function i(w){this.start=w,this.end={line:n,column:r},this.source=t.source}i.prototype.content=e;function a(w){var y=new Error(t.source+":"+n+":"+r+": "+w);if(y.reason=w,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function l(w){var y=w.exec(e);if(y){var b=y[0];return s(b),e=e.slice(b.length),y}}function u(){l(TB)}function d(w){var y;for(w=w||[];y=h();)y!==!1&&w.push(y);return w}function h(){var w=o();if(!($x!=e.charAt(0)||Ux!=e.charAt(1))){for(var y=2;Bs!=e.charAt(y)&&(Ux!=e.charAt(y)||$x!=e.charAt(y+1));)++y;if(y+=2,Bs===e.charAt(y-1))return a("End of comment missing");var b=e.slice(2,y-2);return r+=2,s(b),e=e.slice(y),r+=2,w({type:MB,comment:b})}}function p(){var w=o(),y=l(NB);if(y){if(h(),!l(RB))return a("property missing ':'");var b=l(IB),g=w({type:OB,property:Hx(y[0].replace(zx,Bs)),value:b?Hx(b[0].replace(zx,Bs)):Bs});return l(PB),g}}function m(){var w=[];d(w);for(var y;y=p();)y!==!1&&(w.push(y),d(w));return w}return u(),m()}function Hx(e){return e?e.replace(AB,Bs):Bs}var DB=LB,FB=wc&&wc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kg,"__esModule",{value:!0});kg.default=zB;const BB=FB(DB);function zB(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,BB.default)(e),s=typeof t=="function";return r.forEach(o=>{if(o.type!=="declaration")return;const{property:i,value:a}=o;s?t(i,a,o):a&&(n=n||{},n[i]=a)}),n}var Xu={};Object.defineProperty(Xu,"__esModule",{value:!0});Xu.camelCase=void 0;var $B=/^--[a-zA-Z0-9_-]+$/,UB=/-([a-z])/g,HB=/^[^-]+$/,VB=/^-(webkit|moz|ms|o|khtml)-/,WB=/^-(ms)-/,KB=function(e){return!e||HB.test(e)||$B.test(e)},qB=function(e,t){return t.toUpperCase()},Vx=function(e,t){return"".concat(t,"-")},GB=function(e,t){return t===void 0&&(t={}),KB(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(WB,Vx):e=e.replace(VB,Vx),e.replace(UB,qB))};Xu.camelCase=GB;var YB=wc&&wc.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},XB=YB(kg),QB=Xu;function jh(e,t){var n={};return!e||typeof e!="string"||(0,XB.default)(e,function(r,s){r&&s&&(n[(0,QB.camelCase)(r,t)]=s)}),n}jh.default=jh;var JB=jh;const ZB=hi(JB),n1=r1("end"),Eg=r1("start");function r1(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function ez(e){const t=Eg(e),n=n1(e);if(t&&n)return{start:t,end:n}}function ha(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Wx(e.position):"start"in e||"end"in e?Wx(e):"line"in e||"column"in e?Mh(e):""}function Mh(e){return Kx(e&&e.line)+":"+Kx(e&&e.column)}function Wx(e){return Mh(e&&e.start)+"-"+Mh(e&&e.end)}function Kx(e){return e&&typeof e=="number"?e:1}class Tt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",o={},i=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?s=t:!o.cause&&t&&(i=!0,s=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=a?a.line:void 0,this.name=ha(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=i&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Tt.prototype.file="";Tt.prototype.name="";Tt.prototype.reason="";Tt.prototype.message="";Tt.prototype.stack="";Tt.prototype.column=void 0;Tt.prototype.line=void 0;Tt.prototype.ancestors=void 0;Tt.prototype.cause=void 0;Tt.prototype.fatal=void 0;Tt.prototype.place=void 0;Tt.prototype.ruleId=void 0;Tt.prototype.source=void 0;const Tg={}.hasOwnProperty,tz=new Map,nz=/[A-Z]/g,rz=new Set(["table","tbody","thead","tfoot","tr"]),sz=new Set(["td","th"]),s1="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function oz(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=hz(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=fz(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Cg:CB,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=o1(s,e,void 0);return o&&typeof o!="string"?o:s.create(e,s.Fragment,{children:o||void 0},void 0)}function o1(e,t,n){if(t.type==="element")return iz(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return az(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return cz(e,t,n);if(t.type==="mdxjsEsm")return lz(e,t);if(t.type==="root")return uz(e,t,n);if(t.type==="text")return dz(e,t)}function iz(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=Cg,e.schema=s),e.ancestors.push(t);const o=a1(e,t.tagName,!1),i=pz(e,t);let a=Rg(e,t);return rz.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!pB(l):!0})),i1(e,i,o,t),Ng(i,a),e.ancestors.pop(),e.schema=r,e.create(t,o,i,n)}function az(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Ua(e,t.position)}function lz(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ua(e,t.position)}function cz(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=Cg,e.schema=s),e.ancestors.push(t);const o=t.name===null?e.Fragment:a1(e,t.name,!0),i=mz(e,t),a=Rg(e,t);return i1(e,i,o,t),Ng(i,a),e.ancestors.pop(),e.schema=r,e.create(t,o,i,n)}function uz(e,t,n){const r={};return Ng(r,Rg(e,t)),e.create(t,e.Fragment,r,n)}function dz(e,t){return t.value}function i1(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Ng(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function fz(e,t,n){return r;function r(s,o,i,a){const u=Array.isArray(i.children)?n:t;return a?u(o,i,a):u(o,i)}}function hz(e,t){return n;function n(r,s,o,i){const a=Array.isArray(o.children),l=Eg(r);return t(s,o,i,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function pz(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&Tg.call(t.properties,s)){const o=gz(e,s,t.properties[s]);if(o){const[i,a]=o;e.tableCellAlignToStyle&&i==="align"&&typeof a=="string"&&sz.has(t.tagName)?r=a:n[i]=a}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function mz(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const i=o.expression;i.type;const a=i.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Ua(e,t.position);else{const s=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,o=e.evaluater.evaluateExpression(a.expression)}else Ua(e,t.position);else o=r.value===null?!0:r.value;n[s]=o}return n}function Rg(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:tz;for(;++r<t.children.length;){const o=t.children[r];let i;if(e.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const u=s.get(l)||0;i=l+"-"+u,s.set(l,u+1)}}const a=o1(e,o,i);a!==void 0&&n.push(a)}return n}function gz(e,t,n){const r=bB(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?cB(n):kB(n)),r.property==="style"){let s=typeof n=="object"?n:yz(e,String(n));return e.stylePropertyNameCase==="css"&&(s=vz(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?vB[r.property]||r.property:r.attribute,n]}}function yz(e,t){try{return ZB(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,s=new Tt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=s1+"#cannot-parse-style-attribute",s}}function a1(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let o=-1,i;for(;++o<s.length;){const a=Lx(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};i=i?{type:"MemberExpression",object:i,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}r=i}else r=Lx(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return Tg.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ua(e)}function Ua(e,t){const n=new Tt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=s1+"#cannot-handle-mdx-estrees-without-createevaluater",n}function vz(e){const t={};let n;for(n in e)Tg.call(e,n)&&(t[xz(n)]=e[n]);return t}function xz(e){let t=e.replace(nz,wz);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function wz(e){return"-"+e.toLowerCase()}const lf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},bz={};function _z(e,t){const n=bz,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return l1(e,r,s)}function l1(e,t,n){if(Sz(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return qx(e.children,t,n)}return Array.isArray(e)?qx(e,t,n):""}function qx(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=l1(e[s],t,n);return r.join("")}function Sz(e){return!!(e&&typeof e=="object")}const Gx=document.createElement("i");function Ig(e){const t="&"+e+";";Gx.innerHTML=t;const n=Gx.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function lr(e,t,n,r){const s=e.length;let o=0,i;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);o<r.length;)i=r.slice(o,o+1e4),i.unshift(t,0),e.splice(...i),o+=1e4,t+=1e4}function gn(e,t){return e.length>0?(lr(e,e.length,0,t),e):t}const Yx={}.hasOwnProperty;function Cz(e){const t={};let n=-1;for(;++n<e.length;)kz(t,e[n]);return t}function kz(e,t){let n;for(n in t){const s=(Yx.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let i;if(o)for(i in o){Yx.call(s,i)||(s[i]=[]);const a=o[i];Ez(s[i],Array.isArray(a)?a:a?[a]:[])}}}function Ez(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);lr(e,0,0,r)}function c1(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Qo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const tr=Es(/[A-Za-z]/),nn=Es(/[\dA-Za-z]/),Tz=Es(/[#-'*+\--9=?A-Z^-~]/);function Oh(e){return e!==null&&(e<32||e===127)}const Lh=Es(/\d/),Nz=Es(/[\dA-Fa-f]/),Rz=Es(/[!-/:-@[-`{-~]/);function le(e){return e!==null&&e<-2}function Vt(e){return e!==null&&(e<0||e===32)}function Ie(e){return e===-2||e===-1||e===32}const Iz=Es(new RegExp("\\p{P}|\\p{S}","u")),Pz=Es(/\s/);function Es(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function _i(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const o=e.charCodeAt(n);let i="";if(o===37&&nn(e.charCodeAt(n+1))&&nn(e.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(i=String.fromCharCode(o));else if(o>55295&&o<57344){const a=e.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(i=String.fromCharCode(o,a),s=1):i=""}else i=String.fromCharCode(o);i&&(t.push(e.slice(r,n),encodeURIComponent(i)),r=n+s+1,i=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function Fe(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let o=0;return i;function i(l){return Ie(l)?(e.enter(n),a(l)):t(l)}function a(l){return Ie(l)&&o++<s?(e.consume(l),a):(e.exit(n),t(l))}}const Az={tokenize:jz};function jz(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Fe(e,t,"linePrefix")}function s(a){return e.enter("paragraph"),o(a)}function o(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,i(a)}function i(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return le(a)?(e.consume(a),e.exit("chunkText"),o):(e.consume(a),i)}}const Mz={tokenize:Oz},Xx={tokenize:Lz};function Oz(e){const t=this,n=[];let r=0,s,o,i;return a;function a(x){if(r<n.length){const C=n[r];return t.containerState=C[1],e.attempt(C[0].continuation,l,u)(x)}return u(x)}function l(x){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&v();const C=t.events.length;let R=C,k;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){k=t.events[R][1].end;break}g(r);let N=C;for(;N<t.events.length;)t.events[N][1].end={...k},N++;return lr(t.events,R+1,0,t.events.slice(C)),t.events.length=N,u(x)}return a(x)}function u(x){if(r===n.length){if(!s)return p(x);if(s.currentConstruct&&s.currentConstruct.concrete)return w(x);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Xx,d,h)(x)}function d(x){return s&&v(),g(r),p(x)}function h(x){return t.parser.lazy[t.now().line]=r!==n.length,i=t.now().offset,w(x)}function p(x){return t.containerState={},e.attempt(Xx,m,w)(x)}function m(x){return r++,n.push([t.currentConstruct,t.containerState]),p(x)}function w(x){if(x===null){s&&v(),g(0),e.consume(x);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),y(x)}function y(x){if(x===null){b(e.exit("chunkFlow"),!0),g(0),e.consume(x);return}return le(x)?(e.consume(x),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(x),y)}function b(x,C){const R=t.sliceStream(x);if(C&&R.push(null),x.previous=o,o&&(o.next=x),o=x,s.defineSkip(x.start),s.write(R),t.parser.lazy[x.start.line]){let k=s.events.length;for(;k--;)if(s.events[k][1].start.offset<i&&(!s.events[k][1].end||s.events[k][1].end.offset>i))return;const N=t.events.length;let I=N,M,A;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(M){A=t.events[I][1].end;break}M=!0}for(g(r),k=N;k<t.events.length;)t.events[k][1].end={...A},k++;lr(t.events,I+1,0,t.events.slice(N)),t.events.length=k}}function g(x){let C=n.length;for(;C-- >x;){const R=n[C];t.containerState=R[1],R[0].exit.call(t,e)}n.length=x}function v(){s.write([null]),o=void 0,s=void 0,t.containerState._closeFlow=void 0}}function Lz(e,t,n){return Fe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Qx(e){if(e===null||Vt(e)||Pz(e))return 1;if(Iz(e))return 2}function Pg(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const o=e[s].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const Dh={name:"attention",resolveAll:Dz,tokenize:Fz};function Dz(e,t){let n=-1,r,s,o,i,a,l,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},p={...e[n][1].start};Jx(h,-l),Jx(p,l),i={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},o={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:l>1?"strong":"emphasis",start:{...i.start},end:{...a.end}},e[r][1].end={...i.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=gn(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=gn(u,[["enter",s,t],["enter",i,t],["exit",i,t],["enter",o,t]]),u=gn(u,Pg(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=gn(u,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=gn(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,lr(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Fz(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=Qx(r);let o;return i;function i(l){return o=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===o)return e.consume(l),a;const u=e.exit("attentionSequence"),d=Qx(l),h=!d||d===2&&s||n.includes(l),p=!s||s===2&&d||n.includes(r);return u._open=!!(o===42?h:h&&(s||!p)),u._close=!!(o===42?p:p&&(d||!h)),t(l)}}function Jx(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Bz={name:"autolink",tokenize:zz};function zz(e,t,n){let r=0;return s;function s(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(m){return tr(m)?(e.consume(m),i):m===64?n(m):u(m)}function i(m){return m===43||m===45||m===46||nn(m)?(r=1,a(m)):u(m)}function a(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||nn(m))&&r++<32?(e.consume(m),a):(r=0,u(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Oh(m)?n(m):(e.consume(m),l)}function u(m){return m===64?(e.consume(m),d):Tz(m)?(e.consume(m),u):n(m)}function d(m){return nn(m)?h(m):n(m)}function h(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||nn(m))&&r++<63){const w=m===45?p:h;return e.consume(m),w}return n(m)}}const Qu={partial:!0,tokenize:$z};function $z(e,t,n){return r;function r(o){return Ie(o)?Fe(e,s,"linePrefix")(o):s(o)}function s(o){return o===null||le(o)?t(o):n(o)}}const u1={continuation:{tokenize:Hz},exit:Vz,name:"blockQuote",tokenize:Uz};function Uz(e,t,n){const r=this;return s;function s(i){if(i===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(i),e.exit("blockQuoteMarker"),o}return n(i)}function o(i){return Ie(i)?(e.enter("blockQuotePrefixWhitespace"),e.consume(i),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(i))}}function Hz(e,t,n){const r=this;return s;function s(i){return Ie(i)?Fe(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i):o(i)}function o(i){return e.attempt(u1,t,n)(i)}}function Vz(e){e.exit("blockQuote")}const d1={name:"characterEscape",tokenize:Wz};function Wz(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),s}function s(o){return Rz(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const f1={name:"characterReference",tokenize:Kz};function Kz(e,t,n){const r=this;let s=0,o,i;return a;function a(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,i=nn,d(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,i=Nz,d):(e.enter("characterReferenceValue"),o=7,i=Lh,d(h))}function d(h){if(h===59&&s){const p=e.exit("characterReferenceValue");return i===nn&&!Ig(r.sliceSerialize(p))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return i(h)&&s++<o?(e.consume(h),d):n(h)}}const Zx={partial:!0,tokenize:Gz},ew={concrete:!0,name:"codeFenced",tokenize:qz};function qz(e,t,n){const r=this,s={partial:!0,tokenize:R};let o=0,i=0,a;return l;function l(k){return u(k)}function u(k){const N=r.events[r.events.length-1];return o=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,a=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(k)}function d(k){return k===a?(i++,e.consume(k),d):i<3?n(k):(e.exit("codeFencedFenceSequence"),Ie(k)?Fe(e,h,"whitespace")(k):h(k))}function h(k){return k===null||le(k)?(e.exit("codeFencedFence"),r.interrupt?t(k):e.check(Zx,y,C)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(k))}function p(k){return k===null||le(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(k)):Ie(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Fe(e,m,"whitespace")(k)):k===96&&k===a?n(k):(e.consume(k),p)}function m(k){return k===null||le(k)?h(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(k))}function w(k){return k===null||le(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(k)):k===96&&k===a?n(k):(e.consume(k),w)}function y(k){return e.attempt(s,C,b)(k)}function b(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),g}function g(k){return o>0&&Ie(k)?Fe(e,v,"linePrefix",o+1)(k):v(k)}function v(k){return k===null||le(k)?e.check(Zx,y,C)(k):(e.enter("codeFlowValue"),x(k))}function x(k){return k===null||le(k)?(e.exit("codeFlowValue"),v(k)):(e.consume(k),x)}function C(k){return e.exit("codeFenced"),t(k)}function R(k,N,I){let M=0;return A;function A(q){return k.enter("lineEnding"),k.consume(q),k.exit("lineEnding"),L}function L(q){return k.enter("codeFencedFence"),Ie(q)?Fe(k,E,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):E(q)}function E(q){return q===a?(k.enter("codeFencedFenceSequence"),W(q)):I(q)}function W(q){return q===a?(M++,k.consume(q),W):M>=i?(k.exit("codeFencedFenceSequence"),Ie(q)?Fe(k,U,"whitespace")(q):U(q)):I(q)}function U(q){return q===null||le(q)?(k.exit("codeFencedFence"),N(q)):I(q)}}}function Gz(e,t,n){const r=this;return s;function s(i){return i===null?n(i):(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),o)}function o(i){return r.parser.lazy[r.now().line]?n(i):t(i)}}const cf={name:"codeIndented",tokenize:Xz},Yz={partial:!0,tokenize:Qz};function Xz(e,t,n){const r=this;return s;function s(u){return e.enter("codeIndented"),Fe(e,o,"linePrefix",5)(u)}function o(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?i(u):n(u)}function i(u){return u===null?l(u):le(u)?e.attempt(Yz,i,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||le(u)?(e.exit("codeFlowValue"),i(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function Qz(e,t,n){const r=this;return s;function s(i){return r.parser.lazy[r.now().line]?n(i):le(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),s):Fe(e,o,"linePrefix",5)(i)}function o(i){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):le(i)?s(i):n(i)}}const Jz={name:"codeText",previous:e3,resolve:Zz,tokenize:t3};function Zz(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function e3(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function t3(e,t,n){let r=0,s,o;return i;function i(h){return e.enter("codeText"),e.enter("codeTextSequence"),a(h)}function a(h){return h===96?(e.consume(h),r++,a):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(o=e.enter("codeTextSequence"),s=0,d(h)):le(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||le(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),u)}function d(h){return h===96?(e.consume(h),s++,d):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(o.type="codeTextData",u(h))}}class n3{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&Hi(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Hi(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Hi(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Hi(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Hi(this.left,n.reverse())}}}function Hi(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function h1(e){const t={};let n=-1,r,s,o,i,a,l,u;const d=new n3(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,r3(d,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,s=void 0;o--;)if(i=d.get(o),i[1].type==="lineEnding"||i[1].type==="lineEndingBlank")i[0]==="enter"&&(s&&(d.get(s)[1].type="lineEndingBlank"),i[1].type="lineEnding",s=o);else if(!(i[1].type==="linePrefix"||i[1].type==="listItemIndent"))break;s&&(r[1].end={...d.get(s)[1].start},a=d.slice(s,n),a.unshift(r),d.splice(s,n-s+1,a))}}return lr(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function r3(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const o=[];let i=n._tokenizer;i||(i=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(i._contentTypeTextTrailing=!0));const a=i.events,l=[],u={};let d,h,p=-1,m=n,w=0,y=0;const b=[y];for(;m;){for(;e.get(++s)[1]!==m;);o.push(s),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),h&&i.defineSkip(m.start),m._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=!0),i.write(d),m._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(y=p+1,b.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(i.events=[],m?(m._tokenizer=void 0,m.previous=void 0):b.pop(),p=b.length;p--;){const g=a.slice(b[p],b[p+1]),v=o.pop();l.push([v,v+g.length-1]),e.splice(v,2,g)}for(l.reverse(),p=-1;++p<l.length;)u[w+l[p][0]]=w+l[p][1],w+=l[p][1]-l[p][0]-1;return u}const s3={resolve:i3,tokenize:a3},o3={partial:!0,tokenize:l3};function i3(e){return h1(e),e}function a3(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(a)}function s(a){return a===null?o(a):le(a)?e.check(o3,i,o)(a):(e.consume(a),s)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function i(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function l3(e,t,n){const r=this;return s;function s(i){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),Fe(e,o,"linePrefix")}function o(i){if(i===null||le(i))return n(i);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}}function p1(e,t,n,r,s,o,i,a,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return h;function h(g){return g===60?(e.enter(r),e.enter(s),e.enter(o),e.consume(g),e.exit(o),p):g===null||g===32||g===41||Oh(g)?n(g):(e.enter(r),e.enter(i),e.enter(a),e.enter("chunkString",{contentType:"string"}),y(g))}function p(g){return g===62?(e.enter(o),e.consume(g),e.exit(o),e.exit(s),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===62?(e.exit("chunkString"),e.exit(a),p(g)):g===null||g===60||le(g)?n(g):(e.consume(g),g===92?w:m)}function w(g){return g===60||g===62||g===92?(e.consume(g),m):m(g)}function y(g){return!d&&(g===null||g===41||Vt(g))?(e.exit("chunkString"),e.exit(a),e.exit(i),e.exit(r),t(g)):d<u&&g===40?(e.consume(g),d++,y):g===41?(e.consume(g),d--,y):g===null||g===32||g===40||Oh(g)?n(g):(e.consume(g),g===92?b:y)}function b(g){return g===40||g===41||g===92?(e.consume(g),y):y(g)}}function m1(e,t,n,r,s,o){const i=this;let a=0,l;return u;function u(m){return e.enter(r),e.enter(s),e.consume(m),e.exit(s),e.enter(o),d}function d(m){return a>999||m===null||m===91||m===93&&!l||m===94&&!a&&"_hiddenFootnoteSupport"in i.parser.constructs?n(m):m===93?(e.exit(o),e.enter(s),e.consume(m),e.exit(s),e.exit(r),t):le(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||le(m)||a++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!Ie(m)),m===92?p:h)}function p(m){return m===91||m===92||m===93?(e.consume(m),a++,h):h(m)}}function g1(e,t,n,r,s,o){let i;return a;function a(p){return p===34||p===39||p===40?(e.enter(r),e.enter(s),e.consume(p),e.exit(s),i=p===40?41:p,l):n(p)}function l(p){return p===i?(e.enter(s),e.consume(p),e.exit(s),e.exit(r),t):(e.enter(o),u(p))}function u(p){return p===i?(e.exit(o),l(i)):p===null?n(p):le(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),Fe(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===i||p===null||le(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?h:d)}function h(p){return p===i||p===92?(e.consume(p),d):d(p)}}function pa(e,t){let n;return r;function r(s){return le(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):Ie(s)?Fe(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const c3={name:"definition",tokenize:d3},u3={partial:!0,tokenize:f3};function d3(e,t,n){const r=this;let s;return o;function o(m){return e.enter("definition"),i(m)}function i(m){return m1.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return s=Qo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Vt(m)?pa(e,u)(m):u(m)}function u(m){return p1(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(u3,h,h)(m)}function h(m){return Ie(m)?Fe(e,p,"whitespace")(m):p(m)}function p(m){return m===null||le(m)?(e.exit("definition"),r.parser.defined.push(s),t(m)):n(m)}}function f3(e,t,n){return r;function r(a){return Vt(a)?pa(e,s)(a):n(a)}function s(a){return g1(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return Ie(a)?Fe(e,i,"whitespace")(a):i(a)}function i(a){return a===null||le(a)?t(a):n(a)}}const h3={name:"hardBreakEscape",tokenize:p3};function p3(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),s}function s(o){return le(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const m3={name:"headingAtx",resolve:g3,tokenize:y3};function g3(e,t){let n=e.length-2,r=3,s,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},lr(e,r,n-r+1,[["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t]])),e}function y3(e,t,n){let r=0;return s;function s(d){return e.enter("atxHeading"),o(d)}function o(d){return e.enter("atxHeadingSequence"),i(d)}function i(d){return d===35&&r++<6?(e.consume(d),i):d===null||Vt(d)?(e.exit("atxHeadingSequence"),a(d)):n(d)}function a(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||le(d)?(e.exit("atxHeading"),t(d)):Ie(d)?Fe(e,a,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),a(d))}function u(d){return d===null||d===35||Vt(d)?(e.exit("atxHeadingText"),a(d)):(e.consume(d),u)}}const v3=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],tw=["pre","script","style","textarea"],x3={concrete:!0,name:"htmlFlow",resolveTo:_3,tokenize:S3},w3={partial:!0,tokenize:k3},b3={partial:!0,tokenize:C3};function _3(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function S3(e,t,n){const r=this;let s,o,i,a,l;return u;function u(T){return d(T)}function d(T){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(T),h}function h(T){return T===33?(e.consume(T),p):T===47?(e.consume(T),o=!0,y):T===63?(e.consume(T),s=3,r.interrupt?t:S):tr(T)?(e.consume(T),i=String.fromCharCode(T),b):n(T)}function p(T){return T===45?(e.consume(T),s=2,m):T===91?(e.consume(T),s=5,a=0,w):tr(T)?(e.consume(T),s=4,r.interrupt?t:S):n(T)}function m(T){return T===45?(e.consume(T),r.interrupt?t:S):n(T)}function w(T){const Pe="CDATA[";return T===Pe.charCodeAt(a++)?(e.consume(T),a===Pe.length?r.interrupt?t:E:w):n(T)}function y(T){return tr(T)?(e.consume(T),i=String.fromCharCode(T),b):n(T)}function b(T){if(T===null||T===47||T===62||Vt(T)){const Pe=T===47,Xe=i.toLowerCase();return!Pe&&!o&&tw.includes(Xe)?(s=1,r.interrupt?t(T):E(T)):v3.includes(i.toLowerCase())?(s=6,Pe?(e.consume(T),g):r.interrupt?t(T):E(T)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(T):o?v(T):x(T))}return T===45||nn(T)?(e.consume(T),i+=String.fromCharCode(T),b):n(T)}function g(T){return T===62?(e.consume(T),r.interrupt?t:E):n(T)}function v(T){return Ie(T)?(e.consume(T),v):A(T)}function x(T){return T===47?(e.consume(T),A):T===58||T===95||tr(T)?(e.consume(T),C):Ie(T)?(e.consume(T),x):A(T)}function C(T){return T===45||T===46||T===58||T===95||nn(T)?(e.consume(T),C):R(T)}function R(T){return T===61?(e.consume(T),k):Ie(T)?(e.consume(T),R):x(T)}function k(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(e.consume(T),l=T,N):Ie(T)?(e.consume(T),k):I(T)}function N(T){return T===l?(e.consume(T),l=null,M):T===null||le(T)?n(T):(e.consume(T),N)}function I(T){return T===null||T===34||T===39||T===47||T===60||T===61||T===62||T===96||Vt(T)?R(T):(e.consume(T),I)}function M(T){return T===47||T===62||Ie(T)?x(T):n(T)}function A(T){return T===62?(e.consume(T),L):n(T)}function L(T){return T===null||le(T)?E(T):Ie(T)?(e.consume(T),L):n(T)}function E(T){return T===45&&s===2?(e.consume(T),K):T===60&&s===1?(e.consume(T),Q):T===62&&s===4?(e.consume(T),oe):T===63&&s===3?(e.consume(T),S):T===93&&s===5?(e.consume(T),$):le(T)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(w3,me,W)(T)):T===null||le(T)?(e.exit("htmlFlowData"),W(T)):(e.consume(T),E)}function W(T){return e.check(b3,U,me)(T)}function U(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),q}function q(T){return T===null||le(T)?W(T):(e.enter("htmlFlowData"),E(T))}function K(T){return T===45?(e.consume(T),S):E(T)}function Q(T){return T===47?(e.consume(T),i="",j):E(T)}function j(T){if(T===62){const Pe=i.toLowerCase();return tw.includes(Pe)?(e.consume(T),oe):E(T)}return tr(T)&&i.length<8?(e.consume(T),i+=String.fromCharCode(T),j):E(T)}function $(T){return T===93?(e.consume(T),S):E(T)}function S(T){return T===62?(e.consume(T),oe):T===45&&s===2?(e.consume(T),S):E(T)}function oe(T){return T===null||le(T)?(e.exit("htmlFlowData"),me(T)):(e.consume(T),oe)}function me(T){return e.exit("htmlFlow"),t(T)}}function C3(e,t,n){const r=this;return s;function s(i){return le(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),o):n(i)}function o(i){return r.parser.lazy[r.now().line]?n(i):t(i)}}function k3(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(Qu,t,n)}}const E3={name:"htmlText",tokenize:T3};function T3(e,t,n){const r=this;let s,o,i;return a;function a(S){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(S),l}function l(S){return S===33?(e.consume(S),u):S===47?(e.consume(S),R):S===63?(e.consume(S),x):tr(S)?(e.consume(S),I):n(S)}function u(S){return S===45?(e.consume(S),d):S===91?(e.consume(S),o=0,w):tr(S)?(e.consume(S),v):n(S)}function d(S){return S===45?(e.consume(S),m):n(S)}function h(S){return S===null?n(S):S===45?(e.consume(S),p):le(S)?(i=h,Q(S)):(e.consume(S),h)}function p(S){return S===45?(e.consume(S),m):h(S)}function m(S){return S===62?K(S):S===45?p(S):h(S)}function w(S){const oe="CDATA[";return S===oe.charCodeAt(o++)?(e.consume(S),o===oe.length?y:w):n(S)}function y(S){return S===null?n(S):S===93?(e.consume(S),b):le(S)?(i=y,Q(S)):(e.consume(S),y)}function b(S){return S===93?(e.consume(S),g):y(S)}function g(S){return S===62?K(S):S===93?(e.consume(S),g):y(S)}function v(S){return S===null||S===62?K(S):le(S)?(i=v,Q(S)):(e.consume(S),v)}function x(S){return S===null?n(S):S===63?(e.consume(S),C):le(S)?(i=x,Q(S)):(e.consume(S),x)}function C(S){return S===62?K(S):x(S)}function R(S){return tr(S)?(e.consume(S),k):n(S)}function k(S){return S===45||nn(S)?(e.consume(S),k):N(S)}function N(S){return le(S)?(i=N,Q(S)):Ie(S)?(e.consume(S),N):K(S)}function I(S){return S===45||nn(S)?(e.consume(S),I):S===47||S===62||Vt(S)?M(S):n(S)}function M(S){return S===47?(e.consume(S),K):S===58||S===95||tr(S)?(e.consume(S),A):le(S)?(i=M,Q(S)):Ie(S)?(e.consume(S),M):K(S)}function A(S){return S===45||S===46||S===58||S===95||nn(S)?(e.consume(S),A):L(S)}function L(S){return S===61?(e.consume(S),E):le(S)?(i=L,Q(S)):Ie(S)?(e.consume(S),L):M(S)}function E(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),s=S,W):le(S)?(i=E,Q(S)):Ie(S)?(e.consume(S),E):(e.consume(S),U)}function W(S){return S===s?(e.consume(S),s=void 0,q):S===null?n(S):le(S)?(i=W,Q(S)):(e.consume(S),W)}function U(S){return S===null||S===34||S===39||S===60||S===61||S===96?n(S):S===47||S===62||Vt(S)?M(S):(e.consume(S),U)}function q(S){return S===47||S===62||Vt(S)?M(S):n(S)}function K(S){return S===62?(e.consume(S),e.exit("htmlTextData"),e.exit("htmlText"),t):n(S)}function Q(S){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),j}function j(S){return Ie(S)?Fe(e,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):$(S)}function $(S){return e.enter("htmlTextData"),i(S)}}const Ag={name:"labelEnd",resolveAll:P3,resolveTo:A3,tokenize:j3},N3={tokenize:M3},R3={tokenize:O3},I3={tokenize:L3};function P3(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&lr(e,0,e.length,n),e}function A3(e,t){let n=e.length,r=0,s,o,i,a;for(;n--;)if(s=e[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(i){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(i=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[i][1].end}},d={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[i-2][1].start}};return a=[["enter",l,t],["enter",u,t]],a=gn(a,e.slice(o+1,o+r+3)),a=gn(a,[["enter",d,t]]),a=gn(a,Pg(t.parser.constructs.insideSpan.null,e.slice(o+r+4,i-3),t)),a=gn(a,[["exit",d,t],e[i-2],e[i-1],["exit",u,t]]),a=gn(a,e.slice(i+1)),a=gn(a,[["exit",l,t]]),lr(e,o,e.length,a),e}function j3(e,t,n){const r=this;let s=r.events.length,o,i;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){o=r.events[s][1];break}return a;function a(p){return o?o._inactive?h(p):(i=r.parser.defined.includes(Qo(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(N3,d,i?d:h)(p):p===91?e.attempt(R3,d,i?u:h)(p):i?d(p):h(p)}function u(p){return e.attempt(I3,d,h)(p)}function d(p){return t(p)}function h(p){return o._balanced=!0,n(p)}}function M3(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),s}function s(h){return Vt(h)?pa(e,o)(h):o(h)}function o(h){return h===41?d(h):p1(e,i,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function i(h){return Vt(h)?pa(e,l)(h):d(h)}function a(h){return n(h)}function l(h){return h===34||h===39||h===40?g1(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return Vt(h)?pa(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function O3(e,t,n){const r=this;return s;function s(a){return m1.call(r,e,o,i,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(Qo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function i(a){return n(a)}}function L3(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),s}function s(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const D3={name:"labelStartImage",resolveAll:Ag.resolveAll,tokenize:F3};function F3(e,t,n){const r=this;return s;function s(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o}function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),i):n(a)}function i(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const B3={name:"labelStartLink",resolveAll:Ag.resolveAll,tokenize:z3};function z3(e,t,n){const r=this;return s;function s(i){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(i),e.exit("labelMarker"),e.exit("labelLink"),o}function o(i){return i===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(i):t(i)}}const uf={name:"lineEnding",tokenize:$3};function $3(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Fe(e,t,"linePrefix")}}const gc={name:"thematicBreak",tokenize:U3};function U3(e,t,n){let r=0,s;return o;function o(u){return e.enter("thematicBreak"),i(u)}function i(u){return s=u,a(u)}function a(u){return u===s?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||le(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===s?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),Ie(u)?Fe(e,a,"whitespace")(u):a(u))}}const Ft={continuation:{tokenize:K3},exit:G3,name:"list",tokenize:W3},H3={partial:!0,tokenize:Y3},V3={partial:!0,tokenize:q3};function W3(e,t,n){const r=this,s=r.events[r.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,i=0;return a;function a(m){const w=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:Lh(m)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(gc,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return Lh(m)&&++i<10?(e.consume(m),l):(!r.interrupt||i<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Qu,r.interrupt?n:d,e.attempt(H3,p,h))}function d(m){return r.containerState.initialBlankLine=!0,o++,p(m)}function h(m){return Ie(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function K3(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Qu,s,o);function s(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Fe(e,t,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!Ie(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(V3,t,i)(a))}function i(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Fe(e,e.attempt(Ft,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function q3(e,t,n){const r=this;return Fe(e,s,"listItemIndent",r.containerState.size+1);function s(o){const i=r.events[r.events.length-1];return i&&i[1].type==="listItemIndent"&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(o):n(o)}}function G3(e){e.exit(this.containerState.type)}function Y3(e,t,n){const r=this;return Fe(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const i=r.events[r.events.length-1];return!Ie(o)&&i&&i[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const nw={name:"setextUnderline",resolveTo:X3,tokenize:Q3};function X3(e,t){let n=e.length,r,s,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const i={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",o?(e.splice(s,0,["enter",i,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=i,e.push(["exit",i,t]),e}function Q3(e,t,n){const r=this;let s;return o;function o(u){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),s=u,i(u)):n(u)}function i(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===s?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),Ie(u)?Fe(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||le(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const J3={tokenize:Z3};function Z3(e){const t=this,n=e.attempt(Qu,r,e.attempt(this.parser.constructs.flowInitial,s,Fe(e,e.attempt(this.parser.constructs.flow,s,e.attempt(s3,s)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const e$={resolveAll:v1()},t$=y1("string"),n$=y1("text");function y1(e){return{resolveAll:v1(e==="text"?r$:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],o=n.attempt(s,i,a);return i;function i(d){return u(d)?o(d):a(d)}function a(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),o(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const h=s[d];let p=-1;if(h)for(;++p<h.length;){const m=h[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function v1(e){return t;function t(n,r){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return e?e(n,r):n}}function r$(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let o=s.length,i=-1,a=0,l;for(;o--;){const u=s[o];if(typeof u=="string"){for(i=u.length;u.charCodeAt(i-1)===32;)a++,i--;if(i)break;i=-1}else if(u===-2)l=!0,a++;else if(u!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?i:r.start._bufferIndex+i,_index:r.start._index+o,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const s$={42:Ft,43:Ft,45:Ft,48:Ft,49:Ft,50:Ft,51:Ft,52:Ft,53:Ft,54:Ft,55:Ft,56:Ft,57:Ft,62:u1},o$={91:c3},i$={[-2]:cf,[-1]:cf,32:cf},a$={35:m3,42:gc,45:[nw,gc],60:x3,61:nw,95:gc,96:ew,126:ew},l$={38:f1,92:d1},c$={[-5]:uf,[-4]:uf,[-3]:uf,33:D3,38:f1,42:Dh,60:[Bz,E3],91:B3,92:[h3,d1],93:Ag,95:Dh,96:Jz},u$={null:[Dh,e$]},d$={null:[42,95]},f$={null:[]},h$=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:d$,contentInitial:o$,disable:f$,document:s$,flow:a$,flowInitial:i$,insideSpan:u$,string:l$,text:c$},Symbol.toStringTag,{value:"Module"}));function p$(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let i=[],a=[];const l={attempt:N(R),check:N(k),consume:v,enter:x,exit:C,interrupt:N(k,{interrupt:!0})},u={code:null,containerState:{},defineSkip:y,events:[],now:w,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:h};let d=t.tokenize.call(u,l);return t.resolveAll&&o.push(t),u;function h(L){return i=gn(i,L),b(),i[i.length-1]!==null?[]:(I(t,0),u.events=Pg(o,u.events,u),u.events)}function p(L,E){return g$(m(L),E)}function m(L){return m$(i,L)}function w(){const{_bufferIndex:L,_index:E,line:W,column:U,offset:q}=r;return{_bufferIndex:L,_index:E,line:W,column:U,offset:q}}function y(L){s[L.line]=L.column,A()}function b(){let L;for(;r._index<i.length;){const E=i[r._index];if(typeof E=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<E.length;)g(E.charCodeAt(r._bufferIndex));else g(E)}}function g(L){d=d(L)}function v(L){le(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,A()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===i[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=L}function x(L,E){const W=E||{};return W.type=L,W.start=w(),u.events.push(["enter",W,u]),a.push(W),W}function C(L){const E=a.pop();return E.end=w(),u.events.push(["exit",E,u]),E}function R(L,E){I(L,E.from)}function k(L,E){E.restore()}function N(L,E){return W;function W(U,q,K){let Q,j,$,S;return Array.isArray(U)?me(U):"tokenize"in U?me([U]):oe(U);function oe(be){return J;function J(ge){const Oe=ge!==null&&be[ge],_e=ge!==null&&be.null,ye=[...Array.isArray(Oe)?Oe:Oe?[Oe]:[],...Array.isArray(_e)?_e:_e?[_e]:[]];return me(ye)(ge)}}function me(be){return Q=be,j=0,be.length===0?K:T(be[j])}function T(be){return J;function J(ge){return S=M(),$=be,be.partial||(u.currentConstruct=be),be.name&&u.parser.constructs.disable.null.includes(be.name)?Xe():be.tokenize.call(E?Object.assign(Object.create(u),E):u,l,Pe,Xe)(ge)}}function Pe(be){return L($,S),q}function Xe(be){return S.restore(),++j<Q.length?T(Q[j]):K}}}function I(L,E){L.resolveAll&&!o.includes(L)&&o.push(L),L.resolve&&lr(u.events,E,u.events.length-E,L.resolve(u.events.slice(E),u)),L.resolveTo&&(u.events=L.resolveTo(u.events,u))}function M(){const L=w(),E=u.previous,W=u.currentConstruct,U=u.events.length,q=Array.from(a);return{from:U,restore:K};function K(){r=L,u.previous=E,u.currentConstruct=W,u.events.length=U,a=q,A()}}function A(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function m$(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,o=t.end._bufferIndex;let i;if(n===s)i=[e[n].slice(r,o)];else{if(i=e.slice(n,s),r>-1){const a=i[0];typeof a=="string"?i[0]=a.slice(r):i.shift()}o>0&&i.push(e[s].slice(0,o))}return i}function g$(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const o=e[n];let i;if(typeof o=="string")i=o;else switch(o){case-5:{i="\r";break}case-4:{i=`
`;break}case-3:{i=`\r
`;break}case-2:{i=t?" ":"	";break}case-1:{if(!t&&s)continue;i=" ";break}default:i=String.fromCharCode(o)}s=o===-2,r.push(i)}return r.join("")}function y$(e){const r={constructs:Cz([h$,...(e||{}).extensions||[]]),content:s(Az),defined:[],document:s(Mz),flow:s(J3),lazy:{},string:s(t$),text:s(n$)};return r;function s(o){return i;function i(a){return p$(r,o,a)}}}function v$(e){for(;!h1(e););return e}const rw=/[\0\t\n\r]/g;function x$(){let e=1,t="",n=!0,r;return s;function s(o,i,a){const l=[];let u,d,h,p,m;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(i||void 0).decode(o)),h=0,t="",n&&(o.charCodeAt(0)===65279&&h++,n=void 0);h<o.length;){if(rw.lastIndex=h,u=rw.exec(o),p=u&&u.index!==void 0?u.index:o.length,m=o.charCodeAt(p),!u){t=o.slice(h);break}if(m===10&&h===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<p&&(l.push(o.slice(h,p)),e+=p-h),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}h=p+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const w$=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function b$(e){return e.replace(w$,_$)}function _$(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),o=s===120||s===88;return c1(n.slice(o?2:1),o?16:10)}return Ig(n)||e}const x1={}.hasOwnProperty;function S$(e,t,n){return typeof t!="string"&&(n=t,t=void 0),C$(n)(v$(y$(n).document().write(x$()(e,t,!0))))}function C$(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Kn),autolinkProtocol:M,autolinkEmail:M,atxHeading:o(Kt),blockQuote:o(_e),characterEscape:M,characterReference:M,codeFenced:o(ye),codeFencedFenceInfo:i,codeFencedFenceMeta:i,codeIndented:o(ye,i),codeText:o(Te,i),codeTextData:M,data:M,codeFlowValue:M,definition:o(lt),definitionDestinationString:i,definitionLabelString:i,definitionTitleString:i,emphasis:o(Lt),hardBreakEscape:o(_n),hardBreakTrailing:o(_n),htmlFlow:o(Wn,i),htmlFlowData:M,htmlText:o(Wn,i),htmlTextData:M,image:o(Is),label:i,link:o(Kn),listItem:o(ld),listItemValue:p,listOrdered:o(ki,h),listUnordered:o(ki),paragraph:o(pr),reference:T,referenceString:i,resourceDestinationString:i,resourceTitleString:i,setextHeading:o(Kt),strong:o(Ei),thematicBreak:o(cd)},exit:{atxHeading:l(),atxHeadingSequence:R,autolink:l(),autolinkEmail:Oe,autolinkProtocol:ge,blockQuote:l(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:Xe,characterReferenceMarkerNumeric:Xe,characterReferenceValue:be,characterReference:J,codeFenced:l(b),codeFencedFence:y,codeFencedFenceInfo:m,codeFencedFenceMeta:w,codeFlowValue:A,codeIndented:l(g),codeText:l(q),codeTextData:A,data:A,definition:l(),definitionDestinationString:C,definitionLabelString:v,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(E),hardBreakTrailing:l(E),htmlFlow:l(W),htmlFlowData:A,htmlText:l(U),htmlTextData:A,image:l(Q),label:$,labelText:j,lineEnding:L,link:l(K),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Pe,resourceDestinationString:S,resourceTitleString:oe,resource:me,setextHeading:l(I),setextHeadingLineSequence:N,setextHeadingText:k,strong:l(),thematicBreak:l()}};w1(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(O){let F={type:"root",children:[]};const ie={stack:[F],tokenStack:[],config:t,enter:a,exit:u,buffer:i,resume:d,data:n},fe=[];let Ae=-1;for(;++Ae<O.length;)if(O[Ae][1].type==="listOrdered"||O[Ae][1].type==="listUnordered")if(O[Ae][0]==="enter")fe.push(Ae);else{const qt=fe.pop();Ae=s(O,qt,Ae)}for(Ae=-1;++Ae<O.length;){const qt=t[O[Ae][0]];x1.call(qt,O[Ae][1].type)&&qt[O[Ae][1].type].call(Object.assign({sliceSerialize:O[Ae][2].sliceSerialize},ie),O[Ae][1])}if(ie.tokenStack.length>0){const qt=ie.tokenStack[ie.tokenStack.length-1];(qt[1]||sw).call(ie,void 0,qt[0])}for(F.position={start:Kr(O.length>0?O[0][1].start:{line:1,column:1,offset:0}),end:Kr(O.length>0?O[O.length-2][1].end:{line:1,column:1,offset:0})},Ae=-1;++Ae<t.transforms.length;)F=t.transforms[Ae](F)||F;return F}function s(O,F,ie){let fe=F-1,Ae=-1,qt=!1,qn,Gt,Fr,mr;for(;++fe<=ie;){const vt=O[fe];switch(vt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{vt[0]==="enter"?Ae++:Ae--,mr=void 0;break}case"lineEndingBlank":{vt[0]==="enter"&&(qn&&!mr&&!Ae&&!Fr&&(Fr=fe),mr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:mr=void 0}if(!Ae&&vt[0]==="enter"&&vt[1].type==="listItemPrefix"||Ae===-1&&vt[0]==="exit"&&(vt[1].type==="listUnordered"||vt[1].type==="listOrdered")){if(qn){let gr=fe;for(Gt=void 0;gr--;){const Rt=O[gr];if(Rt[1].type==="lineEnding"||Rt[1].type==="lineEndingBlank"){if(Rt[0]==="exit")continue;Gt&&(O[Gt][1].type="lineEndingBlank",qt=!0),Rt[1].type="lineEnding",Gt=gr}else if(!(Rt[1].type==="linePrefix"||Rt[1].type==="blockQuotePrefix"||Rt[1].type==="blockQuotePrefixWhitespace"||Rt[1].type==="blockQuoteMarker"||Rt[1].type==="listItemIndent"))break}Fr&&(!Gt||Fr<Gt)&&(qn._spread=!0),qn.end=Object.assign({},Gt?O[Gt][1].start:vt[1].end),O.splice(Gt||fe,0,["exit",qn,vt[2]]),fe++,ie++}if(vt[1].type==="listItemPrefix"){const gr={type:"listItem",_spread:!1,start:Object.assign({},vt[1].start),end:void 0};qn=gr,O.splice(fe,0,["enter",gr,vt[2]]),fe++,ie++,Fr=void 0,mr=!0}}}return O[F][1]._spread=qt,ie}function o(O,F){return ie;function ie(fe){a.call(this,O(fe),fe),F&&F.call(this,fe)}}function i(){this.stack.push({type:"fragment",children:[]})}function a(O,F,ie){this.stack[this.stack.length-1].children.push(O),this.stack.push(O),this.tokenStack.push([F,ie||void 0]),O.position={start:Kr(F.start),end:void 0}}function l(O){return F;function F(ie){O&&O.call(this,ie),u.call(this,ie)}}function u(O,F){const ie=this.stack.pop(),fe=this.tokenStack.pop();if(fe)fe[0].type!==O.type&&(F?F.call(this,O,fe[0]):(fe[1]||sw).call(this,O,fe[0]));else throw new Error("Cannot close `"+O.type+"` ("+ha({start:O.start,end:O.end})+"): its not open");ie.position.end=Kr(O.end)}function d(){return _z(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function p(O){if(this.data.expectingFirstListItemValue){const F=this.stack[this.stack.length-2];F.start=Number.parseInt(this.sliceSerialize(O),10),this.data.expectingFirstListItemValue=void 0}}function m(){const O=this.resume(),F=this.stack[this.stack.length-1];F.lang=O}function w(){const O=this.resume(),F=this.stack[this.stack.length-1];F.meta=O}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const O=this.resume(),F=this.stack[this.stack.length-1];F.value=O.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const O=this.resume(),F=this.stack[this.stack.length-1];F.value=O.replace(/(\r?\n|\r)$/g,"")}function v(O){const F=this.resume(),ie=this.stack[this.stack.length-1];ie.label=F,ie.identifier=Qo(this.sliceSerialize(O)).toLowerCase()}function x(){const O=this.resume(),F=this.stack[this.stack.length-1];F.title=O}function C(){const O=this.resume(),F=this.stack[this.stack.length-1];F.url=O}function R(O){const F=this.stack[this.stack.length-1];if(!F.depth){const ie=this.sliceSerialize(O).length;F.depth=ie}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function N(O){const F=this.stack[this.stack.length-1];F.depth=this.sliceSerialize(O).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function M(O){const ie=this.stack[this.stack.length-1].children;let fe=ie[ie.length-1];(!fe||fe.type!=="text")&&(fe=ol(),fe.position={start:Kr(O.start),end:void 0},ie.push(fe)),this.stack.push(fe)}function A(O){const F=this.stack.pop();F.value+=this.sliceSerialize(O),F.position.end=Kr(O.end)}function L(O){const F=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ie=F.children[F.children.length-1];ie.position.end=Kr(O.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(F.type)&&(M.call(this,O),A.call(this,O))}function E(){this.data.atHardBreak=!0}function W(){const O=this.resume(),F=this.stack[this.stack.length-1];F.value=O}function U(){const O=this.resume(),F=this.stack[this.stack.length-1];F.value=O}function q(){const O=this.resume(),F=this.stack[this.stack.length-1];F.value=O}function K(){const O=this.stack[this.stack.length-1];if(this.data.inReference){const F=this.data.referenceType||"shortcut";O.type+="Reference",O.referenceType=F,delete O.url,delete O.title}else delete O.identifier,delete O.label;this.data.referenceType=void 0}function Q(){const O=this.stack[this.stack.length-1];if(this.data.inReference){const F=this.data.referenceType||"shortcut";O.type+="Reference",O.referenceType=F,delete O.url,delete O.title}else delete O.identifier,delete O.label;this.data.referenceType=void 0}function j(O){const F=this.sliceSerialize(O),ie=this.stack[this.stack.length-2];ie.label=b$(F),ie.identifier=Qo(F).toLowerCase()}function $(){const O=this.stack[this.stack.length-1],F=this.resume(),ie=this.stack[this.stack.length-1];if(this.data.inReference=!0,ie.type==="link"){const fe=O.children;ie.children=fe}else ie.alt=F}function S(){const O=this.resume(),F=this.stack[this.stack.length-1];F.url=O}function oe(){const O=this.resume(),F=this.stack[this.stack.length-1];F.title=O}function me(){this.data.inReference=void 0}function T(){this.data.referenceType="collapsed"}function Pe(O){const F=this.resume(),ie=this.stack[this.stack.length-1];ie.label=F,ie.identifier=Qo(this.sliceSerialize(O)).toLowerCase(),this.data.referenceType="full"}function Xe(O){this.data.characterReferenceType=O.type}function be(O){const F=this.sliceSerialize(O),ie=this.data.characterReferenceType;let fe;ie?(fe=c1(F,ie==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):fe=Ig(F);const Ae=this.stack[this.stack.length-1];Ae.value+=fe}function J(O){const F=this.stack.pop();F.position.end=Kr(O.end)}function ge(O){A.call(this,O);const F=this.stack[this.stack.length-1];F.url=this.sliceSerialize(O)}function Oe(O){A.call(this,O);const F=this.stack[this.stack.length-1];F.url="mailto:"+this.sliceSerialize(O)}function _e(){return{type:"blockquote",children:[]}}function ye(){return{type:"code",lang:null,meta:null,value:""}}function Te(){return{type:"inlineCode",value:""}}function lt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Lt(){return{type:"emphasis",children:[]}}function Kt(){return{type:"heading",depth:0,children:[]}}function _n(){return{type:"break"}}function Wn(){return{type:"html",value:""}}function Is(){return{type:"image",title:null,url:"",alt:null}}function Kn(){return{type:"link",title:null,url:"",children:[]}}function ki(O){return{type:"list",ordered:O.type==="listOrdered",start:null,spread:O._spread,children:[]}}function ld(O){return{type:"listItem",spread:O._spread,checked:null,children:[]}}function pr(){return{type:"paragraph",children:[]}}function Ei(){return{type:"strong",children:[]}}function ol(){return{type:"text",value:""}}function cd(){return{type:"thematicBreak"}}}function Kr(e){return{line:e.line,column:e.column,offset:e.offset}}function w1(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?w1(e,r):k$(e,r)}}function k$(e,t){let n;for(n in t)if(x1.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function sw(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ha({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ha({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ha({start:t.start,end:t.end})+") is still open")}function E$(e){const t=this;t.parser=n;function n(r){return S$(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function T$(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function N$(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function R$(e,t){const n=t.value?t.value+`
`:"",r={},s=t.lang?t.lang.split(/\s+/):[];s.length>0&&(r.className=["language-"+s[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function I$(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function P$(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function A$(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=_i(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let i,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),i=e.footnoteOrder.length):i=o+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(i)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function j$(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function M$(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function b1(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const i=s[s.length-1];return i&&i.type==="text"?i.value+=r:s.push({type:"text",value:r}),s}function O$(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return b1(e,t);const s={src:_i(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,o),e.applyData(t,o)}function L$(e,t){const n={src:_i(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function D$(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function F$(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return b1(e,t);const s={href:_i(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function B$(e,t){const n={href:_i(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function z$(e,t,n){const r=e.all(t),s=n?$$(n):_1(t),o={},i=[];if(typeof t.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const d=r[a];(s||a!==0||d.type!=="element"||d.tagName!=="p")&&i.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!s?i.push(...d.children):i.push(d)}const l=r[r.length-1];l&&(s||l.type!=="element"||l.tagName!=="p")&&i.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:i};return e.patch(t,u),e.applyData(t,u)}function $$(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=_1(n[r])}return t}function _1(e){const t=e.spread;return t??e.children.length>1}function U$(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const i=r[s];if(i.type==="element"&&i.tagName==="li"&&i.properties&&Array.isArray(i.properties.className)&&i.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function H$(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function V$(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function W$(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function K$(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const i={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],i),s.push(i)}if(n.length>0){const i={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Eg(t.children[1]),l=n1(t.children[t.children.length-1]);a&&l&&(i.position={start:a,end:l}),s.push(i)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,o),e.applyData(t,o)}function q$(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,a=i?i.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const h=t.children[l],p={},m=i?i[l]:void 0;m&&(p.align=m);let w={type:"element",tagName:o,properties:p,children:[]};h&&(w.children=e.all(h),e.patch(h,w),w=e.applyData(h,w)),u.push(w)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function G$(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const ow=9,iw=32;function Y$(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const o=[];for(;r;)o.push(aw(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return o.push(aw(t.slice(s),s>0,!1)),o.join("")}function aw(e,t,n){let r=0,s=e.length;if(t){let o=e.codePointAt(r);for(;o===ow||o===iw;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(s-1);for(;o===ow||o===iw;)s--,o=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function X$(e,t){const n={type:"text",value:Y$(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Q$(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const J$={blockquote:T$,break:N$,code:R$,delete:I$,emphasis:P$,footnoteReference:A$,heading:j$,html:M$,imageReference:O$,image:L$,inlineCode:D$,linkReference:F$,link:B$,listItem:z$,list:U$,paragraph:H$,root:V$,strong:W$,table:K$,tableCell:G$,tableRow:q$,text:X$,thematicBreak:Q$,toml:Ul,yaml:Ul,definition:Ul,footnoteDefinition:Ul};function Ul(){}const S1=-1,Ju=0,ma=1,su=2,jg=3,Mg=4,Og=5,Lg=6,C1=7,k1=8,lw=typeof self=="object"?self:globalThis,Z$=(e,t)=>{const n=(s,o)=>(e.set(o,s),s),r=s=>{if(e.has(s))return e.get(s);const[o,i]=t[s];switch(o){case Ju:case S1:return n(i,s);case ma:{const a=n([],s);for(const l of i)a.push(r(l));return a}case su:{const a=n({},s);for(const[l,u]of i)a[r(l)]=r(u);return a}case jg:return n(new Date(i),s);case Mg:{const{source:a,flags:l}=i;return n(new RegExp(a,l),s)}case Og:{const a=n(new Map,s);for(const[l,u]of i)a.set(r(l),r(u));return a}case Lg:{const a=n(new Set,s);for(const l of i)a.add(r(l));return a}case C1:{const{name:a,message:l}=i;return n(new lw[a](l),s)}case k1:return n(BigInt(i),s);case"BigInt":return n(Object(BigInt(i)),s);case"ArrayBuffer":return n(new Uint8Array(i).buffer,i);case"DataView":{const{buffer:a}=new Uint8Array(i);return n(new DataView(a),i)}}return n(new lw[o](i),s)};return r},cw=e=>Z$(new Map,e)(0),_o="",{toString:e4}={},{keys:t4}=Object,Vi=e=>{const t=typeof e;if(t!=="object"||!e)return[Ju,t];const n=e4.call(e).slice(8,-1);switch(n){case"Array":return[ma,_o];case"Object":return[su,_o];case"Date":return[jg,_o];case"RegExp":return[Mg,_o];case"Map":return[Og,_o];case"Set":return[Lg,_o];case"DataView":return[ma,n]}return n.includes("Array")?[ma,n]:n.includes("Error")?[C1,n]:[su,n]},Hl=([e,t])=>e===Ju&&(t==="function"||t==="symbol"),n4=(e,t,n,r)=>{const s=(i,a)=>{const l=r.push(i)-1;return n.set(a,l),l},o=i=>{if(n.has(i))return n.get(i);let[a,l]=Vi(i);switch(a){case Ju:{let d=i;switch(l){case"bigint":a=k1,d=i.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return s([S1],i)}return s([a,d],i)}case ma:{if(l){let p=i;return l==="DataView"?p=new Uint8Array(i.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(i)),s([l,[...p]],i)}const d=[],h=s([a,d],i);for(const p of i)d.push(o(p));return h}case su:{if(l)switch(l){case"BigInt":return s([l,i.toString()],i);case"Boolean":case"Number":case"String":return s([l,i.valueOf()],i)}if(t&&"toJSON"in i)return o(i.toJSON());const d=[],h=s([a,d],i);for(const p of t4(i))(e||!Hl(Vi(i[p])))&&d.push([o(p),o(i[p])]);return h}case jg:return s([a,i.toISOString()],i);case Mg:{const{source:d,flags:h}=i;return s([a,{source:d,flags:h}],i)}case Og:{const d=[],h=s([a,d],i);for(const[p,m]of i)(e||!(Hl(Vi(p))||Hl(Vi(m))))&&d.push([o(p),o(m)]);return h}case Lg:{const d=[],h=s([a,d],i);for(const p of i)(e||!Hl(Vi(p)))&&d.push(o(p));return h}}const{message:u}=i;return s([a,{name:l,message:u}],i)};return o},uw=(e,{json:t,lossy:n}={})=>{const r=[];return n4(!(t||n),!!t,new Map,r)(e),r},ou=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?cw(uw(e,t)):structuredClone(e):(e,t)=>cw(uw(e,t));function r4(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function s4(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function o4(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||r4,r=e.options.footnoteBackLabel||s4,s=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",i=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const d=e.all(u),h=String(u.identifier).toUpperCase(),p=_i(h.toLowerCase());let m=0;const w=[],y=e.footnoteCounts.get(h);for(;y!==void 0&&++m<=y;){w.length>0&&w.push({type:"text",value:" "});let v=typeof n=="string"?n:n(l,m);typeof v=="string"&&(v={type:"text",value:v}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const v=b.children[b.children.length-1];v&&v.type==="text"?v.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...w)}else d.push(...w);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(u,g),a.push(g)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...ou(i),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const E1=function(e){if(e==null)return c4;if(typeof e=="function")return Zu(e);if(typeof e=="object")return Array.isArray(e)?i4(e):a4(e);if(typeof e=="string")return l4(e);throw new Error("Expected function, string, or object as test")};function i4(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=E1(e[n]);return Zu(r);function r(...s){let o=-1;for(;++o<t.length;)if(t[o].apply(this,s))return!0;return!1}}function a4(e){const t=e;return Zu(n);function n(r){const s=r;let o;for(o in e)if(s[o]!==t[o])return!1;return!0}}function l4(e){return Zu(t);function t(n){return n&&n.type===e}}function Zu(e){return t;function t(n,r,s){return!!(u4(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function c4(){return!0}function u4(e){return e!==null&&typeof e=="object"&&"type"in e}const T1=[],d4=!0,dw=!1,f4="skip";function h4(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const o=E1(s),i=r?-1:1;a(e,void 0,[])();function a(l,u,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const m=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=T1,w,y,b;if((!t||o(l,u,d[d.length-1]||void 0))&&(m=p4(n(l,d)),m[0]===dw))return m;if("children"in l&&l.children){const g=l;if(g.children&&m[0]!==f4)for(y=(r?g.children.length:-1)+i,b=d.concat(g);y>-1&&y<g.children.length;){const v=g.children[y];if(w=a(v,y,b)(),w[0]===dw)return w;y=typeof w[1]=="number"?w[1]:y+i}}return m}}}function p4(e){return Array.isArray(e)?e:typeof e=="number"?[d4,e]:e==null?T1:[e]}function N1(e,t,n,r){let s,o,i;typeof t=="function"&&typeof n!="function"?(o=void 0,i=t,s=n):(o=t,i=n,s=r),h4(e,o,a,s);function a(l,u){const d=u[u.length-1],h=d?d.children.indexOf(l):void 0;return i(l,h,d)}}const Fh={}.hasOwnProperty,m4={};function g4(e,t){const n=t||m4,r=new Map,s=new Map,o=new Map,i={...J$,...n.handlers},a={all:u,applyData:v4,definitionById:r,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:i,one:l,options:n,patch:y4,wrap:w4};return N1(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:s,p=String(d.identifier).toUpperCase();h.has(p)||h.set(p,d)}}),a;function l(d,h){const p=d.type,m=a.handlers[p];if(Fh.call(a.handlers,p)&&m)return m(a,d,h);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in d){const{children:y,...b}=d,g=ou(b);return g.children=a.all(d),g}return ou(d)}return(a.options.unknownHandler||x4)(a,d,h)}function u(d){const h=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const w=a.one(p[m],d);if(w){if(m&&p[m-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=fw(w.value)),!Array.isArray(w)&&w.type==="element")){const y=w.children[0];y&&y.type==="text"&&(y.value=fw(y.value))}Array.isArray(w)?h.push(...w):h.push(w)}}}return h}}function y4(e,t){e.position&&(t.position=ez(e))}function v4(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const i="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:i}}n.type==="element"&&o&&Object.assign(n.properties,ou(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function x4(e,t){const n=t.data||{},r="value"in t&&!(Fh.call(n,"hProperties")||Fh.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function w4(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function fw(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function hw(e,t){const n=g4(e,t),r=n.one(e,void 0),s=o4(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function b4(e,t){return e&&"run"in e?async function(n,r){const s=hw(n,{file:r,...t});await e.run(s,r)}:function(n,r){return hw(n,{file:r,...e||t})}}function pw(e){if(e)throw e}var yc=Object.prototype.hasOwnProperty,R1=Object.prototype.toString,mw=Object.defineProperty,gw=Object.getOwnPropertyDescriptor,yw=function(t){return typeof Array.isArray=="function"?Array.isArray(t):R1.call(t)==="[object Array]"},vw=function(t){if(!t||R1.call(t)!=="[object Object]")return!1;var n=yc.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&yc.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var s;for(s in t);return typeof s>"u"||yc.call(t,s)},xw=function(t,n){mw&&n.name==="__proto__"?mw(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},ww=function(t,n){if(n==="__proto__")if(yc.call(t,n)){if(gw)return gw(t,n).value}else return;return t[n]},_4=function e(){var t,n,r,s,o,i,a=arguments[0],l=1,u=arguments.length,d=!1;for(typeof a=="boolean"&&(d=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=ww(a,n),s=ww(t,n),a!==s&&(d&&s&&(vw(s)||(o=yw(s)))?(o?(o=!1,i=r&&yw(r)?r:[]):i=r&&vw(r)?r:{},xw(a,{name:n,newValue:e(d,i,s)})):typeof s<"u"&&xw(a,{name:n,newValue:s}));return a};const df=hi(_4);function Bh(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function S4(){const e=[],t={run:n,use:r};return t;function n(...s){let o=-1;const i=s.pop();if(typeof i!="function")throw new TypeError("Expected function as last argument, not "+i);a(null,...s);function a(l,...u){const d=e[++o];let h=-1;if(l){i(l);return}for(;++h<s.length;)(u[h]===null||u[h]===void 0)&&(u[h]=s[h]);s=u,d?C4(d,a)(...u):i(null,...u)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function C4(e,t){let n;return r;function r(...i){const a=e.length>i.length;let l;a&&i.push(s);try{l=e.apply(this,i)}catch(u){const d=u;if(a&&n)throw d;return s(d)}a||(l&&l.then&&typeof l.then=="function"?l.then(o,s):l instanceof Error?s(l):o(l))}function s(i,...a){n||(n=!0,t(i,...a))}function o(i){s(null,i)}}const Jn={basename:k4,dirname:E4,extname:T4,join:N4,sep:"/"};function k4(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');sl(e);let n=0,r=-1,s=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else r<0&&(o=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let i=-1,a=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else i<0&&(o=!0,i=s+1),a>-1&&(e.codePointAt(s)===t.codePointAt(a--)?a<0&&(r=s):(a=-1,r=i));return n===r?r=i:r<0&&(r=e.length),e.slice(n,r)}function E4(e){if(sl(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function T4(e){sl(e);let t=e.length,n=-1,r=0,s=-1,o=0,i;for(;t--;){const a=e.codePointAt(t);if(a===47){if(i){r=t+1;break}continue}n<0&&(i=!0,n=t+1),a===46?s<0?s=t:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function N4(...e){let t=-1,n;for(;++t<e.length;)sl(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":R4(n)}function R4(e){sl(e);const t=e.codePointAt(0)===47;let n=I4(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function I4(e,t){let n="",r=0,s=-1,o=0,i=-1,a,l;for(;++i<=e.length;){if(i<e.length)a=e.codePointAt(i);else{if(a===47)break;a=47}if(a===47){if(!(s===i-1||o===1))if(s!==i-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),s=i,o=0;continue}}else if(n.length>0){n="",r=0,s=i,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,i):n=e.slice(s+1,i),r=i-s-1;s=i,o=0}else a===46&&o>-1?o++:o=-1}return n}function sl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const P4={cwd:A4};function A4(){return"/"}function zh(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function j4(e){if(typeof e=="string")e=new URL(e);else if(!zh(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return M4(e)}function M4(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const ff=["history","path","basename","stem","extname","dirname"];class I1{constructor(t){let n;t?zh(t)?n={path:t}:typeof t=="string"||O4(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":P4.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<ff.length;){const o=ff[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)ff.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Jn.basename(this.path):void 0}set basename(t){pf(t,"basename"),hf(t,"basename"),this.path=Jn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Jn.dirname(this.path):void 0}set dirname(t){bw(this.basename,"dirname"),this.path=Jn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Jn.extname(this.path):void 0}set extname(t){if(hf(t,"extname"),bw(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Jn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){zh(t)&&(t=j4(t)),pf(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Jn.basename(this.path,this.extname):void 0}set stem(t){pf(t,"stem"),hf(t,"stem"),this.path=Jn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new Tt(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function hf(e,t){if(e&&e.includes(Jn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Jn.sep+"`")}function pf(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function bw(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function O4(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const L4=function(e){const r=this.constructor.prototype,s=r[e],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},D4={}.hasOwnProperty;class Dg extends L4{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=S4()}copy(){const t=new Dg;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(df(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(yf("data",this.frozen),this.namespace[t]=n,this):D4.call(this.namespace,t)&&this.namespace[t]||void 0:t?(yf("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Vl(t),r=this.parser||this.Parser;return mf("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),mf("process",this.parser||this.Parser),gf("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,i){const a=Vl(t),l=r.parse(a);r.run(l,a,function(d,h,p){if(d||!h||!p)return u(d);const m=h,w=r.stringify(m,p);z4(w)?p.value=w:p.result=w,u(d,p)});function u(d,h){d||!h?i(d):o?o(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),mf("processSync",this.parser||this.Parser),gf("processSync",this.compiler||this.Compiler),this.process(t,s),Sw("processSync","process",n),r;function s(o,i){n=!0,pw(o),r=i}}run(t,n,r){_w(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(i,a){const l=Vl(n);s.run(t,l,u);function u(d,h,p){const m=h||t;d?a(d):i?i(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,s;return this.run(t,n,o),Sw("runSync","run",r),s;function o(i,a){pw(i),s=a,r=!0}}stringify(t,n){this.freeze();const r=Vl(n),s=this.compiler||this.Compiler;return gf("stringify",s),_w(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(yf("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):i(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;l(d,h)}else i(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function i(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(s.settings=df(!0,s.settings,u.settings))}function a(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];o(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let h=-1,p=-1;for(;++h<r.length;)if(r[h][0]===u){p=h;break}if(p===-1)r.push([u,...d]);else if(d.length>0){let[m,...w]=d;const y=r[p][1];Bh(y)&&Bh(m)&&(m=df(!0,y,m)),r[p]=[u,m,...w]}}}}const F4=new Dg().freeze();function mf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function gf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function yf(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function _w(e){if(!Bh(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Sw(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Vl(e){return B4(e)?e:new I1(e)}function B4(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function z4(e){return typeof e=="string"||$4(e)}function $4(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const U4="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Cw=[],kw={allowDangerousHtml:!0},H4=/^(https?|ircs?|mailto|xmpp)$/i,V4=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function W4(e){const t=K4(e),n=q4(e);return G4(t.runSync(t.parse(n),n),e)}function K4(e){const t=e.rehypePlugins||Cw,n=e.remarkPlugins||Cw,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...kw}:kw;return F4().use(E$).use(n).use(b4,r).use(t)}function q4(e){const t=e.children||"",n=new I1;return typeof t=="string"&&(n.value=t),n}function G4(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,o=t.disallowedElements,i=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||Y4;for(const d of V4)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+U4+d.id,void 0);return N1(e,u),oz(e,{Fragment:c.Fragment,components:s,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(d,h,p){if(d.type==="raw"&&p&&typeof h=="number")return i?p.children.splice(h,1):p.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let m;for(m in lf)if(Object.hasOwn(lf,m)&&Object.hasOwn(d.properties,m)){const w=d.properties[m],y=lf[m];(y===null||y.includes(d.tagName))&&(d.properties[m]=l(String(w||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):o?o.includes(d.tagName):!1;if(!m&&r&&typeof h=="number"&&(m=!r(d,h,p)),m&&p&&typeof h=="number")return a&&d.children?p.children.splice(h,1,...d.children):p.children.splice(h,1),h}}}function Y4(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||H4.test(e.slice(0,t))?e:""}const X4=(e,t)=>typeof e=="string"?e===t:JSON.stringify(e)===JSON.stringify(t),Q4=(e,t)=>{if(!e||!t)return!1;const n=r=>{const{position:s,data:o,...i}=r||{};return i};return JSON.stringify(n(e.properties))===JSON.stringify(n(t.properties))&&X4(e.children,t.children)},Fg=(e,t)=>Q4(e.node,t.node),J4=(e={})=>Object.fromEntries(Object.entries(e??{}).map(([t,n])=>{if(!n)return[t,n];const r=n,s=({node:o,...i})=>c.jsx(r,{...i});return[t,f.memo(s,Fg)]})),Bg=f.createContext(null),P1=()=>f.useContext(Bg)!==null,Z4=({children:e,...t})=>c.jsx(Bg.Provider,{value:t,children:e}),e5=f.memo(Z4,Fg),t5=({node:e,...t})=>c.jsx("pre",{...t}),n5=({node:e,...t})=>c.jsx("code",{...t}),zg=({node:e,components:{Pre:t,Code:n},code:r})=>c.jsx(t,{children:c.jsx(n,{node:e,children:r})}),r5=()=>null,s5=({node:e,components:{Pre:t,Code:n,SyntaxHighlighter:r,CodeHeader:s},language:o,code:i})=>{const a=f.useMemo(()=>({Pre:t,Code:n}),[t,n]),l=o?r:zg;return c.jsxs(c.Fragment,{children:[c.jsx(s,{node:e,language:o,code:i}),c.jsx(l,{node:e,components:a,language:o??"unknown",code:i})]})},Ew=({className:e,...t})=>({className:n,...r})=>({className:X(e,n),...t,...r}),o5=({node:e,components:{Pre:t,Code:n,SyntaxHighlighter:r,CodeHeader:s},componentsByLanguage:o={},children:i,...a})=>{var b,g,v;const l=f.useContext(Bg),u=Ew(l),d=Ye(x=>c.jsx(t,{...u(x)})),h=Ew(a),p=Ye(x=>c.jsx(n,{...h(x)})),m=((b=/language-(\w+)/.exec(a.className||""))==null?void 0:b[1])??"";if(typeof i!="string")return c.jsx(zg,{node:e,components:{Pre:d,Code:p},code:i});const w=((g=o[m])==null?void 0:g.SyntaxHighlighter)??r,y=((v=o[m])==null?void 0:v.CodeHeader)??s;return c.jsx(s5,{node:e,components:{Pre:d,Code:p,SyntaxHighlighter:w,CodeHeader:y},language:m||"unknown",code:i})},i5=({node:e,components:t,componentsByLanguage:n,...r})=>P1()?c.jsx(o5,{node:e,components:t,componentsByLanguage:n,...r}):c.jsx(t.Code,{...r}),a5=f.memo(i5,(e,t)=>e.components===t.components&&e.componentsByLanguage===t.componentsByLanguage&&Fg(e,t)),{useSmooth:l5,useSmoothStatus:c5,withSmoothContextProvider:u5}=sm,d5=({components:e,componentsByLanguage:t,smooth:n=!0,preprocess:r,...s})=>{const o=o0(),i=f.useMemo(()=>r?{...o,text:r(o.text)}:o,[o,r]),{text:a}=l5(i,n),{pre:l=t5,code:u=n5,SyntaxHighlighter:d=zg,CodeHeader:h=r5}=e??{},p=f.useMemo(()=>({Pre:l,Code:u,SyntaxHighlighter:d,CodeHeader:h}),[l,u,d,h]),m=Ye(y=>c.jsx(a5,{components:p,componentsByLanguage:t,...y})),w=f.useMemo(()=>{const{pre:y,code:b,SyntaxHighlighter:g,CodeHeader:v,...x}=e??{};return{...x,pre:e5,code:m}},[m,e]);return c.jsx(W4,{components:w,...s,children:a})},A1=f.forwardRef(({className:e,containerProps:t,containerComponent:n="div",...r},s)=>{const o=c5();return c.jsx(n,{"data-status":o.type,...t,className:X(e,t==null?void 0:t.className),ref:s,children:c.jsx(d5,{...r})})});A1.displayName="MarkdownTextPrimitive";const f5=u5(A1);var{withSmoothContextProvider:h5,useSmoothStatus:p5}=sm,m5=J4({h1:({className:e,...t})=>c.jsx("h1",{className:X("aui-md-h1",e),...t}),h2:({className:e,...t})=>c.jsx("h2",{className:X("aui-md-h2",e),...t}),h3:({className:e,...t})=>c.jsx("h3",{className:X("aui-md-h3",e),...t}),h4:({className:e,...t})=>c.jsx("h4",{className:X("aui-md-h4",e),...t}),h5:({className:e,...t})=>c.jsx("h5",{className:X("aui-md-h5",e),...t}),h6:({className:e,...t})=>c.jsx("h6",{className:X("aui-md-h6",e),...t}),p:({className:e,...t})=>c.jsx("p",{className:X("aui-md-p",e),...t}),a:({className:e,...t})=>c.jsx("a",{className:X("aui-md-a",e),...t}),blockquote:({className:e,...t})=>c.jsx("blockquote",{className:X("aui-md-blockquote",e),...t}),ul:({className:e,...t})=>c.jsx("ul",{className:X("aui-md-ul",e),...t}),ol:({className:e,...t})=>c.jsx("ol",{className:X("aui-md-ol",e),...t}),hr:({className:e,...t})=>c.jsx("hr",{className:X("aui-md-hr",e),...t}),table:({className:e,...t})=>c.jsx("table",{className:X("aui-md-table",e),...t}),th:({className:e,...t})=>c.jsx("th",{className:X("aui-md-th",e),...t}),td:({className:e,...t})=>c.jsx("td",{className:X("aui-md-td",e),...t}),tr:({className:e,...t})=>c.jsx("tr",{className:X("aui-md-tr",e),...t}),sup:({className:e,...t})=>c.jsx("sup",{className:X("aui-md-sup",e),...t}),pre:({className:e,...t})=>c.jsx("pre",{className:X("aui-md-pre",e),...t}),code:function({className:t,...n}){const r=P1();return c.jsx("code",{className:X(!r&&"aui-md-inline-code",t),...n})},CodeHeader:lB}),g5=({className:e,components:t,...n}={})=>{const r={...m5,...Object.fromEntries(Object.entries(t??{}).filter(([o,i])=>i!==void 0))},s=()=>{const o=p5();return c.jsx(f5,{components:r,...n,className:X(o.type==="running"&&"aui-md-running",e)})};return s.displayName="MarkdownText",f.memo(h5(s),()=>!0)};function j1(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function $h(e,[t,n]){return Math.min(n,Math.max(t,e))}function y5(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var $g="ScrollArea",[M1]=ur($g),[v5,bn]=M1($g),O1=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=e,[a,l]=f.useState(null),[u,d]=f.useState(null),[h,p]=f.useState(null),[m,w]=f.useState(null),[y,b]=f.useState(null),[g,v]=f.useState(0),[x,C]=f.useState(0),[R,k]=f.useState(!1),[N,I]=f.useState(!1),M=we(t,L=>l(L)),A=Lu(s);return c.jsx(v5,{scope:n,type:r,dir:A,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:d,content:h,onContentChange:p,scrollbarX:m,onScrollbarXChange:w,scrollbarXEnabled:R,onScrollbarXEnabledChange:k,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:N,onScrollbarYEnabledChange:I,onCornerWidthChange:v,onCornerHeightChange:C,children:c.jsx(ce.div,{dir:A,...i,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});O1.displayName=$g;var L1="ScrollAreaViewport",D1=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...o}=e,i=bn(L1,n),a=f.useRef(null),l=we(t,a,i.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),c.jsx(ce.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:c.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});D1.displayName=L1;var hr="ScrollAreaScrollbar",F1=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=bn(hr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=e.orientation==="horizontal";return f.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?c.jsx(x5,{...r,ref:t,forceMount:n}):s.type==="scroll"?c.jsx(w5,{...r,ref:t,forceMount:n}):s.type==="auto"?c.jsx(B1,{...r,ref:t,forceMount:n}):s.type==="always"?c.jsx(Ug,{...r,ref:t}):null});F1.displayName=hr;var x5=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=bn(hr,e.__scopeScrollArea),[o,i]=f.useState(!1);return f.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),i(!0)},d=()=>{l=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),c.jsx(fr,{present:n||o,children:c.jsx(B1,{"data-state":o?"visible":"hidden",...r,ref:t})})}),w5=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=bn(hr,e.__scopeScrollArea),o=e.orientation==="horizontal",i=td(()=>l("SCROLL_END"),100),[a,l]=y5("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,l]),f.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let h=u[d];const p=()=>{const m=u[d];h!==m&&(l("SCROLL"),i()),h=m};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,o,l,i]),c.jsx(fr,{present:n||a!=="hidden",children:c.jsx(Ug,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Z(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Z(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),B1=f.forwardRef((e,t)=>{const n=bn(hr,e.__scopeScrollArea),{forceMount:r,...s}=e,[o,i]=f.useState(!1),a=e.orientation==="horizontal",l=td(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?u:d)}},10);return fi(n.viewport,l),fi(n.content,l),c.jsx(fr,{present:r||o,children:c.jsx(Ug,{"data-state":o?"visible":"hidden",...s,ref:t})})}),Ug=f.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=bn(hr,e.__scopeScrollArea),o=f.useRef(null),i=f.useRef(0),[a,l]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=V1(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:p=>o.current=p,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:p=>i.current=p};function h(p,m){return E5(p,i.current,a,m)}return n==="horizontal"?c.jsx(b5,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollLeft,m=Tw(p,a,s.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):n==="vertical"?c.jsx(_5,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollTop,m=Tw(p,a);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),b5=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=bn(hr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),u=we(t,l,o.onScrollbarXChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),c.jsx($1,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ed(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(o.viewport){const p=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),K1(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:au(i.paddingLeft),paddingEnd:au(i.paddingRight)}})}})}),_5=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=bn(hr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),u=we(t,l,o.onScrollbarYChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),c.jsx($1,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ed(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(o.viewport){const p=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),K1(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:au(i.paddingTop),paddingEnd:au(i.paddingBottom)}})}})}),[S5,z1]=M1(hr),$1=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:h,...p}=e,m=bn(hr,n),[w,y]=f.useState(null),b=we(t,M=>y(M)),g=f.useRef(null),v=f.useRef(""),x=m.viewport,C=r.content-r.viewport,R=Ye(d),k=Ye(l),N=td(h,10);function I(M){if(g.current){const A=M.clientX-g.current.left,L=M.clientY-g.current.top;u({x:A,y:L})}}return f.useEffect(()=>{const M=A=>{const L=A.target;(w==null?void 0:w.contains(L))&&R(A,C)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[x,w,C,R]),f.useEffect(k,[r,k]),fi(w,N),fi(m.content,N),c.jsx(S5,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:Ye(o),onThumbPointerUp:Ye(i),onThumbPositionChange:k,onThumbPointerDown:Ye(a),children:c.jsx(ce.div,{...p,ref:b,style:{position:"absolute",...p.style},onPointerDown:Z(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),g.current=w.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),I(M))}),onPointerMove:Z(e.onPointerMove,I),onPointerUp:Z(e.onPointerUp,M=>{const A=M.target;A.hasPointerCapture(M.pointerId)&&A.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),g.current=null})})})}),iu="ScrollAreaThumb",U1=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=z1(iu,e.__scopeScrollArea);return c.jsx(fr,{present:n||s.hasThumb,children:c.jsx(C5,{ref:t,...r})})}),C5=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,o=bn(iu,n),i=z1(iu,n),{onThumbPositionChange:a}=i,l=we(t,h=>i.onThumbChange(h)),u=f.useRef(void 0),d=td(()=>{u.current&&(u.current(),u.current=void 0)},100);return f.useEffect(()=>{const h=o.viewport;if(h){const p=()=>{if(d(),!u.current){const m=T5(h,a);u.current=m,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[o.viewport,d,a]),c.jsx(ce.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Z(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),w=h.clientX-m.left,y=h.clientY-m.top;i.onThumbPointerDown({x:w,y})}),onPointerUp:Z(e.onPointerUp,i.onThumbPointerUp)})});U1.displayName=iu;var Hg="ScrollAreaCorner",H1=f.forwardRef((e,t)=>{const n=bn(Hg,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?c.jsx(k5,{...e,ref:t}):null});H1.displayName=Hg;var k5=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=bn(Hg,n),[o,i]=f.useState(0),[a,l]=f.useState(0),u=!!(o&&a);return fi(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),fi(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?c.jsx(ce.div,{...r,ref:t,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function au(e){return e?parseInt(e,10):0}function V1(e,t){const n=e/t;return isNaN(n)?0:n}function ed(e){const t=V1(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function E5(e,t,n,r="ltr"){const s=ed(n),o=s/2,i=t||o,a=s-i,l=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return W1([l,u],h)(e)}function Tw(e,t,n="ltr"){const r=ed(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,a=o-r,l=n==="ltr"?[0,i]:[i*-1,0],u=$h(e,l);return W1([0,i],[0,a])(u)}function W1(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function K1(e,t){return e>0&&e<t}var T5=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=n.left!==o.left,a=n.top!==o.top;(i||a)&&t(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function td(e,t){const n=Ye(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function fi(e,t){const n=Ye(t);nt(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var q1=O1,G1=D1,Uh=F1,Hh=U1,N5=H1,R5=[" ","Enter","ArrowUp","ArrowDown"],I5=[" ","Enter"],to="Select",[nd,rd,P5]=aC(to),[Si]=ur(to,[P5,Uu]),sd=Uu(),[A5,Ts]=Si(to),[j5,M5]=Si(to),Y1=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:p,required:m,form:w}=e,y=sd(t),[b,g]=f.useState(null),[v,x]=f.useState(null),[C,R]=f.useState(!1),k=Lu(u),[N,I]=Js({prop:r,defaultProp:s??!1,onChange:o,caller:to}),[M,A]=Js({prop:i,defaultProp:a,onChange:l,caller:to}),L=f.useRef(null),E=b?w||!!b.closest("form"):!0,[W,U]=f.useState(new Set),q=Array.from(W).map(K=>K.props.value).join(";");return c.jsx(OC,{...y,children:c.jsxs(A5,{required:m,scope:t,trigger:b,onTriggerChange:g,valueNode:v,onValueNodeChange:x,valueNodeHasChildren:C,onValueNodeHasChildrenChange:R,contentId:Er(),value:M,onValueChange:A,open:N,onOpenChange:I,dir:k,triggerPointerDownPosRef:L,disabled:p,children:[c.jsx(nd.Provider,{scope:t,children:c.jsx(j5,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(K=>{U(Q=>new Set(Q).add(K))},[]),onNativeOptionRemove:f.useCallback(K=>{U(Q=>{const j=new Set(Q);return j.delete(K),j})},[]),children:n})}),E?c.jsxs(vE,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:M,onChange:K=>A(K.target.value),disabled:p,form:w,children:[M===void 0?c.jsx("option",{value:""}):null,Array.from(W)]},q):null]})})};Y1.displayName=to;var X1="SelectTrigger",Q1=f.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=sd(n),i=Ts(X1,n),a=i.disabled||r,l=we(t,i.onTriggerChange),u=rd(n),d=f.useRef("touch"),[h,p,m]=wE(y=>{const b=u().filter(x=>!x.disabled),g=b.find(x=>x.value===i.value),v=bE(b,y,g);v!==void 0&&i.onValueChange(v.value)}),w=y=>{a||(i.onOpenChange(!0),m()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return c.jsx(LC,{asChild:!0,...o,children:c.jsx(ce.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":xE(i.value)?"":void 0,...s,ref:l,onClick:Z(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&w(y)}),onPointerDown:Z(s.onPointerDown,y=>{d.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:Z(s.onKeyDown,y=>{const b=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(b&&y.key===" ")&&R5.includes(y.key)&&(w(),y.preventDefault())})})})});Q1.displayName=X1;var J1="SelectValue",Z1=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=e,l=Ts(J1,n),{onValueNodeHasChildrenChange:u}=l,d=o!==void 0,h=we(t,l.onValueNodeChange);return nt(()=>{u(d)},[u,d]),c.jsx(ce.span,{...a,ref:h,style:{pointerEvents:"none"},children:xE(l.value)?c.jsx(c.Fragment,{children:i}):o})});Z1.displayName=J1;var O5="SelectIcon",eE=f.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return c.jsx(ce.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});eE.displayName=O5;var L5="SelectPortal",tE=e=>c.jsx(ym,{asChild:!0,...e});tE.displayName=L5;var no="SelectContent",nE=f.forwardRef((e,t)=>{const n=Ts(no,e.__scopeSelect),[r,s]=f.useState();if(nt(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?yi.createPortal(c.jsx(rE,{scope:e.__scopeSelect,children:c.jsx(nd.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),o):null}return c.jsx(sE,{...e,ref:t})});nE.displayName=no;var Nn=10,[rE,Ns]=Si(no),D5="SelectContentImpl",F5=li("SelectContent.RemoveScroll"),sE=f.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:y,avoidCollisions:b,...g}=e,v=Ts(no,n),[x,C]=f.useState(null),[R,k]=f.useState(null),N=we(t,J=>C(J)),[I,M]=f.useState(null),[A,L]=f.useState(null),E=rd(n),[W,U]=f.useState(!1),q=f.useRef(!1);f.useEffect(()=>{if(x)return KC(x)},[x]),dC();const K=f.useCallback(J=>{const[ge,...Oe]=E().map(Te=>Te.ref.current),[_e]=Oe.slice(-1),ye=document.activeElement;for(const Te of J)if(Te===ye||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===ge&&R&&(R.scrollTop=0),Te===_e&&R&&(R.scrollTop=R.scrollHeight),Te==null||Te.focus(),document.activeElement!==ye))return},[E,R]),Q=f.useCallback(()=>K([I,x]),[K,I,x]);f.useEffect(()=>{W&&Q()},[W,Q]);const{onOpenChange:j,triggerPointerDownPosRef:$}=v;f.useEffect(()=>{if(x){let J={x:0,y:0};const ge=_e=>{var ye,Te;J={x:Math.abs(Math.round(_e.pageX)-(((ye=$.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(_e.pageY)-(((Te=$.current)==null?void 0:Te.y)??0))}},Oe=_e=>{J.x<=10&&J.y<=10?_e.preventDefault():x.contains(_e.target)||j(!1),document.removeEventListener("pointermove",ge),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",Oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",Oe,{capture:!0})}}},[x,j,$]),f.useEffect(()=>{const J=()=>j(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[j]);const[S,oe]=wE(J=>{const ge=E().filter(ye=>!ye.disabled),Oe=ge.find(ye=>ye.ref.current===document.activeElement),_e=bE(ge,J,Oe);_e&&setTimeout(()=>_e.ref.current.focus())}),me=f.useCallback((J,ge,Oe)=>{const _e=!q.current&&!Oe;(v.value!==void 0&&v.value===ge||_e)&&(M(J),_e&&(q.current=!0))},[v.value]),T=f.useCallback(()=>x==null?void 0:x.focus(),[x]),Pe=f.useCallback((J,ge,Oe)=>{const _e=!q.current&&!Oe;(v.value!==void 0&&v.value===ge||_e)&&L(J)},[v.value]),Xe=r==="popper"?Vh:oE,be=Xe===Vh?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:w,hideWhenDetached:y,avoidCollisions:b}:{};return c.jsx(rE,{scope:n,content:x,viewport:R,onViewportChange:k,itemRefCallback:me,selectedItem:I,onItemLeave:T,itemTextRefCallback:Pe,focusSelectedItem:Q,selectedItemText:A,position:r,isPositioned:W,searchRef:S,children:c.jsx(vm,{as:F5,allowPinchZoom:!0,children:c.jsx(lm,{asChild:!0,trapped:v.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:Z(s,J=>{var ge;(ge=v.trigger)==null||ge.focus({preventScroll:!0}),J.preventDefault()}),children:c.jsx(Du,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:c.jsx(Xe,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:J=>J.preventDefault(),...g,...be,onPlaced:()=>U(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:Z(g.onKeyDown,J=>{const ge=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!ge&&J.key.length===1&&oe(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let _e=E().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(J.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const ye=J.target,Te=_e.indexOf(ye);_e=_e.slice(Te+1)}setTimeout(()=>K(_e)),J.preventDefault()}})})})})})})});sE.displayName=D5;var B5="SelectItemAlignedPosition",oE=f.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=Ts(no,n),i=Ns(no,n),[a,l]=f.useState(null),[u,d]=f.useState(null),h=we(t,N=>d(N)),p=rd(n),m=f.useRef(!1),w=f.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:g,focusSelectedItem:v}=i,x=f.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&y&&b&&g){const N=o.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),M=o.valueNode.getBoundingClientRect(),A=g.getBoundingClientRect();if(o.dir!=="rtl"){const ye=A.left-I.left,Te=M.left-ye,lt=N.left-Te,Lt=N.width+lt,Kt=Math.max(Lt,I.width),_n=window.innerWidth-Nn,Wn=$h(Te,[Nn,Math.max(Nn,_n-Kt)]);a.style.minWidth=Lt+"px",a.style.left=Wn+"px"}else{const ye=I.right-A.right,Te=window.innerWidth-M.right-ye,lt=window.innerWidth-N.right-Te,Lt=N.width+lt,Kt=Math.max(Lt,I.width),_n=window.innerWidth-Nn,Wn=$h(Te,[Nn,Math.max(Nn,_n-Kt)]);a.style.minWidth=Lt+"px",a.style.right=Wn+"px"}const L=p(),E=window.innerHeight-Nn*2,W=y.scrollHeight,U=window.getComputedStyle(u),q=parseInt(U.borderTopWidth,10),K=parseInt(U.paddingTop,10),Q=parseInt(U.borderBottomWidth,10),j=parseInt(U.paddingBottom,10),$=q+K+W+j+Q,S=Math.min(b.offsetHeight*5,$),oe=window.getComputedStyle(y),me=parseInt(oe.paddingTop,10),T=parseInt(oe.paddingBottom,10),Pe=N.top+N.height/2-Nn,Xe=E-Pe,be=b.offsetHeight/2,J=b.offsetTop+be,ge=q+K+J,Oe=$-ge;if(ge<=Pe){const ye=L.length>0&&b===L[L.length-1].ref.current;a.style.bottom="0px";const Te=u.clientHeight-y.offsetTop-y.offsetHeight,lt=Math.max(Xe,be+(ye?T:0)+Te+Q),Lt=ge+lt;a.style.height=Lt+"px"}else{const ye=L.length>0&&b===L[0].ref.current;a.style.top="0px";const lt=Math.max(Pe,q+y.offsetTop+(ye?me:0)+be)+Oe;a.style.height=lt+"px",y.scrollTop=ge-Pe+y.offsetTop}a.style.margin=`${Nn}px 0`,a.style.minHeight=S+"px",a.style.maxHeight=E+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,a,u,y,b,g,o.dir,r]);nt(()=>x(),[x]);const[C,R]=f.useState();nt(()=>{u&&R(window.getComputedStyle(u).zIndex)},[u]);const k=f.useCallback(N=>{N&&w.current===!0&&(x(),v==null||v(),w.current=!1)},[x,v]);return c.jsx($5,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:c.jsx(ce.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});oE.displayName=B5;var z5="SelectPopperPosition",Vh=f.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Nn,...o}=e,i=sd(n);return c.jsx(DC,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Vh.displayName=z5;var[$5,Vg]=Si(no,{}),Wh="SelectViewport",iE=f.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=Ns(Wh,n),i=Vg(Wh,n),a=we(t,o.onViewportChange),l=f.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(nd.Slot,{scope:n,children:c.jsx(ce.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Z(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&h){const m=Math.abs(l.current-d.scrollTop);if(m>0){const w=window.innerHeight-Nn*2,y=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),g=Math.max(y,b);if(g<w){const v=g+m,x=Math.min(w,v),C=v-x;h.style.height=x+"px",h.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});iE.displayName=Wh;var aE="SelectGroup",[U5,H5]=Si(aE),lE=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Er();return c.jsx(U5,{scope:n,id:s,children:c.jsx(ce.div,{role:"group","aria-labelledby":s,...r,ref:t})})});lE.displayName=aE;var cE="SelectLabel",uE=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=H5(cE,n);return c.jsx(ce.div,{id:s.id,...r,ref:t})});uE.displayName=cE;var lu="SelectItem",[V5,dE]=Si(lu),fE=f.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,a=Ts(lu,n),l=Ns(lu,n),u=a.value===r,[d,h]=f.useState(o??""),[p,m]=f.useState(!1),w=we(t,v=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,v,r,s)}),y=Er(),b=f.useRef("touch"),g=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(V5,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:f.useCallback(v=>{h(x=>x||((v==null?void 0:v.textContent)??"").trim())},[]),children:c.jsx(nd.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:c.jsx(ce.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:Z(i.onFocus,()=>m(!0)),onBlur:Z(i.onBlur,()=>m(!1)),onClick:Z(i.onClick,()=>{b.current!=="mouse"&&g()}),onPointerUp:Z(i.onPointerUp,()=>{b.current==="mouse"&&g()}),onPointerDown:Z(i.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:Z(i.onPointerMove,v=>{var x;b.current=v.pointerType,s?(x=l.onItemLeave)==null||x.call(l):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Z(i.onPointerLeave,v=>{var x;v.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:Z(i.onKeyDown,v=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&v.key===" "||(I5.includes(v.key)&&g(),v.key===" "&&v.preventDefault())})})})})});fE.displayName=lu;var Ji="SelectItemText",hE=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=Ts(Ji,n),a=Ns(Ji,n),l=dE(Ji,n),u=M5(Ji,n),[d,h]=f.useState(null),p=we(t,g=>h(g),l.onItemTextChange,g=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,g,l.value,l.disabled)}),m=d==null?void 0:d.textContent,w=f.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=u;return nt(()=>(y(w),()=>b(w)),[y,b,w]),c.jsxs(c.Fragment,{children:[c.jsx(ce.span,{id:l.textId,...o,ref:p}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?yi.createPortal(o.children,i.valueNode):null]})});hE.displayName=Ji;var pE="SelectItemIndicator",mE=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return dE(pE,n).isSelected?c.jsx(ce.span,{"aria-hidden":!0,...r,ref:t}):null});mE.displayName=pE;var Kh="SelectScrollUpButton",W5=f.forwardRef((e,t)=>{const n=Ns(Kh,e.__scopeSelect),r=Vg(Kh,e.__scopeSelect),[s,o]=f.useState(!1),i=we(t,r.onScrollButtonChange);return nt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;o(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(gE,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});W5.displayName=Kh;var qh="SelectScrollDownButton",K5=f.forwardRef((e,t)=>{const n=Ns(qh,e.__scopeSelect),r=Vg(qh,e.__scopeSelect),[s,o]=f.useState(!1),i=we(t,r.onScrollButtonChange);return nt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;o(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(gE,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});K5.displayName=qh;var gE=f.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=Ns("SelectScrollButton",n),i=f.useRef(null),a=rd(n),l=f.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return f.useEffect(()=>()=>l(),[l]),nt(()=>{var d;const u=a().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),c.jsx(ce.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Z(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Z(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Z(s.onPointerLeave,()=>{l()})})}),q5="SelectSeparator",yE=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return c.jsx(ce.div,{"aria-hidden":!0,...r,ref:t})});yE.displayName=q5;var Gh="SelectArrow",G5=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=sd(n),o=Ts(Gh,n),i=Ns(Gh,n);return o.open&&i.position==="popper"?c.jsx(FC,{...s,...r,ref:t}):null});G5.displayName=Gh;var Y5="SelectBubbleInput",vE=f.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=f.useRef(null),o=we(r,s),i=j1(t);return f.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==t&&d){const h=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(h)}},[i,t]),c.jsx(ce.select,{...n,style:{...A0,...n.style},ref:o,defaultValue:t})});vE.displayName=Y5;function xE(e){return e===""||e===void 0}function wE(e){const t=Ye(e),n=f.useRef(""),r=f.useRef(0),s=f.useCallback(i=>{const a=n.current+i;t(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),o=f.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function bE(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=X5(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const l=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function X5(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Q5=Y1,J5=Q1,Z5=Z1,eU=eE,tU=tE,nU=nE,rU=iE,sU=lE,oU=uE,iU=fE,aU=hE,lU=mE,cU=yE,od="Switch",[uU]=ur(od),[dU,fU]=uU(od),_E=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:i,disabled:a,value:l="on",onCheckedChange:u,form:d,...h}=e,[p,m]=f.useState(null),w=we(t,x=>m(x)),y=f.useRef(!1),b=p?d||!!p.closest("form"):!0,[g,v]=Js({prop:s,defaultProp:o??!1,onChange:u,caller:od});return c.jsxs(dU,{scope:n,checked:g,disabled:a,children:[c.jsx(ce.button,{type:"button",role:"switch","aria-checked":g,"aria-required":i,"data-state":EE(g),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:w,onClick:Z(e.onClick,x=>{v(C=>!C),b&&(y.current=x.isPropagationStopped(),y.current||x.stopPropagation())})}),b&&c.jsx(kE,{control:p,bubbles:!y.current,name:r,value:l,checked:g,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});_E.displayName=od;var SE="SwitchThumb",CE=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=fU(SE,n);return c.jsx(ce.span,{"data-state":EE(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});CE.displayName=SE;var hU="SwitchBubbleInput",kE=f.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},o)=>{const i=f.useRef(null),a=we(i,o),l=j1(n),u=kC(t);return f.useEffect(()=>{const d=i.current;if(!d)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&m){const w=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(w)}},[l,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kE.displayName=hU;function EE(e){return e?"checked":"unchecked"}var pU=_E,mU=CE,id="Tabs",[gU]=ur(id,[zC]),TE=zC(),[yU,Wg]=gU(id),NE=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:l="automatic",...u}=e,d=Lu(a),[h,p]=Js({prop:r,onChange:s,defaultProp:o??"",caller:id});return c.jsx(yU,{scope:n,baseId:Er(),value:h,onValueChange:p,orientation:i,dir:d,activationMode:l,children:c.jsx(ce.div,{dir:d,"data-orientation":i,...u,ref:t})})});NE.displayName=id;var RE="TabsList",IE=f.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=Wg(RE,n),i=TE(n);return c.jsx(WM,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:c.jsx(ce.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});IE.displayName=RE;var PE="TabsTrigger",AE=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=Wg(PE,n),a=TE(n),l=OE(i.baseId,r),u=LE(i.baseId,r),d=r===i.value;return c.jsx(KM,{asChild:!0,...a,focusable:!s,active:d,children:c.jsx(ce.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...o,ref:t,onMouseDown:Z(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(r):h.preventDefault()}),onKeyDown:Z(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(r)}),onFocus:Z(e.onFocus,()=>{const h=i.activationMode!=="manual";!d&&!s&&h&&i.onValueChange(r)})})})});AE.displayName=PE;var jE="TabsContent",ME=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,a=Wg(jE,n),l=OE(a.baseId,r),u=LE(a.baseId,r),d=r===a.value,h=f.useRef(d);return f.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),c.jsx(fr,{present:s||d,children:({present:p})=>c.jsx(ce.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&o})})});ME.displayName=jE;function OE(e,t){return`${e}-trigger-${t}`}function LE(e,t){return`${e}-content-${t}`}var vU=NE,xU=IE,wU=AE,bU=ME;const Lr={asChild:{type:"boolean"}},vc={width:{type:"string",className:"rt-r-w",customProperties:["--width"],responsive:!0},minWidth:{type:"string",className:"rt-r-min-w",customProperties:["--min-width"],responsive:!0},maxWidth:{type:"string",className:"rt-r-max-w",customProperties:["--max-width"],responsive:!0}},DE={height:{type:"string",className:"rt-r-h",customProperties:["--height"],responsive:!0},minHeight:{type:"string",className:"rt-r-min-h",customProperties:["--min-height"],responsive:!0},maxHeight:{type:"string",className:"rt-r-max-h",customProperties:["--max-height"],responsive:!0}},_U=["1","2","3","4"],SU={...Lr,align:{type:"enum",className:"rt-r-align",values:["start","center"],default:"center"},size:{type:"enum",className:"rt-r-size",values:_U,default:"3",responsive:!0},width:vc.width,minWidth:vc.minWidth,maxWidth:{...vc.maxWidth,default:"600px"},...DE},FE=["gray","gold","bronze","brown","yellow","amber","orange","tomato","red","ruby","crimson","pink","plum","purple","violet","iris","indigo","blue","cyan","teal","jade","green","grass","lime","mint","sky"],Dr={color:{type:"enum",values:FE,default:void 0}},Kg={color:{type:"enum",values:FE,default:""}},Rs={highContrast:{type:"boolean",className:"rt-high-contrast",default:void 0}},CU=["normal","start","end","both"],BE={trim:{type:"enum",className:"rt-r-lt",values:CU,responsive:!0}},kU=["left","center","right"],zE={align:{type:"enum",className:"rt-r-ta",values:kU,responsive:!0}},EU=["wrap","nowrap","pretty","balance"],$E={wrap:{type:"enum",className:"rt-r-tw",values:EU,responsive:!0}},UE={truncate:{type:"boolean",className:"rt-truncate"}},TU=["light","regular","medium","bold"],HE={weight:{type:"enum",className:"rt-r-weight",values:TU,responsive:!0}},NU=["h1","h2","h3","h4","h5","h6"],RU=["1","2","3","4","5","6","7","8","9"],IU={as:{type:"enum",values:NU,default:"h1"},...Lr,size:{type:"enum",className:"rt-r-size",values:RU,default:"6",responsive:!0},...HE,...zE,...BE,...UE,...$E,...Dr,...Rs},PU=["initial","xs","sm","md","lg","xl"],qg=new Set(PU);function VE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ga(e){return typeof e=="object"&&e!==null&&Object.keys(e).some(t=>qg.has(t))}function Xr({className:e,customProperties:t,...n}){const r=cu({allowArbitraryValues:!0,className:e,...n}),s=AU({customProperties:t,...n});return[r,s]}function cu({allowArbitraryValues:e,value:t,className:n,propValues:r,parseValue:s=o=>o}){const o=[];if(t){if(typeof t=="string"&&r.includes(t))return Nw(n,t,s);if(ga(t)){const i=t;for(const a in i){if(!VE(i,a)||!qg.has(a))continue;const l=i[a];if(l!==void 0){if(r.includes(l)){const u=Nw(n,l,s),d=a==="initial"?u:`${a}:${u}`;o.push(d)}else if(e){const u=a==="initial"?n:`${a}:${n}`;o.push(u)}}}return o.join(" ")}if(e)return n}}function Nw(e,t,n){const r=e?"-":"",s=n(t),o=s==null?void 0:s.startsWith("-"),i=o?"-":"",a=o?s==null?void 0:s.substring(1):s;return`${i}${e}${r}${a}`}function AU({customProperties:e,value:t,propValues:n,parseValue:r=s=>s}){let s={};if(!(!t||typeof t=="string"&&n.includes(t))){if(typeof t=="string"&&(s=Object.fromEntries(e.map(o=>[o,t]))),ga(t)){const o=t;for(const i in o){if(!VE(o,i)||!qg.has(i))continue;const a=o[i];if(!n.includes(a))for(const l of e)s={[i==="initial"?l:`${l}-${i}`]:a,...s}}}for(const o in s){const i=s[o];i!==void 0&&(s[o]=r(i))}return s}}function uu(...e){let t={};for(const n of e)n&&(t={...t,...n});return Object.keys(t).length?t:void 0}function jU(...e){return Object.assign({},...e)}function at(e,...t){let n,r;const s={...e},o=jU(...t);for(const i in o){let a=s[i];const l=o[i];if(l.default!==void 0&&a===void 0&&(a=l.default),l.type==="enum"&&![l.default,...l.values].includes(a)&&!ga(a)&&(a=l.default),s[i]=a,"className"in l&&l.className){delete s[i];const u="responsive"in l;if(!a||ga(a)&&!u)continue;if(ga(a)&&(l.default!==void 0&&a.initial===void 0&&(a.initial=l.default),l.type==="enum"&&([l.default,...l.values].includes(a.initial)||(a.initial=l.default))),l.type==="enum"){const d=cu({allowArbitraryValues:!1,value:a,className:l.className,propValues:l.values,parseValue:l.parseValue});n=X(n,d);continue}if(l.type==="string"||l.type==="enum | string"){const d=l.type==="string"?[]:l.values,[h,p]=Xr({className:l.className,customProperties:l.customProperties,propValues:d,parseValue:l.parseValue,value:a});r=uu(r,p),n=X(n,h);continue}if(l.type==="boolean"&&a){n=X(n,l.className);continue}}}return s.className=X(n,e.className),s.style=uu(r,e.style),s}const js=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],Nt={m:{type:"enum | string",values:js,responsive:!0,className:"rt-r-m",customProperties:["--m"]},mx:{type:"enum | string",values:js,responsive:!0,className:"rt-r-mx",customProperties:["--ml","--mr"]},my:{type:"enum | string",values:js,responsive:!0,className:"rt-r-my",customProperties:["--mt","--mb"]},mt:{type:"enum | string",values:js,responsive:!0,className:"rt-r-mt",customProperties:["--mt"]},mr:{type:"enum | string",values:js,responsive:!0,className:"rt-r-mr",customProperties:["--mr"]},mb:{type:"enum | string",values:js,responsive:!0,className:"rt-r-mb",customProperties:["--mb"]},ml:{type:"enum | string",values:js,responsive:!0,className:"rt-r-ml",customProperties:["--ml"]}},Gg=f.forwardRef((e,t)=>{const{children:n,className:r,asChild:s,as:o="h1",color:i,...a}=at(e,IU,Nt);return f.createElement(ks,{"data-accent-color":i,...a,ref:t,className:X("rt-Heading",r)},s?n:f.createElement(o,null,n))});Gg.displayName="Heading";const MU=["span","div","label","p"],OU=["1","2","3","4","5","6","7","8","9"],LU={as:{type:"enum",values:MU,default:"span"},...Lr,size:{type:"enum",className:"rt-r-size",values:OU,responsive:!0},...HE,...zE,...BE,...UE,...$E,...Dr,...Rs},Y=f.forwardRef((e,t)=>{const{children:n,className:r,asChild:s,as:o="span",color:i,...a}=at(e,LU,Nt);return f.createElement(ks,{"data-accent-color":i,...a,ref:t,className:X("rt-Text",r)},s?n:f.createElement(o,null,n))});Y.displayName="Text";function DU(e){switch(e){case"tomato":case"red":case"ruby":case"crimson":case"pink":case"plum":case"purple":case"violet":return"mauve";case"iris":case"indigo":case"blue":case"sky":case"cyan":return"slate";case"teal":case"jade":case"mint":case"green":return"sage";case"grass":case"lime":return"olive";case"yellow":case"amber":case"orange":case"brown":case"gold":case"bronze":return"sand";case"gray":return"gray"}}const FU=["none","small","medium","large","full"],Ci={radius:{type:"enum",values:FU,default:void 0}},Zt={hasBackground:{default:!0},appearance:{default:"inherit"},accentColor:{default:"indigo"},grayColor:{default:"auto"},panelBackground:{default:"translucent"},radius:{default:"medium"},scaling:{default:"100%"}},So=()=>{},du=f.createContext(void 0);function BU(){const e=f.useContext(du);if(e===void 0)throw new Error("`useThemeContext` must be used within a `Theme`");return e}const ad=f.forwardRef((e,t)=>f.useContext(du)===void 0?f.createElement(U0,{delayDuration:200},f.createElement(Yj,{dir:"ltr"},f.createElement(WE,{...e,ref:t}))):f.createElement(Yg,{...e,ref:t}));ad.displayName="Theme";const WE=f.forwardRef((e,t)=>{const{appearance:n=Zt.appearance.default,accentColor:r=Zt.accentColor.default,grayColor:s=Zt.grayColor.default,panelBackground:o=Zt.panelBackground.default,radius:i=Zt.radius.default,scaling:a=Zt.scaling.default,hasBackground:l=Zt.hasBackground.default,...u}=e,[d,h]=f.useState(n);f.useEffect(()=>h(n),[n]);const[p,m]=f.useState(r);f.useEffect(()=>m(r),[r]);const[w,y]=f.useState(s);f.useEffect(()=>y(s),[s]);const[b,g]=f.useState(o);f.useEffect(()=>g(o),[o]);const[v,x]=f.useState(i);f.useEffect(()=>x(i),[i]);const[C,R]=f.useState(a);return f.useEffect(()=>R(a),[a]),f.createElement(Yg,{...u,ref:t,isRoot:!0,hasBackground:l,appearance:d,accentColor:p,grayColor:w,panelBackground:b,radius:v,scaling:C,onAppearanceChange:h,onAccentColorChange:m,onGrayColorChange:y,onPanelBackgroundChange:g,onRadiusChange:x,onScalingChange:R})});WE.displayName="ThemeRoot";const Yg=f.forwardRef((e,t)=>{const n=f.useContext(du),{asChild:r,isRoot:s,hasBackground:o,appearance:i=(n==null?void 0:n.appearance)??Zt.appearance.default,accentColor:a=(n==null?void 0:n.accentColor)??Zt.accentColor.default,grayColor:l=(n==null?void 0:n.resolvedGrayColor)??Zt.grayColor.default,panelBackground:u=(n==null?void 0:n.panelBackground)??Zt.panelBackground.default,radius:d=(n==null?void 0:n.radius)??Zt.radius.default,scaling:h=(n==null?void 0:n.scaling)??Zt.scaling.default,onAppearanceChange:p=So,onAccentColorChange:m=So,onGrayColorChange:w=So,onPanelBackgroundChange:y=So,onRadiusChange:b=So,onScalingChange:g=So,...v}=e,x=r?ks:"div",C=l==="auto"?DU(a):l,R=e.appearance==="light"||e.appearance==="dark",k=o===void 0?s||R:o;return f.createElement(du.Provider,{value:f.useMemo(()=>({appearance:i,accentColor:a,grayColor:l,resolvedGrayColor:C,panelBackground:u,radius:d,scaling:h,onAppearanceChange:p,onAccentColorChange:m,onGrayColorChange:w,onPanelBackgroundChange:y,onRadiusChange:b,onScalingChange:g}),[i,a,l,C,u,d,h,p,m,w,y,b,g])},f.createElement(x,{"data-is-root-theme":s?"true":"false","data-accent-color":a,"data-gray-color":C,"data-has-background":k?"true":"false","data-panel-background":u,"data-radius":d,"data-scaling":h,ref:t,...v,className:X("radix-themes",{light:i==="light",dark:i==="dark"},v.className)}))});Yg.displayName="ThemeImpl";const KE=e=>{if(!f.isValidElement(e))throw Error(`Expected a single React Element child, but got: ${f.Children.toArray(e).map(t=>typeof t=="object"&&"type"in t&&typeof t.type=="string"?t.type:typeof t).join(", ")}`);return e};function zU(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=f.Children.only(r);return f.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}const $U=["1","2","3"],UU=["solid","soft","surface","outline"],HU={...Lr,size:{type:"enum",className:"rt-r-size",values:$U,default:"1",responsive:!0},variant:{type:"enum",className:"rt-variant",values:UU,default:"soft"},...Kg,...Rs,...Ci},Xg=f.forwardRef((e,t)=>{const{asChild:n,className:r,color:s,radius:o,...i}=at(e,HU,Nt),a=n?ks:"span";return f.createElement(a,{"data-accent-color":s,"data-radius":o,...i,ref:t,className:X("rt-reset","rt-Badge",r)})});Xg.displayName="Badge";const VU=ks,Ms=["0","1","2","3","4","5","6","7","8","9"],xc={p:{type:"enum | string",className:"rt-r-p",customProperties:["--p"],values:Ms,responsive:!0},px:{type:"enum | string",className:"rt-r-px",customProperties:["--pl","--pr"],values:Ms,responsive:!0},py:{type:"enum | string",className:"rt-r-py",customProperties:["--pt","--pb"],values:Ms,responsive:!0},pt:{type:"enum | string",className:"rt-r-pt",customProperties:["--pt"],values:Ms,responsive:!0},pr:{type:"enum | string",className:"rt-r-pr",customProperties:["--pr"],values:Ms,responsive:!0},pb:{type:"enum | string",className:"rt-r-pb",customProperties:["--pb"],values:Ms,responsive:!0},pl:{type:"enum | string",className:"rt-r-pl",customProperties:["--pl"],values:Ms,responsive:!0}},vf=["visible","hidden","clip","scroll","auto"],WU=["static","relative","absolute","fixed","sticky"],Wi=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],KU=["0","1"],qU=["0","1"],GU=["start","center","end","baseline","stretch"],YU=["start","center","end","baseline","stretch"],XU={...xc,...vc,...DE,position:{type:"enum",className:"rt-r-position",values:WU,responsive:!0},inset:{type:"enum | string",className:"rt-r-inset",customProperties:["--inset"],values:Wi,responsive:!0},top:{type:"enum | string",className:"rt-r-top",customProperties:["--top"],values:Wi,responsive:!0},right:{type:"enum | string",className:"rt-r-right",customProperties:["--right"],values:Wi,responsive:!0},bottom:{type:"enum | string",className:"rt-r-bottom",customProperties:["--bottom"],values:Wi,responsive:!0},left:{type:"enum | string",className:"rt-r-left",customProperties:["--left"],values:Wi,responsive:!0},overflow:{type:"enum",className:"rt-r-overflow",values:vf,responsive:!0},overflowX:{type:"enum",className:"rt-r-ox",values:vf,responsive:!0},overflowY:{type:"enum",className:"rt-r-oy",values:vf,responsive:!0},flexBasis:{type:"string",className:"rt-r-fb",customProperties:["--flex-basis"],responsive:!0},flexShrink:{type:"enum | string",className:"rt-r-fs",customProperties:["--flex-shrink"],values:KU,responsive:!0},flexGrow:{type:"enum | string",className:"rt-r-fg",customProperties:["--flex-grow"],values:qU,responsive:!0},gridArea:{type:"string",className:"rt-r-ga",customProperties:["--grid-area"],responsive:!0},gridColumn:{type:"string",className:"rt-r-gc",customProperties:["--grid-column"],responsive:!0},gridColumnStart:{type:"string",className:"rt-r-gcs",customProperties:["--grid-column-start"],responsive:!0},gridColumnEnd:{type:"string",className:"rt-r-gce",customProperties:["--grid-column-end"],responsive:!0},gridRow:{type:"string",className:"rt-r-gr",customProperties:["--grid-row"],responsive:!0},gridRowStart:{type:"string",className:"rt-r-grs",customProperties:["--grid-row-start"],responsive:!0},gridRowEnd:{type:"string",className:"rt-r-gre",customProperties:["--grid-row-end"],responsive:!0},alignSelf:{type:"enum",className:"rt-r-as",values:GU,responsive:!0},justifySelf:{type:"enum",className:"rt-r-js",values:YU,responsive:!0}},QU=["1","2","3","4"],JU=["classic","solid","soft","surface","outline","ghost"],Rw={...Lr,size:{type:"enum",className:"rt-r-size",values:QU,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:JU,default:"solid"},...Kg,...Rs,...Ci,loading:{type:"boolean",className:"rt-loading",default:!1}},xf=["0","1","2","3","4","5","6","7","8","9"],ZU={gap:{type:"enum | string",className:"rt-r-gap",customProperties:["--gap"],values:xf,responsive:!0},gapX:{type:"enum | string",className:"rt-r-cg",customProperties:["--column-gap"],values:xf,responsive:!0},gapY:{type:"enum | string",className:"rt-r-rg",customProperties:["--row-gap"],values:xf,responsive:!0}},e6=["div","span"],t6=["none","inline-flex","flex"],n6=["row","column","row-reverse","column-reverse"],r6=["start","center","end","baseline","stretch"],s6=["start","center","end","between"],o6=["nowrap","wrap","wrap-reverse"],qE={as:{type:"enum",values:e6,default:"div"},...Lr,display:{type:"enum",className:"rt-r-display",values:t6,responsive:!0},direction:{type:"enum",className:"rt-r-fd",values:n6,responsive:!0},align:{type:"enum",className:"rt-r-ai",values:r6,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:s6,parseValue:i6,responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:o6,responsive:!0},...ZU};function i6(e){return e==="between"?"space-between":e}const Ln=f.forwardRef((e,t)=>{const{className:n,asChild:r,as:s="div",...o}=at(e,qE,XU,Nt);return f.createElement(r?VU:s,{...o,ref:t,className:X("rt-Flex",n)})});Ln.displayName="Flex";const a6=["1","2","3"],l6={size:{type:"enum",className:"rt-r-size",values:a6,default:"2",responsive:!0},loading:{type:"boolean",default:!0}},GE=f.forwardRef((e,t)=>{const{className:n,children:r,loading:s,...o}=at(e,l6,Nt);if(!s)return r;const i=f.createElement("span",{...o,ref:t,className:X("rt-Spinner",n)},f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}));return r===void 0?i:f.createElement(Ln,{asChild:!0,position:"relative",align:"center",justify:"center"},f.createElement("span",null,f.createElement("span",{"aria-hidden":!0,style:{display:"contents",visibility:"hidden"},inert:void 0},r),f.createElement(Ln,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},f.createElement("span",null,i))))});GE.displayName="Spinner";const c6=M0;function YE(e,t){if(e!==void 0)return typeof e=="string"?t(e):Object.fromEntries(Object.entries(e).map(([n,r])=>[n,t(r)]))}function u6(e){return e==="3"?"3":"2"}function d6(e){switch(e){case"1":return"1";case"2":case"3":return"2";case"4":return"3"}}const XE=f.forwardRef((e,t)=>{const{size:n=Rw.size.default}=e,{className:r,children:s,asChild:o,color:i,radius:a,disabled:l=e.loading,...u}=at(e,Rw,Nt),d=o?ks:"button";return f.createElement(d,{"data-disabled":l||void 0,"data-accent-color":i,"data-radius":a,...u,ref:t,className:X("rt-reset","rt-BaseButton",r),disabled:l},e.loading?f.createElement(f.Fragment,null,f.createElement("span",{style:{display:"contents",visibility:"hidden"},"aria-hidden":!0},s),f.createElement(c6,null,s),f.createElement(Ln,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},f.createElement("span",null,f.createElement(GE,{size:YE(n,d6)})))):s)});XE.displayName="BaseButton";const hn=f.forwardRef(({className:e,...t},n)=>f.createElement(XE,{...t,ref:n,className:X("rt-Button",e)}));hn.displayName="Button";const f6=["1","2","3"],h6=["soft","surface","outline"],Iw={...Lr,size:{type:"enum",className:"rt-r-size",values:f6,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:h6,default:"soft"},...Kg,...Rs},QE=f.createContext({}),dn=f.forwardRef((e,t)=>{const{size:n=Iw.size.default}=e,{asChild:r,children:s,className:o,color:i,...a}=at(e,Iw,Nt),l=r?ks:"div";return f.createElement(l,{"data-accent-color":i,...a,className:X("rt-CalloutRoot",o),ref:t},f.createElement(QE.Provider,{value:f.useMemo(()=>({size:n}),[n])},s))});dn.displayName="Callout.Root";const p6=f.forwardRef(({className:e,...t},n)=>f.createElement("div",{...t,className:X("rt-CalloutIcon",e),ref:n}));p6.displayName="Callout.Icon";const fn=f.forwardRef(({className:e,...t},n)=>{const{size:r}=f.useContext(QE);return f.createElement(Y,{as:"p",size:YE(r,u6),...t,asChild:!1,ref:n,className:X("rt-CalloutText",e)})});fn.displayName="Callout.Text";const m6=["1","2","3","4","5"],g6=["surface","classic","ghost"],y6={...Lr,size:{type:"enum",className:"rt-r-size",values:m6,default:"1",responsive:!0},variant:{type:"enum",className:"rt-variant",values:g6,default:"surface"}},Ct=f.forwardRef((e,t)=>{const{asChild:n,className:r,...s}=at(e,y6,Nt),o=n?ks:"div";return f.createElement(o,{ref:t,...s,className:X("rt-reset","rt-BaseCard","rt-Card",r)})});Ct.displayName="Card";var JE=ce;JE.dispatchDiscreteCustomEvent=iC;JE.Root=ce;const v6=Se.forwardRef((e,t)=>Se.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},Se.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.75 4.5C0.75 4.08579 1.08579 3.75 1.5 3.75H7.5C7.91421 3.75 8.25 4.08579 8.25 4.5C8.25 4.91421 7.91421 5.25 7.5 5.25H1.5C1.08579 5.25 0.75 4.91421 0.75 4.5Z"})));v6.displayName="ThickDividerHorizontalIcon";const ZE=Se.forwardRef((e,t)=>Se.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},Se.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.53547 0.62293C8.88226 0.849446 8.97976 1.3142 8.75325 1.66099L4.5083 8.1599C4.38833 8.34356 4.19397 8.4655 3.9764 8.49358C3.75883 8.52167 3.53987 8.45309 3.3772 8.30591L0.616113 5.80777C0.308959 5.52987 0.285246 5.05559 0.563148 4.74844C0.84105 4.44128 1.31533 4.41757 1.62249 4.69547L3.73256 6.60459L7.49741 0.840706C7.72393 0.493916 8.18868 0.396414 8.53547 0.62293Z"})));ZE.displayName="ThickCheckIcon";const eT=Se.forwardRef((e,t)=>Se.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},Se.createElement("path",{d:"M0.135232 3.15803C0.324102 2.95657 0.640521 2.94637 0.841971 3.13523L4.5 6.56464L8.158 3.13523C8.3595 2.94637 8.6759 2.95657 8.8648 3.15803C9.0536 3.35949 9.0434 3.67591 8.842 3.86477L4.84197 7.6148C4.64964 7.7951 4.35036 7.7951 4.15803 7.6148L0.158031 3.86477C-0.0434285 3.67591 -0.0536285 3.35949 0.135232 3.15803Z"})));eT.displayName="ChevronDownIcon";const x6=Se.forwardRef((e,t)=>Se.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},Se.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.23826 0.201711C3.54108 -0.0809141 4.01567 -0.0645489 4.29829 0.238264L7.79829 3.98826C8.06724 4.27642 8.06724 4.72359 7.79829 5.01174L4.29829 8.76174C4.01567 9.06455 3.54108 9.08092 3.23826 8.79829C2.93545 8.51567 2.91909 8.04108 3.20171 7.73826L6.22409 4.5L3.20171 1.26174C2.91909 0.958928 2.93545 0.484337 3.23826 0.201711Z"})));x6.displayName="ThickChevronRightIcon";const w6=["1","2","3"],Ki={...Lr,size:{values:w6,default:"1"},...Ci,scrollbars:{default:"both"}};function b6(e){const{m:t,mx:n,my:r,mt:s,mr:o,mb:i,ml:a,...l}=e;return{m:t,mx:n,my:r,mt:s,mr:o,mb:i,ml:a,rest:l}}const Os=Nt.m.values;function _6(e){const[t,n]=Xr({className:"rt-r-m",customProperties:["--margin"],propValues:Os,value:e.m}),[r,s]=Xr({className:"rt-r-mx",customProperties:["--margin-left","--margin-right"],propValues:Os,value:e.mx}),[o,i]=Xr({className:"rt-r-my",customProperties:["--margin-top","--margin-bottom"],propValues:Os,value:e.my}),[a,l]=Xr({className:"rt-r-mt",customProperties:["--margin-top"],propValues:Os,value:e.mt}),[u,d]=Xr({className:"rt-r-mr",customProperties:["--margin-right"],propValues:Os,value:e.mr}),[h,p]=Xr({className:"rt-r-mb",customProperties:["--margin-bottom"],propValues:Os,value:e.mb}),[m,w]=Xr({className:"rt-r-ml",customProperties:["--margin-left"],propValues:Os,value:e.ml});return[X(t,r,o,a,u,h,m),uu(n,s,i,l,d,p,w)]}const tT=f.forwardRef((e,t)=>{const{rest:n,...r}=b6(e),[s,o]=_6(r),{asChild:i,children:a,className:l,style:u,type:d,scrollHideDelay:h=d!=="scroll"?0:void 0,dir:p,size:m=Ki.size.default,radius:w=Ki.radius.default,scrollbars:y=Ki.scrollbars.default,...b}=n;return f.createElement(q1,{type:d,scrollHideDelay:h,className:X("rt-ScrollAreaRoot",s,l),style:uu(o,u),asChild:i},zU({asChild:i,children:a},g=>f.createElement(f.Fragment,null,f.createElement(G1,{...b,ref:t,className:"rt-ScrollAreaViewport"},g),f.createElement("div",{className:"rt-ScrollAreaViewportFocusRing"}),y!=="vertical"?f.createElement(Uh,{"data-radius":w,orientation:"horizontal",className:X("rt-ScrollAreaScrollbar",cu({className:"rt-r-size",value:m,propValues:Ki.size.values}))},f.createElement(Hh,{className:"rt-ScrollAreaThumb"})):null,y!=="horizontal"?f.createElement(Uh,{"data-radius":w,orientation:"vertical",className:X("rt-ScrollAreaScrollbar",cu({className:"rt-r-size",value:m,propValues:Ki.size.values}))},f.createElement(Hh,{className:"rt-ScrollAreaThumb"})):null,y==="both"?f.createElement(N5,{className:"rt-ScrollAreaCorner"}):null)))});tT.displayName="ScrollArea";const Do=e=>f.createElement(Tk,{...e,modal:!0});Do.displayName="Dialog.Root";const S6=f.forwardRef(({children:e,...t},n)=>f.createElement(Nk,{...t,ref:n,asChild:!0},KE(e)));S6.displayName="Dialog.Trigger";const Fo=f.forwardRef(({align:e,...t},n)=>{const{align:r,...s}=SU,{className:o}=at({align:e},{align:r}),{className:i,forceMount:a,container:l,...u}=at(t,s);return f.createElement(Rk,{container:l,forceMount:a},f.createElement(ad,{asChild:!0},f.createElement(Qm,{className:"rt-BaseDialogOverlay rt-DialogOverlay"},f.createElement("div",{className:"rt-BaseDialogScroll rt-DialogScroll"},f.createElement("div",{className:`rt-BaseDialogScrollPadding rt-DialogScrollPadding ${o}`},f.createElement(Jm,{...u,ref:n,className:X("rt-BaseDialogContent","rt-DialogContent",i)}))))))});Fo.displayName="Dialog.Content";const Bo=f.forwardRef((e,t)=>f.createElement(CF,{asChild:!0},f.createElement(Gg,{size:"5",mb:"3",trim:"start",...e,asChild:!1,ref:t})));Bo.displayName="Dialog.Title";const zo=f.forwardRef((e,t)=>f.createElement(kF,{asChild:!0},f.createElement(Y,{as:"p",size:"3",...e,asChild:!1,ref:t})));zo.displayName="Dialog.Description";const nT=f.forwardRef(({children:e,...t},n)=>f.createElement(EF,{...t,ref:n,asChild:!0},KE(e)));nT.displayName="Dialog.Close";const C6=["1","2","3"],Qg={size:{type:"enum",className:"rt-r-size",values:C6,default:"2",responsive:!0}},k6=["classic","surface","soft","ghost"],E6={variant:{type:"enum",className:"rt-variant",values:k6,default:"surface"},...Dr,...Ci,placeholder:{type:"string"}},T6=["solid","soft"],N6={variant:{type:"enum",className:"rt-variant",values:T6,default:"solid"},...Dr,...Rs},Jg=f.createContext({}),rT=e=>{const{children:t,size:n=Qg.size.default,...r}=e;return f.createElement(Q5,{...r},f.createElement(Jg.Provider,{value:f.useMemo(()=>({size:n}),[n])},t))};rT.displayName="Select.Root";const sT=f.forwardRef((e,t)=>{const n=f.useContext(Jg),{children:r,className:s,color:o,radius:i,placeholder:a,...l}=at({size:n==null?void 0:n.size,...e},{size:Qg.size},E6,Nt);return f.createElement(J5,{asChild:!0},f.createElement("button",{"data-accent-color":o,"data-radius":i,...l,ref:t,className:X("rt-reset","rt-SelectTrigger",s)},f.createElement("span",{className:"rt-SelectTriggerInner"},f.createElement(Z5,{placeholder:a},r)),f.createElement(eU,{asChild:!0},f.createElement(eT,{className:"rt-SelectIcon"}))))});sT.displayName="Select.Trigger";const oT=f.forwardRef((e,t)=>{const n=f.useContext(Jg),{className:r,children:s,color:o,container:i,...a}=at({size:n==null?void 0:n.size,...e},{size:Qg.size},N6),l=BU(),u=o||l.accentColor;return f.createElement(tU,{container:i},f.createElement(ad,{asChild:!0},f.createElement(nU,{"data-accent-color":u,sideOffset:4,...a,asChild:!1,ref:t,className:X({"rt-PopperContent":a.position==="popper"},"rt-SelectContent",r)},f.createElement(q1,{type:"auto",className:"rt-ScrollAreaRoot"},f.createElement(rU,{asChild:!0,className:"rt-SelectViewport"},f.createElement(G1,{className:"rt-ScrollAreaViewport",style:{overflowY:void 0}},s)),f.createElement(Uh,{className:"rt-ScrollAreaScrollbar rt-r-size-1",orientation:"vertical"},f.createElement(Hh,{className:"rt-ScrollAreaThumb"}))))))});oT.displayName="Select.Content";const iT=f.forwardRef((e,t)=>{const{className:n,children:r,...s}=e;return f.createElement(iU,{...s,asChild:!1,ref:t,className:X("rt-SelectItem",n)},f.createElement(lU,{className:"rt-SelectItemIndicator"},f.createElement(ZE,{className:"rt-SelectItemIndicatorIcon"})),f.createElement(aU,null,r))});iT.displayName="Select.Item";const R6=f.forwardRef(({className:e,...t},n)=>f.createElement(sU,{...t,asChild:!1,ref:n,className:X("rt-SelectGroup",e)}));R6.displayName="Select.Group";const I6=f.forwardRef(({className:e,...t},n)=>f.createElement(oU,{...t,asChild:!1,ref:n,className:X("rt-SelectLabel",e)}));I6.displayName="Select.Label";const P6=f.forwardRef(({className:e,...t},n)=>f.createElement(cU,{...t,asChild:!1,ref:n,className:X("rt-SelectSeparator",e)}));P6.displayName="Select.Separator";const A6=["horizontal","vertical"],j6=["1","2","3","4"],M6={orientation:{type:"enum",className:"rt-r-orientation",values:A6,default:"horizontal",responsive:!0},size:{type:"enum",className:"rt-r-size",values:j6,default:"1",responsive:!0},color:{...Dr.color,default:"gray"},decorative:{type:"boolean",default:!0}},Zg=f.forwardRef((e,t)=>{const{className:n,color:r,decorative:s,...o}=at(e,M6,Nt);return f.createElement("span",{"data-accent-color":r,role:s?void 0:"separator",...o,ref:t,className:X("rt-Separator",n)})});Zg.displayName="Separator";const O6=["1","2","3"],L6=["classic","surface","soft"],D6={size:{type:"enum",className:"rt-r-size",values:O6,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:L6,default:"surface"},...Dr,...Rs,...Ci},aT=f.forwardRef((e,t)=>{const{className:n,color:r,radius:s,...o}=at(e,D6,Nt);return f.createElement(pU,{"data-accent-color":r,"data-radius":s,...o,asChild:!1,ref:t,className:X("rt-reset","rt-SwitchRoot",n)},f.createElement(mU,{className:X("rt-SwitchThumb",{"rt-high-contrast":e.highContrast})}))});aT.displayName="Switch";const F6=["1","2"],B6=["nowrap","wrap","wrap-reverse"],z6=["start","center","end"],$6={size:{type:"enum",className:"rt-r-size",values:F6,default:"2",responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:B6,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:z6,responsive:!0},...Dr,...Rs},lT=f.forwardRef((e,t)=>{const{className:n,...r}=at(e,Nt);return f.createElement(vU,{...r,ref:t,className:X("rt-TabsRoot",n)})});lT.displayName="Tabs.Root";const cT=f.forwardRef((e,t)=>{const{className:n,color:r,...s}=at(e,$6,Nt);return f.createElement(xU,{"data-accent-color":r,...s,asChild:!1,ref:t,className:X("rt-BaseTabList","rt-TabsList",n)})});cT.displayName="Tabs.List";const Qr=f.forwardRef((e,t)=>{const{className:n,children:r,...s}=e;return f.createElement(wU,{...s,asChild:!1,ref:t,className:X("rt-reset","rt-BaseTabListTrigger","rt-TabsTrigger",n)},f.createElement("span",{className:"rt-BaseTabListTriggerInner rt-TabsTriggerInner"},r),f.createElement("span",{className:"rt-BaseTabListTriggerInnerHidden rt-TabsTriggerInnerHidden"},r))});Qr.displayName="Tabs.Trigger";const Jr=f.forwardRef((e,t)=>{const{className:n,...r}=at(e,Nt);return f.createElement(bU,{...r,ref:t,className:X("rt-TabsContent",n)})});Jr.displayName="Tabs.Content";const U6=["1","2","3"],H6=["classic","surface","soft"],V6={size:{type:"enum",className:"rt-r-size",values:U6,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:H6,default:"surface"},...Dr,...Ci},W6=["left","right"],K6={side:{type:"enum",values:W6},...Dr,gap:qE.gap,px:xc.px,pl:xc.pl,pr:xc.pr},te=f.forwardRef((e,t)=>{const n=f.useRef(null),{children:r,className:s,color:o,radius:i,style:a,...l}=at(e,V6,Nt);return f.createElement("div",{"data-accent-color":o,"data-radius":i,style:a,className:X("rt-TextFieldRoot",s),onPointerDown:u=>{const d=u.target;if(d.closest("input, button, a"))return;const h=n.current;if(!h)return;const p=d.closest(`
            .rt-TextFieldSlot[data-side='right'],
            .rt-TextFieldSlot:not([data-side='right']) ~ .rt-TextFieldSlot:not([data-side='left'])
          `)?h.value.length:0;requestAnimationFrame(()=>{try{h.setSelectionRange(p,p)}catch{}h.focus()})}},f.createElement("input",{spellCheck:"false",...l,ref:Mu(n,t),className:"rt-reset rt-TextFieldInput"}),r)});te.displayName="TextField.Root";const q6=f.forwardRef((e,t)=>{const{className:n,color:r,side:s,...o}=at(e,K6);return f.createElement("div",{"data-accent-color":r,"data-side":s,...o,ref:t,className:X("rt-TextFieldSlot",n)})});q6.displayName="TextField.Slot";function G6(e){const t=/^session-(\d{14})$/.exec(e.trim());if(!t)return null;const n=t[1],r=Number(n.slice(0,4)),s=Number(n.slice(4,6)),o=Number(n.slice(6,8)),i=Number(n.slice(8,10)),a=Number(n.slice(10,12)),l=Number(n.slice(12,14));if(!Number.isFinite(r)||!Number.isFinite(s)||!Number.isFinite(o))return null;const u=new Date(r,s-1,o,i,a,l);return Number.isNaN(u.getTime())?null:u}function Wl(e){return String(e).padStart(2,"0")}function Y6(e){const t=G6(e.session_key),n=Date.parse(e.last_message_time||""),r=t||(Number.isFinite(n)?new Date(n):null);return r?`created ${r.getFullYear()}-${Wl(r.getMonth()+1)}-${Wl(r.getDate())} ${Wl(r.getHours())}:${Wl(r.getMinutes())}`:"created --"}function X6({appearance:e,onToggleAppearance:t,uiTheme:n,onUiThemeChange:r,uiThemeOptions:s,sessionItems:o,selectedSessionKey:i,onSessionSelect:a,onRefreshSession:l,onResetSession:u,onDeleteSession:d,onOpenConfig:h,onOpenUsage:p,onNewSession:m,appVersion:w}){const y=e==="dark",[b,g]=f.useState(null),[v,x]=f.useState(!1),C=f.useRef(null),R=f.useRef(null),k=f.useRef(null);return f.useEffect(()=>{const N=M=>{var L,E,W;const A=M.target;A&&((L=R.current)!=null&&L.contains(A)||(E=C.current)!=null&&E.contains(A)||(W=k.current)!=null&&W.contains(A)||(g(null),x(!1)))},I=()=>{g(null),x(!1)};return window.addEventListener("pointerdown",N),window.addEventListener("scroll",I,!0),()=>{window.removeEventListener("pointerdown",N),window.removeEventListener("scroll",I,!0)}},[]),c.jsxs("aside",{className:y?"flex h-full min-h-0 flex-col border-r p-4":"flex h-full min-h-0 flex-col border-r border-slate-200 bg-white p-4",style:y?{borderColor:"var(--mc-border-soft)",background:"var(--mc-bg-sidebar)"}:void 0,children:[c.jsxs(Ln,{justify:"between",align:"center",className:"mb-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("img",{src:"/icon.png",alt:"MicroClaw",className:"h-7 w-7 rounded-md border border-black/10 object-cover",loading:"eager",decoding:"async"}),c.jsx(Y,{size:"5",weight:"bold",children:"MicroClaw"})]}),c.jsxs("div",{className:"relative flex items-center gap-2",children:[c.jsx("button",{ref:R,type:"button",onClick:N=>{N.stopPropagation(),x(I=>!I)},"aria-label":"Change UI theme color",className:y?"inline-flex h-8 w-8 items-center justify-center rounded-md border border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-panel)] text-slate-200 hover:brightness-110":"inline-flex h-8 w-8 items-center justify-center rounded-md border border-slate-300 bg-white text-slate-700 hover:bg-slate-100",children:c.jsx("span",{className:"text-sm",children:""})}),c.jsx("button",{type:"button",onClick:N=>{N.stopPropagation(),t()},"aria-label":y?"Switch to light mode":"Switch to dark mode",className:y?"inline-flex h-8 w-8 items-center justify-center rounded-md border border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-panel)] text-slate-200 hover:brightness-110":"inline-flex h-8 w-8 items-center justify-center rounded-md border border-slate-300 bg-white text-slate-700 hover:bg-slate-100",children:c.jsx("span",{className:"text-sm",children:y?"":""})}),v?c.jsxs("div",{ref:C,className:y?"absolute right-0 top-10 z-50 w-56 rounded-lg border border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-sidebar)] p-2 shadow-xl":"absolute right-0 top-10 z-50 w-56 rounded-lg border border-slate-300 bg-white p-2 shadow-xl",children:[c.jsx(Y,{size:"1",color:"gray",children:"Theme"}),c.jsx("div",{className:"mt-2 grid grid-cols-2 gap-1",children:s.map(N=>c.jsxs("button",{type:"button",onClick:I=>{I.stopPropagation(),r(N.key),x(!1)},className:n===N.key?y?"flex items-center gap-2 rounded-md border border-[color:var(--mc-accent)] bg-[color:var(--mc-bg-panel)] px-2 py-1 text-left text-xs text-slate-100":"flex items-center gap-2 rounded-md border px-2 py-1 text-left text-xs text-slate-900":y?"flex items-center gap-2 rounded-md border border-transparent px-2 py-1 text-left text-xs text-slate-300 hover:border-[color:var(--mc-border-soft)] hover:bg-[color:var(--mc-bg-panel)]":"flex items-center gap-2 rounded-md border border-transparent px-2 py-1 text-left text-xs text-slate-600 hover:border-slate-200 hover:bg-slate-50",style:!y&&n===N.key?{borderColor:"var(--mc-accent)",backgroundColor:"color-mix(in srgb, var(--mc-accent) 12%, white)"}:void 0,children:[c.jsx("span",{className:y?"h-3 w-3 rounded-sm border border-white/20":"h-3 w-3 rounded-sm border border-slate-300",style:{backgroundColor:N.color},"aria-hidden":"true"}),N.label]},N.key))})]}):null]})]}),c.jsx(Ln,{direction:"column",gap:"2",className:"mb-4",children:c.jsx("button",{type:"button",onClick:m,className:"inline-flex h-9 w-full items-center justify-center rounded-md border border-transparent text-[15px] font-medium transition hover:brightness-110 active:brightness-95",style:y?{backgroundColor:"var(--mc-accent)",color:"#06110f"}:{backgroundColor:"var(--mc-accent)",color:"#ffffff"},children:"New Session"})}),c.jsx(Zg,{size:"4",className:"my-4"}),c.jsxs(Ln,{justify:"between",align:"center",className:"mb-2",children:[c.jsx(Y,{size:"2",weight:"medium",color:"gray",children:"Sessions"}),c.jsx(Xg,{variant:"surface",children:o.length})]}),c.jsx("div",{className:y?"min-h-0 flex-1 rounded-xl border border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-panel)] p-2":"min-h-0 flex-1 rounded-xl border border-slate-200 bg-slate-50/70 p-2",children:c.jsxs(tT,{type:"auto",style:{height:"100%"},children:[c.jsx("div",{className:"mb-2",children:c.jsx(Y,{size:"1",color:"gray",children:"Chats"})}),c.jsx("div",{className:"flex flex-col gap-1.5 pr-4",children:o.map(N=>c.jsxs("button",{type:"button",onClick:()=>a(N.session_key),onContextMenu:I=>{I.preventDefault(),g({x:I.clientX,y:I.clientY,key:N.session_key})},className:i===N.session_key?y?"flex w-full max-w-full flex-col items-start rounded-lg border border-[color:var(--mc-accent)] bg-[color:var(--mc-bg-panel)] px-3 py-2 text-left shadow-sm":"flex w-full max-w-full flex-col items-start rounded-lg border bg-white px-3 py-2 text-left shadow-sm":y?"flex w-full max-w-full flex-col items-start rounded-lg border border-transparent px-3 py-2 text-left text-slate-300 hover:border-[color:var(--mc-border-soft)] hover:bg-[color:var(--mc-bg-panel)]":"flex w-full max-w-full flex-col items-start rounded-lg border border-transparent px-3 py-2 text-left text-slate-600 hover:border-slate-200 hover:bg-white",style:!y&&i===N.session_key?{borderColor:"color-mix(in srgb, var(--mc-accent) 36%, #94a3b8)",boxShadow:"0 4px 12px color-mix(in srgb, var(--mc-accent) 12%, transparent)"}:void 0,children:[c.jsx("span",{className:"max-w-[220px] truncate text-sm font-medium",children:N.label}),c.jsx("span",{className:y?"mt-0.5 text-[11px] uppercase tracking-wide text-slate-500":"mt-0.5 text-[11px] uppercase tracking-wide text-slate-400",children:N.chat_type}),c.jsx("span",{className:y?"mt-0.5 text-[11px] text-slate-500":"mt-0.5 text-[11px] text-slate-400",children:Y6(N)})]},N.session_key))})]})}),c.jsxs("div",{className:y?"mt-4 border-t border-[color:var(--mc-border-soft)] pt-3":"mt-4 border-t border-slate-200 pt-3",children:[c.jsx(hn,{size:"2",variant:"soft",onClick:()=>void p(),style:{width:"100%"},children:"Usage Panel"}),c.jsx(hn,{size:"2",variant:"soft",onClick:()=>void h(),style:{width:"100%",marginTop:"8px"},children:"Runtime Config"}),c.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3",children:[c.jsx("a",{href:"https://microclaw.ai",target:"_blank",rel:"noreferrer",className:y?"text-xs text-slate-400 hover:text-slate-200":"text-xs text-slate-600 hover:text-slate-900",children:"microclaw.ai"}),c.jsx(Y,{size:"1",className:"text-slate-500",children:w?`v${w}`:"v--"})]})]}),b?c.jsxs("div",{ref:k,className:y?"fixed z-50 min-w-[170px] rounded-lg border border-emerald-900/80 bg-[#092018] p-1.5 shadow-xl":"fixed z-50 min-w-[170px] rounded-lg border border-slate-300 bg-white p-1.5 shadow-xl",style:{left:b.x,top:b.y},onClick:N=>N.stopPropagation(),children:[c.jsx("button",{type:"button",className:y?"flex w-full rounded-md px-3 py-2 text-left text-sm text-slate-100 hover:bg-emerald-900/50":"flex w-full rounded-md px-3 py-2 text-left text-sm text-slate-700 hover:bg-slate-100",onClick:()=>{l(b.key),g(null)},children:"Refresh"}),c.jsx("button",{type:"button",className:y?"mt-1 flex w-full rounded-md px-3 py-2 text-left text-sm text-amber-300 hover:bg-amber-900/20":"mt-1 flex w-full rounded-md px-3 py-2 text-left text-sm text-amber-700 hover:bg-amber-50",onClick:()=>{u(b.key),g(null)},children:"Clear Context"}),c.jsx("button",{type:"button",className:y?"mt-1 flex w-full rounded-md px-3 py-2 text-left text-sm text-red-300 hover:bg-red-900/20":"mt-1 flex w-full rounded-md px-3 py-2 text-left text-sm text-red-700 hover:bg-red-50",onClick:()=>{d(b.key),g(null)},children:"Delete"})]}):null]})}function Xn(e){return Number.isFinite(e)?Math.trunc(e).toLocaleString("en-US"):"0"}function Q6(e,t){return!Number.isFinite(e)||!Number.isFinite(t)||t<=0?"0%":`${(e/t*100).toFixed(1)}%`}function Kl(e,t,n){const r=Date.now(),s=3600*1e3,o=r-t*s,i=Math.max(1,Math.ceil(t/n)),a=Array.from({length:i},(l,u)=>({label:`${u+1}`,a:0,b:0,c:0}));for(const l of e){const u=Date.parse(l.ts);if(!Number.isFinite(u)||u<o||u>r)continue;const d=Math.min(i-1,Math.max(0,Math.floor((u-o)/(n*s))));a[d].a+=l.a,a[d].b+=l.b,a[d].c+=l.c}return a}function J6(e,t=320,n=70){if(e.length===0)return"";const r=Math.max(...e,1),s=Math.min(...e,0),o=Math.max(1e-6,r-s);return e.map((i,a)=>{const l=a/Math.max(1,e.length-1)*t,u=n-(i-s)/o*n;return`${a===0?"M":"L"}${l.toFixed(2)},${u.toFixed(2)}`}).join(" ")}function qr({title:e,subtitle:t,values:n,color:r}){const s=J6(n);return c.jsxs(Ct,{className:"p-3",children:[c.jsx(Y,{size:"1",color:"gray",children:e}),c.jsx(Y,{size:"1",color:"gray",className:"block",children:t}),c.jsx("div",{className:"mt-2",children:c.jsx("svg",{viewBox:"0 0 320 70",className:"h-[70px] w-full",children:c.jsx("path",{d:s,fill:"none",stroke:r,strokeWidth:"2.5"})})})]})}function Z6(e){const{open:t,onOpenChange:n,usageSession:r,sessionKey:s,usageLoading:o,usageError:i,usageReport:a,usageMemory:l,reflectorRuns:u,injectionLogs:d,onRefreshCurrent:h,onRefreshThis:p}=e,m=f.useMemo(()=>{const y=Kl(u.map(g=>({ts:g.started_at,a:g.inserted_count,b:g.updated_count,c:g.skipped_count})),24,1),b=Kl(d.map(g=>({ts:g.created_at,a:g.selected_count,b:g.candidate_count,c:0})),24,1);return{inserted:y.map(g=>g.a),updated:y.map(g=>g.b),skipped:y.map(g=>g.c),coverage:b.map(g=>g.b>0?g.a/g.b*100:0)}},[u,d]),w=f.useMemo(()=>{const y=Kl(u.map(g=>({ts:g.started_at,a:g.inserted_count,b:g.updated_count,c:g.skipped_count})),168,24),b=Kl(d.map(g=>({ts:g.created_at,a:g.selected_count,b:g.candidate_count,c:0})),24*7,24);return{inserted:y.map(g=>g.a),updated:y.map(g=>g.b),skipped:y.map(g=>g.c),coverage:b.map(g=>g.b>0?g.a/g.b*100:0)}},[u,d]);return c.jsx(Do,{open:t,onOpenChange:n,children:c.jsxs(Fo,{maxWidth:"980px",className:"min-h-0 overflow-hidden flex flex-col",style:{width:"980px",height:"760px",maxWidth:"980px",maxHeight:"760px"},children:[c.jsx(Bo,{children:"Usage Panel"}),c.jsxs(zo,{size:"2",mb:"3",children:["Token and memory observability for session ",c.jsx("code",{children:r||s})]}),c.jsx("div",{className:"mb-3",children:c.jsxs(Ln,{gap:"2",children:[c.jsx(hn,{size:"2",variant:"soft",onClick:h,disabled:o,children:"Refresh Current Session"}),c.jsx(hn,{size:"2",variant:"soft",onClick:p,disabled:o,children:"Refresh This Panel"})]})}),c.jsx("div",{className:"min-h-0 flex-1 overflow-y-auto",children:c.jsx(Ct,{className:"min-h-0 p-3",children:o?c.jsx(Y,{size:"2",children:"Loading usage report..."}):i?c.jsx(dn,{color:"red",size:"1",variant:"soft",children:c.jsx(fn,{children:i})}):c.jsxs("div",{className:"space-y-4",children:[l?c.jsxs("div",{className:"space-y-3",children:[c.jsxs(Ln,{justify:"between",align:"center",children:[c.jsx(Y,{size:"2",weight:"bold",children:"Memory Observability"}),c.jsx(Y,{size:"1",color:"gray",children:"24h + 7d trends"})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 xl:grid-cols-4",children:[c.jsxs(Ct,{className:"p-3",children:[c.jsx(Y,{size:"1",color:"gray",className:"block",children:"Memory Pool"}),c.jsx(Y,{size:"4",weight:"bold",className:"mt-1 block",children:Xn(l.total)}),c.jsxs(Y,{size:"1",color:"gray",className:"mt-1 block",children:["active ",Xn(l.active)," / archived ",Xn(l.archived)]})]}),c.jsxs(Ct,{className:"p-3",children:[c.jsx(Y,{size:"1",color:"gray",className:"block",children:"Avg Confidence"}),c.jsxs(Y,{size:"4",weight:"bold",className:"mt-1 block",children:[(l.avg_confidence*100).toFixed(1),"%"]}),c.jsxs(Y,{size:"1",color:"gray",className:"mt-1 block",children:["low confidence: ",Xn(l.low_confidence)]})]}),c.jsxs(Ct,{className:"p-3",children:[c.jsx(Y,{size:"1",color:"gray",className:"block",children:"Reflector 24h"}),c.jsx(Y,{size:"4",weight:"bold",className:"mt-1 block",children:Xn(l.reflector_runs_24h)}),c.jsxs(Y,{size:"1",color:"gray",className:"mt-1 block",children:["+",Xn(l.reflector_inserted_24h)," / ~",Xn(l.reflector_updated_24h)," / -",Xn(l.reflector_skipped_24h)]})]}),c.jsxs(Ct,{className:"p-3",children:[c.jsx(Y,{size:"1",color:"gray",className:"block",children:"Injection Coverage 24h"}),c.jsx(Y,{size:"4",weight:"bold",className:"mt-1 block",children:Q6(l.injection_selected_24h,l.injection_candidates_24h)}),c.jsxs(Y,{size:"1",color:"gray",className:"mt-1 block",children:[Xn(l.injection_selected_24h)," selected / ",Xn(l.injection_candidates_24h)," candidates"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-3 xl:grid-cols-2",children:[c.jsx(qr,{title:"Reflector Inserts (24h)",subtitle:"hourly buckets",values:m.inserted,color:"#10b981"}),c.jsx(qr,{title:"Reflector Updates (24h)",subtitle:"hourly buckets",values:m.updated,color:"#3b82f6"}),c.jsx(qr,{title:"Reflector Skips (24h)",subtitle:"hourly buckets",values:m.skipped,color:"#f59e0b"}),c.jsx(qr,{title:"Injection Coverage (24h)",subtitle:"selected/candidates %",values:m.coverage,color:"#a855f7"})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-3 xl:grid-cols-2",children:[c.jsx(qr,{title:"Reflector Inserts (7d)",subtitle:"daily buckets",values:w.inserted,color:"#059669"}),c.jsx(qr,{title:"Reflector Updates (7d)",subtitle:"daily buckets",values:w.updated,color:"#2563eb"}),c.jsx(qr,{title:"Reflector Skips (7d)",subtitle:"daily buckets",values:w.skipped,color:"#d97706"}),c.jsx(qr,{title:"Injection Coverage (7d)",subtitle:"selected/candidates %",values:w.coverage,color:"#7e22ce"})]})]}):null,c.jsxs(Ct,{className:"p-3",children:[c.jsx(Y,{size:"2",weight:"bold",children:"Token Usage Report"}),c.jsx("pre",{className:"mt-2 whitespace-pre-wrap break-words text-[13px] leading-6",children:a||"(no usage data)"})]})]})})})]})})}function ey(e){if(!e)return{visibleText:"",thinkSegments:[]};const t=[];let n="",r=0;for(;r<e.length;){const s=e.indexOf("<think>",r);if(s<0){n+=e.slice(r);break}n+=e.slice(r,s);const o=s+7,i=e.indexOf("</think>",o);if(i<0){const l=e.slice(o).trim();l&&t.push(l);break}const a=e.slice(o,i).trim();a&&t.push(a),r=i+8}return{visibleText:n,thinkSegments:t}}function e8(e){if(!Array.isArray(e))return"";const t=[];for(const n of e){if(n.type!=="text"||typeof n.text!="string")continue;const r=ey(n.text);r.thinkSegments.length>0&&t.push(...r.thinkSegments)}return t.join(`

`)}const ts="https://microclaw.ai/docs";function t8(e){switch(e){case"sandbox_disabled":case"sandbox_runtime_unavailable":case"sandbox_mount_allowlist_missing":return`${ts}/configuration#sandbox`;case"auth_password_not_configured":case"legacy_auth_token_enabled":case"web_host_not_loopback":return`${ts}/permissions`;case"web_rate_limit_too_high":case"web_inflight_limit_too_high":case"web_rate_window_too_small_for_limit":case"web_session_idle_ttl_too_low":return`${ts}/configuration#web`;case"hooks_max_input_bytes_too_high":case"hooks_max_output_bytes_too_high":return`${ts}/hooks`;case"otlp_enabled_without_endpoint":case"otlp_queue_capacity_low":case"otlp_retry_attempts_too_low":return`${ts}/observability`;default:return`${ts}/configuration`}}const n8=["openai","openai-codex","ollama","openrouter","anthropic","google","alibaba","deepseek","moonshot","mistral","azure","bedrock","zhipu","minimax","cohere","tencent","xai","huggingface","together","custom"],r8={anthropic:["claude-sonnet-4-5-20250929","claude-opus-4-1-20250805","claude-3-7-sonnet-latest"],openai:["gpt-5.2"],"openai-codex":["gpt-5.3-codex"],ollama:["llama3.2","qwen2.5","deepseek-r1"],openrouter:["openai/gpt-5","anthropic/claude-sonnet-4-5","google/gemini-2.5-pro"],deepseek:["deepseek-chat","deepseek-reasoner"],google:["gemini-2.5-pro","gemini-2.5-flash"]},st={llm_provider:"anthropic",working_dir_isolation:"chat",high_risk_tool_user_confirmation_required:!0,max_tokens:8192,max_tool_iterations:100,max_document_size_mb:100,memory_token_budget:1500,show_thinking:!1,web_enabled:!0,web_host:"127.0.0.1",web_port:10961,reflector_enabled:!0,reflector_interval_mins:15,embedding_provider:"",embedding_api_key:"",embedding_base_url:"",embedding_model:"",embedding_dim:""},ql=[{name:"slack",title:"Slack",icon:"",steps:["Go to api.slack.com/apps and create a new app.","Enable Socket Mode and create an app-level token (xapp-).","Add bot token scopes: chat:write, channels:history, groups:history, im:history, mpim:history, app_mentions:read.","Install to workspace and copy the Bot User OAuth Token (xoxb-).","Enable Event Subscriptions and subscribe to: message.channels, message.groups, message.im, message.mpim, app_mention."],hint:"Required: bot token and app token. Leave tokens blank to keep current secrets unchanged.",fields:[{yamlKey:"bot_token",label:"slack_bot_token",placeholder:"xoxb-...",description:"Bot User OAuth Token (xoxb-) for sending messages. Leave blank to keep current secret unchanged.",secret:!0},{yamlKey:"app_token",label:"slack_app_token",placeholder:"xapp-...",description:"App-level token (xapp-) for Socket Mode connection. Leave blank to keep current secret unchanged.",secret:!0},{yamlKey:"bot_username",label:"slack_bot_username",placeholder:"slack_bot_name",description:"Optional Slack-specific bot username override.",secret:!1},{yamlKey:"model",label:"slack_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional Slack bot model override for this account.",secret:!1}]},{name:"feishu",title:"Feishu / Lark",icon:"",steps:["Go to Feishu Open Platform (or Lark Developer for international) and create a custom app.","Copy the App ID and App Secret from Credentials.","Add permissions: im:message, im:message:send_as_bot, im:resource.","Enable Long Connection mode (recommended) or configure a webhook URL.","Subscribe to event: im.message.receive_v1."],hint:'Required: App ID and App Secret. Domain defaults to "feishu" (China); use "lark" for international.',fields:[{yamlKey:"app_id",label:"feishu_app_id",placeholder:"cli_xxx",description:"App ID from Feishu Open Platform credentials.",secret:!1},{yamlKey:"app_secret",label:"feishu_app_secret",placeholder:"xxx",description:"App Secret from Feishu Open Platform. Leave blank to keep current secret unchanged.",secret:!0},{yamlKey:"domain",label:"feishu_domain",placeholder:"feishu",description:'Use "feishu" for China, "lark" for international, or a custom base URL.',secret:!1},{yamlKey:"bot_username",label:"feishu_bot_username",placeholder:"feishu_bot_name",description:"Optional Feishu-specific bot username override.",secret:!1},{yamlKey:"model",label:"feishu_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional Feishu bot model override for this account.",secret:!1},{yamlKey:"topic_mode",label:"feishu_topic_mode",placeholder:"false",description:"Optional topic mode (true/false).",secret:!1,valueType:"bool"},{yamlKey:"show_progress",label:"feishu_show_progress",placeholder:"false",description:"Optional progress updates in topic mode (true/false).",secret:!1,valueType:"bool"}]},{name:"matrix",title:"Matrix",icon:"",steps:["Prepare a Matrix bot account on your homeserver.","Get homeserver URL, bot user ID, and access token.","Invite the bot to target rooms/chats."],hint:"Required: homeserver_url, access_token, bot_user_id.",fields:[{yamlKey:"homeserver_url",label:"matrix_homeserver_url",placeholder:"https://matrix.org",description:"Matrix homeserver URL.",secret:!1},{yamlKey:"access_token",label:"matrix_access_token",placeholder:"syt_xxx",description:"Matrix access token for the bot account.",secret:!0},{yamlKey:"bot_user_id",label:"matrix_bot_user_id",placeholder:"@bot:example.org",description:"Matrix bot user ID.",secret:!1},{yamlKey:"bot_username",label:"matrix_bot_username",placeholder:"matrix_bot_name",description:"Optional Matrix-specific bot username override.",secret:!1}]},{name:"whatsapp",title:"WhatsApp",icon:"",steps:["Create WhatsApp Cloud API app in Meta Developer dashboard.","Copy access token and phone number ID.","Configure webhook and verify token if needed."],hint:"Required: access_token and phone_number_id.",fields:[{yamlKey:"access_token",label:"whatsapp_access_token",placeholder:"EAAG...",description:"WhatsApp Cloud API access token.",secret:!0},{yamlKey:"phone_number_id",label:"whatsapp_phone_number_id",placeholder:"1234567890",description:"WhatsApp phone number ID.",secret:!1},{yamlKey:"webhook_verify_token",label:"whatsapp_webhook_verify_token",placeholder:"verify-token",description:"Optional webhook verify token.",secret:!0},{yamlKey:"api_version",label:"whatsapp_api_version",placeholder:"v21.0",description:"Graph API version.",secret:!1},{yamlKey:"webhook_path",label:"whatsapp_webhook_path",placeholder:"/whatsapp/webhook",description:"Webhook path.",secret:!1},{yamlKey:"allowed_user_ids",label:"whatsapp_allowed_user_ids",placeholder:"user1,user2",description:"Optional allowed user IDs csv.",secret:!1},{yamlKey:"bot_username",label:"whatsapp_bot_username",placeholder:"whatsapp_bot_name",description:"Optional WhatsApp-specific bot username override.",secret:!1},{yamlKey:"model",label:"whatsapp_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional WhatsApp bot model override for this account.",secret:!1}]},{name:"imessage",title:"iMessage",icon:"",steps:["Run on macOS with osascript support.","Choose service type and connect sender workflow."],hint:"Default service is iMessage.",fields:[{yamlKey:"service",label:"imessage_service",placeholder:"iMessage",description:"Service type (iMessage/SMS relay setup dependent).",secret:!1},{yamlKey:"bot_username",label:"imessage_bot_username",placeholder:"imessage_bot_name",description:"Optional iMessage-specific bot username override.",secret:!1},{yamlKey:"model",label:"imessage_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional iMessage bot model override for this account.",secret:!1}]},{name:"email",title:"Email",icon:"",steps:["Set sender address and sendmail path.","Expose webhook endpoint if receiving inbound events.","Optionally restrict allowed senders."],hint:"Required: from_address.",fields:[{yamlKey:"from_address",label:"email_from_address",placeholder:"bot@example.com",description:"Email sender address.",secret:!1},{yamlKey:"sendmail_path",label:"email_sendmail_path",placeholder:"/usr/sbin/sendmail",description:"sendmail binary path.",secret:!1},{yamlKey:"webhook_path",label:"email_webhook_path",placeholder:"/email/webhook",description:"Inbound webhook path.",secret:!1},{yamlKey:"webhook_token",label:"email_webhook_token",placeholder:"token",description:"Optional webhook token.",secret:!0},{yamlKey:"allowed_senders",label:"email_allowed_senders",placeholder:"a@example.com,b@example.com",description:"Optional allowed sender list csv.",secret:!1},{yamlKey:"bot_username",label:"email_bot_username",placeholder:"email_bot_name",description:"Optional Email-specific bot username override.",secret:!1},{yamlKey:"model",label:"email_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional Email bot model override for this account.",secret:!1}]},{name:"nostr",title:"Nostr",icon:"",steps:["Configure publish command used to send outgoing replies.","Configure webhook endpoint for incoming events."],hint:"Recommended: set publish_command and webhook token.",fields:[{yamlKey:"publish_command",label:"nostr_publish_command",placeholder:"nostril publish ...",description:"Command used to publish messages.",secret:!1},{yamlKey:"webhook_path",label:"nostr_webhook_path",placeholder:"/nostr/events",description:"Webhook path.",secret:!1},{yamlKey:"webhook_token",label:"nostr_webhook_token",placeholder:"token",description:"Optional webhook token.",secret:!0},{yamlKey:"allowed_pubkeys",label:"nostr_allowed_pubkeys",placeholder:"npub1...,npub1...",description:"Optional allowed pubkeys csv.",secret:!1},{yamlKey:"bot_username",label:"nostr_bot_username",placeholder:"nostr_bot_name",description:"Optional Nostr-specific bot username override.",secret:!1},{yamlKey:"model",label:"nostr_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional Nostr bot model override for this account.",secret:!1}]},{name:"signal",title:"Signal",icon:"",steps:["Configure send command used to send outgoing replies.","Configure webhook endpoint for incoming messages."],hint:"Recommended: set send_command and webhook token.",fields:[{yamlKey:"send_command",label:"signal_send_command",placeholder:"signal-cli send ...",description:"Command used to send Signal messages.",secret:!1},{yamlKey:"webhook_path",label:"signal_webhook_path",placeholder:"/signal/messages",description:"Webhook path.",secret:!1},{yamlKey:"webhook_token",label:"signal_webhook_token",placeholder:"token",description:"Optional webhook token.",secret:!0},{yamlKey:"allowed_numbers",label:"signal_allowed_numbers",placeholder:"+15551234567,+15559876543",description:"Optional allowed numbers csv.",secret:!1},{yamlKey:"bot_username",label:"signal_bot_username",placeholder:"signal_bot_name",description:"Optional Signal-specific bot username override.",secret:!1},{yamlKey:"model",label:"signal_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional Signal bot model override for this account.",secret:!1}]},{name:"dingtalk",title:"DingTalk",icon:"",steps:["Create DingTalk robot integration.","Set robot webhook URL and inbound webhook route."],hint:"Recommended: set robot_webhook_url and webhook token.",fields:[{yamlKey:"robot_webhook_url",label:"dingtalk_robot_webhook_url",placeholder:"https://oapi.dingtalk.com/robot/send?...",description:"DingTalk robot webhook URL.",secret:!0},{yamlKey:"webhook_path",label:"dingtalk_webhook_path",placeholder:"/dingtalk/events",description:"Webhook path.",secret:!1},{yamlKey:"webhook_token",label:"dingtalk_webhook_token",placeholder:"token",description:"Optional webhook token.",secret:!0},{yamlKey:"allowed_chat_ids",label:"dingtalk_allowed_chat_ids",placeholder:"chat1,chat2",description:"Optional allowed chat IDs csv.",secret:!1},{yamlKey:"bot_username",label:"dingtalk_bot_username",placeholder:"dingtalk_bot_name",description:"Optional DingTalk-specific bot username override.",secret:!1},{yamlKey:"model",label:"dingtalk_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional DingTalk bot model override for this account.",secret:!1}]},{name:"qq",title:"QQ",icon:"",steps:["Configure send command used to send outgoing replies.","Configure webhook endpoint for incoming messages."],hint:"Recommended: set send_command and webhook token.",fields:[{yamlKey:"send_command",label:"qq_send_command",placeholder:"qq-send ...",description:"Command used to send QQ messages.",secret:!1},{yamlKey:"webhook_path",label:"qq_webhook_path",placeholder:"/qq/events",description:"Webhook path.",secret:!1},{yamlKey:"webhook_token",label:"qq_webhook_token",placeholder:"token",description:"Optional webhook token.",secret:!0},{yamlKey:"allowed_user_ids",label:"qq_allowed_user_ids",placeholder:"10001,10002",description:"Optional allowed user IDs csv.",secret:!1},{yamlKey:"bot_username",label:"qq_bot_username",placeholder:"qq_bot_name",description:"Optional QQ-specific bot username override.",secret:!1},{yamlKey:"model",label:"qq_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional QQ bot model override for this account.",secret:!1}]}],uT=[{key:"green",label:"Green",color:"#34d399"},{key:"blue",label:"Blue",color:"#60a5fa"},{key:"slate",label:"Slate",color:"#94a3b8"},{key:"amber",label:"Amber",color:"#fbbf24"},{key:"violet",label:"Violet",color:"#a78bfa"},{key:"rose",label:"Rose",color:"#fb7185"},{key:"cyan",label:"Cyan",color:"#22d3ee"},{key:"teal",label:"Teal",color:"#2dd4bf"},{key:"orange",label:"Orange",color:"#fb923c"},{key:"indigo",label:"Indigo",color:"#818cf8"}],s8={green:"green",blue:"blue",slate:"gray",amber:"amber",violet:"violet",rose:"ruby",cyan:"cyan",teal:"teal",orange:"orange",indigo:"indigo"},ns=10;function Pw(e){const t=e.trim().toLowerCase();return t==="anthropic"?"claude-sonnet-4-5-20250929":t==="openai-codex"?"gpt-5.3-codex":t==="ollama"?"llama3.2":"gpt-5.2"}function Co(e){return String(e||"").trim()||"main"}function ya(e){if(!e||typeof e!="object")return"main";const t=e,n=String(t.default_account||"").trim();if(n)return n;const r=t.accounts;if(r&&typeof r=="object"){const s=Object.keys(r).sort();if(s.includes("default"))return"default";if(s.length>0)return s[0]||"main"}return"main"}function o8(e){if(!e||typeof e!="object")return{};const t=e,n=ya(t),r=t.accounts;if(!r||typeof r!="object")return{};const s=r[n];return s&&typeof s=="object"?s:{}}function Gl(e){return e<=1?"main":`bot${e}`}function Gr(e){return e<=1?"main":`bot${e}`}function un(e){const t=Number(e);return Number.isFinite(t)?Math.min(ns,Math.max(1,Math.floor(t))):1}function Yh(e){if(!e||typeof e!="object")return[];const t=e,n=t.accounts;if(!n||typeof n!="object")return[];const s=Object.entries(n).filter(([,a])=>a&&typeof a=="object"&&!Array.isArray(a)).map(([a,l])=>[a,l]);if(s.length===0)return[];const o=ya(t);s.sort(([a],[l])=>a.localeCompare(l));const i=s.findIndex(([a])=>a===o);if(i>0){const[a]=s.splice(i,1);s.unshift(a)}return s.slice(0,ns)}function i8(e){return Yh(e)}function dT(){return localStorage.getItem("microclaw_appearance")==="light"?"light":"dark"}function a8(e){localStorage.setItem("microclaw_appearance",e)}function fT(){const e=localStorage.getItem("microclaw_ui_theme");return uT.some(t=>t.key===e)?e:"green"}function l8(e){localStorage.setItem("microclaw_ui_theme",e)}function Aw(e){if(typeof window>"u")return;const t=new URL(window.location.href);t.searchParams.set("session",e),window.history.replaceState(null,"",t.toString())}function c8(){var t;return typeof window>"u"?"":((t=new URL(window.location.href).searchParams.get("session"))==null?void 0:t.trim())||""}function jw(e){var n,r;if(e.length===0)return os();const t=e.map(s=>({item:s,ts:Date.parse(s.last_message_time||"")})).filter(s=>Number.isFinite(s.ts));return t.length>0?(t.sort((s,o)=>o.ts-s.ts),((n=t[0])==null?void 0:n.item.session_key)||os()):((r=e[0])==null?void 0:r.session_key)||os()}typeof document<"u"&&(document.documentElement.classList.toggle("dark",dT()==="dark"),document.documentElement.setAttribute("data-ui-theme",fT()));function hT(e={}){const t={...e.headers};e.body&&!t["Content-Type"]&&(t["Content-Type"]="application/json");const n=d8("mc_csrf");return n&&!u8(t,"x-csrf-token")&&(t["x-csrf-token"]=n),t}class Fs extends Error{constructor(n,r){super(n);P(this,"status");this.name="ApiError",this.status=r}}function u8(e,t){const n=t.toLowerCase();return Object.keys(e).some(r=>r.toLowerCase()===n)}function d8(e){if(typeof document>"u")return"";const t=`${encodeURIComponent(e)}=`,n=document.cookie?document.cookie.split("; "):[];for(const r of n)if(r.startsWith(t))return decodeURIComponent(r.slice(t.length));return""}function f8(){var n;if(typeof window>"u")return"";const e=window.location.hash.startsWith("#")?window.location.hash.slice(1):window.location.hash;return((n=new URLSearchParams(e).get("bootstrap"))==null?void 0:n.trim())||""}function h8(){if(typeof window>"u")return;const e=window.location.hash.startsWith("#")?window.location.hash.slice(1):window.location.hash,t=new URLSearchParams(e);if(!t.has("bootstrap"))return;t.delete("bootstrap");const n=t.toString();window.location.hash=n?`#${n}`:""}function p8(){if(typeof crypto<"u"&&typeof crypto.randomUUID=="function"){const t=crypto.randomUUID().replace(/-/g,"");return`mc-${t.slice(0,6)}-${t.slice(6,12)}!`}const e=Math.random().toString(36).slice(2,14);return`mc-${e.slice(0,6)}-${e.slice(6,12)}!`}async function ut(e,t={}){const n=await fetch(e,{...t,headers:hT(t),credentials:"same-origin"}),r=await n.json().catch(()=>({}));if(!n.ok)throw new Fs(String(r.error||r.message||`HTTP ${n.status}`),n.status);return r}async function*m8(e,t){if(!e.body)throw new Error("empty stream body");const n=e.body.getReader(),r=new TextDecoder;let s="",o="message",i=[];const a=()=>{if(i.length===0)return null;const u=i.join(`
`);i=[];let d={};try{d=JSON.parse(u)}catch{d={raw:u}}const h={event:o,payload:d};return o="message",h},l=u=>{if(u==="")return a();if(u.startsWith(":"))return null;const d=u.indexOf(":"),h=d>=0?u.slice(0,d):u;let p=d>=0?u.slice(d+1):"";return p.startsWith(" ")&&(p=p.slice(1)),h==="event"&&(o=p),h==="data"&&i.push(p),null};for(;;){if(t.aborted)return;const{done:u,value:d}=await n.read();for(s+=r.decode(d||new Uint8Array,{stream:!u});;){const h=s.indexOf(`
`);if(h<0)break;let p=s.slice(0,h);s=s.slice(h+1),p.endsWith("\r")&&(p=p.slice(0,-1));const m=l(p);m&&(yield m)}if(u){if(s.length>0){let p=s;p.endsWith("\r")&&(p=p.slice(0,-1));const m=l(p);m&&(yield m)}const h=a();h&&(yield h);return}}}function g8(e){for(let t=e.length-1;t>=0;t-=1){const n=e[t];if(n.role!=="user")continue;const r=n.content.map(s=>s.type==="text"?s.text:"").join(`
`).trim();if(r.length>0)return r}return""}function y8(e){return e.map((t,n)=>({id:t.id||`history-${n}`,role:t.is_from_bot?"assistant":"user",content:t.content||"",createdAt:t.timestamp?new Date(t.timestamp):new Date}))}function os(){return`session-${new Date().toISOString().replace(/[-:TZ.]/g,"").slice(0,14)}`}function v8(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)?e:{}}function x8(e){try{return JSON.parse(JSON.stringify(e))}catch{return String(e)}}function Mw(e){const t=x8(e);return typeof t=="object"&&t!==null&&!Array.isArray(t)?t:{}}function w8(e){if(typeof e=="string")return e;try{return JSON.stringify(e,null,2)}catch{return String(e)}}function b8(e){const t=v8(e.result),n=Object.keys(t).length>0,r=t.output,s=t.duration_ms,o=t.bytes,i=t.status_code,a=t.error_type;return c.jsxs("div",{className:"tool-card",children:[c.jsxs("div",{className:"tool-card-head",children:[c.jsx("span",{className:"tool-card-name",children:e.toolName}),c.jsx("span",{className:`tool-card-state ${n?e.isError?"error":"ok":"running"}`,children:n?e.isError?"error":"done":"running"})]}),Object.keys(e.args||{}).length>0?c.jsx("pre",{className:"tool-card-pre",children:JSON.stringify(e.args,null,2)}):null,n?c.jsxs("div",{className:"tool-card-meta",children:[typeof s=="number"?c.jsxs("span",{children:[s,"ms"]}):null,typeof o=="number"?c.jsxs("span",{children:[o,"b"]}):null,typeof i=="number"?c.jsxs("span",{children:["HTTP ",i]}):null,typeof a=="string"&&a?c.jsx("span",{children:a}):null]}):null,r!==void 0?c.jsx("pre",{className:"tool-card-pre",children:w8(r)}):null]})}function pT({align:e}){const t=xh(r=>r.createdAt),n=t?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return c.jsx("div",{className:e==="right"?"mc-msg-time mc-msg-time-right":"mc-msg-time",children:n})}function _8(){const e=xh(n=>e8(n.content)),t=xh(n=>Array.isArray(n.content)?n.content.some(r=>r.type==="text"?!!ey(r.text??"").visibleText.trim():r.type==="tool-call"):!1);return c.jsxs(pc.Root,{children:[c.jsx(pc.Avatar,{}),t?c.jsx(pc.Content,{}):c.jsxs("div",{className:"mc-assistant-placeholder","aria-live":"polite",children:[c.jsx("span",{className:"mc-assistant-placeholder-dot"}),c.jsx("span",{className:"mc-assistant-placeholder-dot"}),c.jsx("span",{className:"mc-assistant-placeholder-dot"}),c.jsx("span",{className:"mc-assistant-placeholder-text",children:"Thinking"})]}),e.trim()?c.jsxs("details",{className:"mc-think-details",open:!0,children:[c.jsxs("summary",{children:[c.jsx("span",{className:"mc-think-summary-icon","aria-hidden":"true"}),c.jsx("span",{children:"Thinking & Processing ..."})]}),c.jsx("pre",{className:"mc-think-content",children:e})]}):null,c.jsx(Gu,{}),c.jsx(Q0,{}),c.jsx(pT,{align:"left"})]})}function S8(){return c.jsxs(mc.Root,{children:[c.jsx(mc.Attachments,{}),c.jsxs(Mr,{hasContent:!0,children:[c.jsx(Vk,{}),c.jsxs("div",{className:"mc-user-content-wrap",children:[c.jsx(mc.Content,{}),c.jsx(pT,{align:"right"})]})]}),c.jsx(Gu,{})]})}function C8({adapter:e,initialMessages:t,runtimeKey:n}){const r=g5({preprocess:o=>ey(o).visibleText}),s=_A(e,{initialMessages:t,maxSteps:100});return c.jsx(QS,{runtime:s,children:c.jsx("div",{className:"aui-root h-full min-h-0",children:c.jsx(iB,{assistantMessage:{allowCopy:!0,allowReload:!1,allowSpeak:!1,allowFeedbackNegative:!1,allowFeedbackPositive:!1,components:{Text:r,ToolFallback:b8}},userMessage:{allowEdit:!1},composer:{allowAttachments:!1},components:{AssistantMessage:_8,UserMessage:S8},strings:{composer:{input:{placeholder:"Message MicroClaw..."}}},assistantAvatar:{fallback:"M"}})})},n)}function k8(e){const t=[];for(const n of e.split(",")){const r=n.trim();if(!r)continue;const s=Number(r);Number.isInteger(s)&&s>0&&t.push(s)}return Array.from(new Set(t))}function Ow(e,t){const n=e.trim();if(!n)return[];const r=()=>{const s=[];for(const o of n.split(",")){const i=o.trim();if(!i)continue;if(!/^-?\d+$/.test(i))throw new Error(`${t} must be a CSV of integers or a JSON integer array`);const a=Number(i);if(!Number.isSafeInteger(a))throw new Error(`${t} contains an out-of-range integer`);s.push(a)}return Array.from(new Set(s))};if(n.startsWith("[")){let s;try{s=JSON.parse(n)}catch(i){throw new Error(`${t} must be valid JSON array: ${i instanceof Error?i.message:String(i)}`)}if(!Array.isArray(s))throw new Error(`${t} must be a JSON array when using JSON format`);const o=[];for(const i of s){if(typeof i!="number"||!Number.isSafeInteger(i))throw new Error(`${t} JSON array must contain integers only`);o.push(i)}return Array.from(new Set(o))}return r()}function E8(e,t){const n=e.trim().toLowerCase();if(!n)return null;if(n==="true"||n==="1"||n==="yes")return!0;if(n==="false"||n==="0"||n==="no")return!1;throw new Error(`${t} must be true/false (or 1/0)`)}function T8(e,t="string"){if(t==="bool"){if(typeof e=="boolean")return e?"true":"false";const n=String(e||"").trim().toLowerCase();return n?n==="true"||n==="1"||n==="yes"?"true":n==="false"||n==="0"||n==="no"?"false":String(e||""):""}return String(e||"")}function wf(e){return String(e||"").trim().toLowerCase()==="shared"?"shared":"chat"}function ee({label:e,description:t,children:n}){return c.jsxs(Ct,{className:"p-3",children:[c.jsx(Y,{size:"2",weight:"medium",children:e}),c.jsx(Y,{size:"1",color:"gray",className:"mt-1 block",children:t}),c.jsx("div",{className:"mt-2",children:n})]})}function Yl({label:e,description:t,checked:n,onCheckedChange:r,className:s,style:o}){return c.jsx("div",{className:s,style:o,children:c.jsxs(Ln,{justify:"between",align:"center",children:[c.jsxs("div",{children:[c.jsx(Y,{size:"2",children:e}),t?c.jsx(Y,{size:"1",color:"gray",className:"mt-1 block",children:t}):null]}),c.jsx(aT,{checked:n,onCheckedChange:r})]})})}function qi({title:e="Setup Steps",steps:t}){return c.jsxs(Ct,{className:"mt-3 p-3",children:[c.jsx(Y,{size:"2",weight:"bold",children:e}),c.jsx("ol",{className:"mt-2 list-decimal space-y-1 pl-5 text-sm text-slate-400",children:t.map((n,r)=>c.jsx("li",{children:n},r))})]})}function N8(){var gy,yy,vy;const[e,t]=f.useState(dT()),[n,r]=f.useState(fT()),[s,o]=f.useState([]),[i,a]=f.useState([]),[l,u]=f.useState(()=>os()),[d,h]=f.useState([]),[p,m]=f.useState({}),[w,y]=f.useState(0),[b,g]=f.useState(""),[v,x]=f.useState("Idle"),[C,R]=f.useState(""),[k,N]=f.useState(!1),[I,M]=f.useState(!1),[A,L]=f.useState(null),[E,W]=f.useState({}),[U,q]=f.useState(null),[K,Q]=f.useState(!1),[j,$]=f.useState(""),[S,oe]=f.useState(""),[me,T]=f.useState(!1),[Pe,Xe]=f.useState(!1),[be,J]=f.useState(""),[ge,Oe]=f.useState(null),[_e,ye]=f.useState([]),[Te,lt]=f.useState([]),[Lt,Kt]=f.useState(""),[_n,Wn]=f.useState(""),[Is,Kn]=f.useState(!1),[ki,ld]=f.useState(!1),[pr,Ei]=f.useState(!1),[ol,cd]=f.useState(!1),[O,F]=f.useState(""),[ie,fe]=f.useState(""),[Ae,qt]=f.useState(()=>f8()),[qn,Gt]=f.useState(""),[Fr,mr]=f.useState(""),[vt,gr]=f.useState(""),[Rt,il]=f.useState(!1),[mT,al]=f.useState(!1),[ty,ll]=f.useState(""),[ud,ny]=f.useState(!1),[ry,sy]=f.useState(""),[oy,iy]=f.useState(""),[gT,ay]=f.useState(""),cl=f.useMemo(()=>{const _=new Map;for(const ae of[...i,...s])_.has(ae.session_key)||_.set(ae.session_key,ae);const H=!_.has(l);if(H&&!l.startsWith("chat:")&&_.set(l,{session_key:l,label:l,chat_id:0,chat_type:"web"}),_.size===0){const ae=os();_.set(ae,{session_key:ae,label:ae,chat_id:0,chat_type:"web"})}const D=Array.from(_.values()),V=H&&!l.startsWith("chat:");return D.sort((ae,he)=>{if(V){if(ae.session_key===l)return-1;if(he.session_key===l)return 1}const qe=Date.parse(ae.last_message_time||""),$e=Date.parse(he.last_message_time||""),Yt=Number.isFinite(qe),Ze=Number.isFinite($e);if(Yt&&Ze){if($e!==qe)return $e-qe}else if(Yt!==Ze)return Yt?-1:1;return ae.label.localeCompare(he.label)}),D},[i,s,l]),Ti=f.useMemo(()=>cl.find(_=>_.session_key===l),[cl,l]),yT=(Ti==null?void 0:Ti.label)||l,ly=!!(Ti&&Ti.chat_type!=="web");function Ni(_){return _ instanceof Fs&&_.status===401}function cy(_){return _ instanceof Fs&&_.status===403}function Ri(_="Authentication required. Please sign in."){Ei(!1),F(_),g(_)}async function ul(){try{const _=await ut("/api/auth/status"),H=!!_.has_password,D=!!_.authenticated,V=!!_.using_default_password;return ld(H),Ei(D),cd(V),Kn(!0),D&&(F(""),g("")),D&&V&&al(!0),V||al(!1),_}catch(_){throw Kn(!0),_}}async function uy(){try{const _=await ut("/api/health");ay(String(_.version||"").trim())}catch{}}async function dy(){g("");const _=await ut("/api/sessions"),H=Array.isArray(_.sessions)?_.sessions:[];o(H);const D=jw(H),V=c8(),he=(V?H.some($e=>$e.session_key===V):!1)?V:D;u(he),Aw(he),H.some($e=>$e.session_key===he)?await ao(he):(h([]),m($e=>({...$e,[he]:0})),y($e=>$e+1),g(""))}async function dl(){try{const _=await ut("/api/sessions");o(Array.isArray(_.sessions)?_.sessions:[])}catch(_){if(Ni(_)){Ri();return}throw _}}async function ao(_=l){try{const H=new URLSearchParams({session_key:_,limit:"200"}),D=await ut(`/api/history?${H.toString()}`),V=Array.isArray(D.messages)?D.messages:[],ae=y8(V);h(ae),m(he=>({...he,[_]:V.length})),y(he=>he+1),g("")}catch(H){if(Ni(H)){Ri();return}if(H instanceof Fs&&H.status===404){h([]),m(D=>({...D,[_]:0})),y(D=>D+1),g("");return}throw H}}async function dd(_){const H=_.trim();if(!H){F("Please enter your password.");return}il(!0),F("");try{await ut("/api/auth/login",{method:"POST",body:JSON.stringify({password:H})}),fe(""),await ul(),await dy(),x("Authenticated")}catch(D){if(D instanceof Fs){if(D.status===401){F("Password is incorrect. Please try again or reset with `microclaw web password-generate`.");return}if(D.status===429){F("Too many login attempts. Please wait and retry.");return}}F(D instanceof Error?D.message:String(D))}finally{il(!1)}}async function fy(){const _=Ae.trim(),H=qn.trim(),D=Fr.trim();if(!_){F("Bootstrap token is required.");return}if(H.length<8){F("Password must be at least 8 characters.");return}if(H!==D){F("Passwords do not match.");return}il(!0),F("");try{await ut("/api/auth/password",{method:"POST",headers:{"x-bootstrap-token":_},body:JSON.stringify({password:H})}),h8(),await dd(H),Gt(""),mr(""),gr("")}catch(V){if(V instanceof Fs&&V.status===401){F("Bootstrap token is invalid or expired. Please copy the latest token from startup logs.");return}F(V instanceof Error?V.message:String(V))}finally{il(!1)}}async function hy(){const _=ry.trim(),H=oy.trim();if(_.length<8){ll("Password must be at least 8 characters.");return}if(_!==H){ll("Passwords do not match.");return}ny(!0),ll("");try{await ut("/api/auth/password",{method:"POST",body:JSON.stringify({password:_})}),sy(""),iy(""),await ul(),al(!1),x("Password updated")}catch(D){ll(D instanceof Error?D.message:String(D))}finally{ny(!1)}}async function vT(){x("Signing out..."),g("");try{await ut("/api/auth/logout",{method:"POST"})}catch(_){g(_ instanceof Error?_.message:String(_))}finally{o([]),a([]),h([]),m({}),y(_=>_+1),ay(""),u(os()),T(!1),M(!1),await ul().catch(()=>{Ei(!1)}),F("Signed out. Please sign in again."),x("Signed out")}}const xT=f.useMemo(()=>({run:async function*(_){const H=g8(_.messages);if(H){N(!0),x("Sending..."),R(""),g("");try{if(ly)throw x("Read-only channel"),new Error("This channel is read-only in Web UI. Send messages from the original channel.");const V=(await ut("/api/send_stream",{method:"POST",body:JSON.stringify({session_key:l,sender_name:"web-user",message:H}),signal:_.abortSignal})).run_id;if(!V)throw new Error("missing run_id");const ae=new URLSearchParams({run_id:V}),he=await fetch(`/api/stream?${ae.toString()}`,{method:"GET",headers:hT(),credentials:"same-origin",cache:"no-store",signal:_.abortSignal});if(!he.ok){const Ze=await he.text().catch(()=>"");throw new Fs(Ze||`HTTP ${he.status}`,he.status)}let qe="";const $e=new Map,Yt=()=>{const Ze=Array.from($e.entries()).map(([Qe,re])=>({type:"tool-call",toolCallId:Qe,toolName:re.name,args:re.args,argsText:JSON.stringify(re.args),...re.result?{result:re.result}:{},...re.isError!==void 0?{isError:re.isError}:{}}));return[...qe?[{type:"text",text:qe}]:[],...Ze]};for await(const Ze of m8(he,_.abortSignal)){const Qe=Ze.payload;if(Ze.event==="replay_meta"){if(Qe.replay_truncated===!0){const re=typeof Qe.oldest_event_id=="number"?Qe.oldest_event_id:null,ct=re!==null?`Stream history was truncated. Recovery resumed from event #${re}.`:"Stream history was truncated. Recovery resumed from the earliest available event.";R(ct)}continue}if(Ze.event==="status"){const re=typeof Qe.message=="string"?Qe.message:"";re&&x(re);continue}if(Ze.event==="tool_start"){const re=Qe;if(!re.tool_use_id||!re.name)continue;$e.set(re.tool_use_id,{name:re.name,args:Mw(re.input)}),x(`tool: ${re.name}...`);const ct=Yt();ct.length>0&&(yield{content:ct});continue}if(Ze.event==="tool_result"){const re=Qe;if(!re.tool_use_id||!re.name)continue;const ct=$e.get(re.tool_use_id),zr=Mw({output:re.output??"",duration_ms:re.duration_ms??null,bytes:re.bytes??null,status_code:re.status_code??null,error_type:re.error_type??null});$e.set(re.tool_use_id,{name:re.name,args:(ct==null?void 0:ct.args)??{},result:zr,isError:!!re.is_error});const $r=typeof re.duration_ms=="number"?re.duration_ms:0,Ur=typeof re.bytes=="number"?re.bytes:0;x(`tool: ${re.name} ${re.is_error?"error":"ok"} ${$r}ms ${Ur}b`);const vr=Yt();vr.length>0&&(yield{content:vr});continue}if(Ze.event==="delta"){const re=typeof Qe.delta=="string"?Qe.delta:"";if(!re)continue;qe+=re;const ct=Yt();ct.length>0&&(yield{content:ct});continue}if(Ze.event==="error"){const re=typeof Qe.error=="string"?Qe.error:"stream error";throw new Error(re)}if(Ze.event==="done"){x("Done");break}}}catch(D){throw Ni(D)&&(Ri("Session expired. Please sign in again."),x("Auth required")),D}finally{N(!1),dl(),ao(l)}}}}),[l,ly]);function wT(){if((p[l]??d.length)===0){x("Current session is empty. Reuse this session.");return}const H=os(),D=new Date().toISOString(),V={session_key:H,label:H,chat_id:0,chat_type:"web",last_message_time:D};a(ae=>ae.some(he=>he.session_key===H)?ae:[V,...ae]),u(H),m(ae=>({...ae,[H]:0})),h([]),y(ae=>ae+1),R(""),g(""),x("Idle")}function bT(){t(_=>_==="dark"?"light":"dark")}async function _T(_){try{await ut("/api/reset",{method:"POST",body:JSON.stringify({session_key:_})}),_===l&&await ao(_),await dl(),x("Session reset")}catch(H){g(H instanceof Error?H.message:String(H))}}async function ST(_){try{_===l&&await ao(_),await dl(),x("Session refreshed")}catch(H){g(H instanceof Error?H.message:String(H))}}async function CT(_){var H;try{const D=await ut("/api/delete_session",{method:"POST",body:JSON.stringify({session_key:_})});D.deleted===!1&&x("No session data found to delete."),a(ae=>ae.filter(he=>he.session_key!==_)),m(ae=>{const he={...ae};return delete he[_],he});const V=((H=cl.find(ae=>ae.session_key!==_))==null?void 0:H.session_key)||os();_===l&&(u(V),await ao(V)),await dl(),D.deleted!==!1&&x("Session deleted")}catch(D){g(D instanceof Error?D.message:String(D))}}async function kT(){var _,H,D,V,ae,he,qe,$e,Yt,Ze,Qe,re,ct,zr,$r,Ur,vr,lo,co,uo,fo,ho,po;oe(""),$(""),Q(!0);try{const[Ne,Hr]=await Promise.all([ut("/api/config"),ut("/api/config/self_check").catch(ve=>($(ve instanceof Error?ve.message:String(ve)),null))]);L(Ne.config||null),q(Hr);const Ps=((_=Ne.config)==null?void 0:_.channels)||{},ue=Ps.telegram||{},xt=ya(ue),Sn=o8(ue),Cn=i8(ue),ht=un(Cn.length||1),rt={};for(let ve=1;ve<=ns;ve+=1){const wt=Cn[ve-1],go=(wt==null?void 0:wt[0])||Gl(ve),Dt=(wt==null?void 0:wt[1])||{};rt[`telegram_bot_${ve}_account_id`]=go,rt[`telegram_bot_${ve}_token`]="",rt[`telegram_bot_${ve}_has_token`]=!!(typeof Dt.bot_token=="string"&&String(Dt.bot_token||"").trim()),rt[`telegram_bot_${ve}_username`]=String(Dt.bot_username||""),rt[`telegram_bot_${ve}_allowed_user_ids`]=Array.isArray(Dt.allowed_user_ids)?Dt.allowed_user_ids.join(","):""}const kn=Ps.discord||{},mo=ya(kn),Gn=Yh(kn),hd=un(Gn.length||1),En={};for(let ve=1;ve<=ns;ve+=1){const wt=Gn[ve-1],go=(wt==null?void 0:wt[0])||Gr(ve),Dt=(wt==null?void 0:wt[1])||{};En[`discord_bot_${ve}_account_id`]=go,En[`discord_bot_${ve}_token`]="",En[`discord_bot_${ve}_has_token`]=!!(typeof Dt.bot_token=="string"&&String(Dt.bot_token||"").trim()),En[`discord_bot_${ve}_allowed_channels_csv`]=Array.isArray(Dt.allowed_channels)?Dt.allowed_channels.join(","):"",En[`discord_bot_${ve}_username`]=String(Dt.bot_username||""),En[`discord_bot_${ve}_model`]=String(Dt.model||"")}const Xt=Ps.irc||{};W({llm_provider:((H=Ne.config)==null?void 0:H.llm_provider)||"",model:((D=Ne.config)==null?void 0:D.model)||Pw(String(((V=Ne.config)==null?void 0:V.llm_provider)||"anthropic")),llm_base_url:String(((ae=Ne.config)==null?void 0:ae.llm_base_url)||""),api_key:"",bot_username:String(((he=Ne.config)==null?void 0:he.bot_username)||""),telegram_account_id:xt,telegram_bot_count:ht,telegram_model:String(ue.model||Sn.model||""),telegram_allowed_user_ids:Array.isArray(ue.allowed_user_ids)?ue.allowed_user_ids.join(","):"",...rt,discord_account_id:mo,discord_bot_count:hd,...En,irc_server:String(Xt.server||""),irc_port:String(Xt.port||""),irc_nick:String(Xt.nick||""),irc_username:String(Xt.username||""),irc_real_name:String(Xt.real_name||""),irc_channels:String(Xt.channels||""),irc_password:"",irc_mention_required:String(Xt.mention_required||""),irc_tls:String(Xt.tls||""),irc_tls_server_name:String(Xt.tls_server_name||""),irc_tls_danger_accept_invalid_certs:String(Xt.tls_danger_accept_invalid_certs||""),irc_model:String(Xt.model||""),web_bot_username:String(((qe=Ps.web)==null?void 0:qe.bot_username)||""),working_dir_isolation:wf((($e=Ne.config)==null?void 0:$e.working_dir_isolation)||st.working_dir_isolation),high_risk_tool_user_confirmation_required:((Yt=Ne.config)==null?void 0:Yt.high_risk_tool_user_confirmation_required)!==!1,max_tokens:Number(((Ze=Ne.config)==null?void 0:Ze.max_tokens)??8192),max_tool_iterations:Number(((Qe=Ne.config)==null?void 0:Qe.max_tool_iterations)??100),max_document_size_mb:Number(((re=Ne.config)==null?void 0:re.max_document_size_mb)??st.max_document_size_mb),memory_token_budget:Number(((ct=Ne.config)==null?void 0:ct.memory_token_budget)??st.memory_token_budget),show_thinking:!!((zr=Ne.config)!=null&&zr.show_thinking),web_enabled:!!(($r=Ne.config)!=null&&$r.web_enabled),web_host:String(((Ur=Ne.config)==null?void 0:Ur.web_host)||"127.0.0.1"),web_port:Number(((vr=Ne.config)==null?void 0:vr.web_port)??10961),reflector_enabled:((lo=Ne.config)==null?void 0:lo.reflector_enabled)!==!1,reflector_interval_mins:Number(((co=Ne.config)==null?void 0:co.reflector_interval_mins)??st.reflector_interval_mins),embedding_provider:String(((uo=Ne.config)==null?void 0:uo.embedding_provider)||""),embedding_api_key:"",embedding_base_url:String(((fo=Ne.config)==null?void 0:fo.embedding_base_url)||""),embedding_model:String(((ho=Ne.config)==null?void 0:ho.embedding_model)||""),embedding_dim:String(((po=Ne.config)==null?void 0:po.embedding_dim)||""),...Object.fromEntries(ql.flatMap(ve=>{const wt=Ps[ve.name]||{},go=Yh(wt),Dt=un(go.length||1),Pi=[[`${ve.name}__account_id`,ya(wt)],[`${ve.name}__bot_count`,Dt]];for(let Vr=1;Vr<=ns;Vr+=1){const yo=go[Vr-1],RT=(yo==null?void 0:yo[0])||Gr(Vr),xy=(yo==null?void 0:yo[1])||{};Pi.push([`${ve.name}__bot_${Vr}__account_id`,RT]);for(const As of ve.fields)As.secret?(Pi.push([`${ve.name}__bot_${Vr}__has__${As.yamlKey}`,!!String(xy[As.yamlKey]||"").trim()]),Pi.push([`${ve.name}__bot_${Vr}__${As.yamlKey}`,""])):Pi.push([`${ve.name}__bot_${Vr}__${As.yamlKey}`,T8(xy[As.yamlKey],As.valueType||"string")])}return Pi}))}),M(!0)}catch(Ne){if(Ni(Ne)){Ri("Session expired. Please sign in again.");return}if(cy(Ne)){g("Forbidden: Runtime Config is not accessible with current credentials.");return}g(Ne instanceof Error?Ne.message:String(Ne))}finally{Q(!1)}}async function fd(_=l){Xe(!0),Kt(""),J(""),Oe(null),ye([]),lt([]);const H=s.some(V=>V.session_key===_),D=H?_:s.length>0?jw(s):_;Wn(D);try{if(!H&&s.length===0){Kt("No usage data yet. Send a message in this session first."),T(!0);return}const V=new URLSearchParams({session_key:D}),ae=await ut(`/api/usage?${V.toString()}`);J(String(ae.report||"").trim()),Oe(ae.memory_observability??null);const he=new URLSearchParams({session_key:D,scope:"chat",hours:"168",limit:"1000",offset:"0"}),qe=await ut(`/api/memory_observability?${he.toString()}`);ye(Array.isArray(qe.reflector_runs)?qe.reflector_runs:[]),lt(Array.isArray(qe.injection_logs)?qe.injection_logs:[]),T(!0)}catch(V){if(Ni(V)){Ri("Session expired. Please sign in again.");return}if(cy(V)){Kt("Forbidden: Usage panel requires permission."),T(!0);return}Kt(V instanceof Error?V.message:String(V)),T(!0)}finally{Xe(!1)}}function ne(_,H){W(D=>({...D,[_]:H}))}async function ET(){try{const _=String(E.llm_provider||"").trim().toLowerCase();if(_==="openai-codex"){const ue=String(E.api_key||"").trim(),xt=String(E.llm_base_url||"").trim();if(ue||xt){oe("Save failed: openai-codex ignores api_key/llm_base_url in microclaw config. Configure ~/.codex/auth.json and ~/.codex/config.toml.");return}}const H={llm_provider:String(E.llm_provider||""),model:String(E.model||""),bot_username:String(E.bot_username||"").trim(),web_bot_username:String(E.web_bot_username||"").trim()||null,working_dir_isolation:wf(E.working_dir_isolation||st.working_dir_isolation),high_risk_tool_user_confirmation_required:E.high_risk_tool_user_confirmation_required!==!1,max_tokens:Number(E.max_tokens||8192),max_tool_iterations:Number(E.max_tool_iterations||100),max_document_size_mb:Number(E.max_document_size_mb||st.max_document_size_mb),memory_token_budget:Number(E.memory_token_budget||st.memory_token_budget),show_thinking:!!E.show_thinking,web_enabled:!!E.web_enabled,web_host:String(E.web_host||"127.0.0.1"),web_port:Number(E.web_port||10961),reflector_enabled:E.reflector_enabled!==!1,reflector_interval_mins:Number(E.reflector_interval_mins||st.reflector_interval_mins),embedding_provider:String(E.embedding_provider||"").trim()||null,embedding_base_url:String(E.embedding_base_url||"").trim()||null,embedding_model:String(E.embedding_model||"").trim()||null,embedding_dim:String(E.embedding_dim||"").trim()?Number(E.embedding_dim):null};String(E.llm_provider||"").trim().toLowerCase()==="custom"?H.llm_base_url=String(E.llm_base_url||"").trim()||null:_==="openai-codex"&&(H.llm_base_url=null);const D=String(E.api_key||"").trim();_==="openai-codex"?H.api_key="":D&&(H.api_key=D);const V=Co(E.telegram_account_id),ae=String(E.telegram_model||"").trim(),he=un(E.telegram_bot_count),qe=Ow(String(E.telegram_allowed_user_ids||""),"telegram_allowed_user_ids"),$e={};for(let ue=1;ue<=he;ue+=1){const xt=Co(E[`telegram_bot_${ue}_account_id`]||Gl(ue)),Sn=String(E[`telegram_bot_${ue}_token`]||"").trim(),Cn=!!E[`telegram_bot_${ue}_has_token`],ht=String(E[`telegram_bot_${ue}_username`]||"").trim(),rt=Ow(String(E[`telegram_bot_${ue}_allowed_user_ids`]||""),`telegram_bot_${ue}_allowed_user_ids`);if(Sn||Cn||ht||rt.length>0||xt===V){if(Object.prototype.hasOwnProperty.call($e,xt))throw new Error(`Duplicate Telegram account id: ${xt}`);$e[xt]={enabled:!0,...Sn?{bot_token:Sn}:{},...ht?{bot_username:ht}:{},...rt.length>0?{allowed_user_ids:rt}:{}}}}const Yt=Co(E.discord_account_id),Ze=un(E.discord_bot_count),Qe={};for(let ue=1;ue<=Ze;ue+=1){const xt=Co(E[`discord_bot_${ue}_account_id`]||Gr(ue)),Sn=String(E[`discord_bot_${ue}_token`]||"").trim(),Cn=!!E[`discord_bot_${ue}_has_token`],ht=k8(String(E[`discord_bot_${ue}_allowed_channels_csv`]||"")),rt=String(E[`discord_bot_${ue}_username`]||"").trim(),kn=String(E[`discord_bot_${ue}_model`]||"").trim();if(Sn||Cn||ht.length>0||rt||kn||xt===Yt){if(Object.prototype.hasOwnProperty.call(Qe,xt))throw new Error(`Duplicate Discord account id: ${xt}`);Qe[xt]={enabled:!0,...Sn?{bot_token:Sn}:{},...ht.length>0?{allowed_channels:ht}:{},...rt?{bot_username:rt}:{},...kn?{model:kn}:{}}}}const re=String(E.irc_server||"").trim(),ct=String(E.irc_port||"").trim(),zr=String(E.irc_nick||"").trim(),$r=String(E.irc_username||"").trim(),Ur=String(E.irc_real_name||"").trim(),vr=String(E.irc_channels||"").trim(),lo=String(E.irc_password||"").trim(),co=String(E.irc_mention_required||"").trim(),uo=String(E.irc_tls||"").trim(),fo=String(E.irc_tls_server_name||"").trim(),ho=String(E.irc_tls_danger_accept_invalid_certs||"").trim(),po=String(E.irc_model||"").trim(),Ne=String(E.embedding_api_key||"").trim();Ne&&(H.embedding_api_key=Ne);const Hr={};(Object.keys($e).length>0||qe.length>0||ae)&&(Hr.telegram={default_account:V,...ae?{model:ae}:{},...qe.length>0?{allowed_user_ids:qe}:{},accounts:$e}),Object.keys(Qe).length>0&&(Hr.discord={default_account:Yt,accounts:Qe}),(re||ct||zr||$r||Ur||vr||lo||co||uo||fo||ho||po)&&(Hr.irc={...re?{server:re}:{},...ct?{port:ct}:{},...zr?{nick:zr}:{},...$r?{username:$r}:{},...Ur?{real_name:Ur}:{},...vr?{channels:vr}:{},...lo?{password:lo}:{},...co?{mention_required:co}:{},...uo?{tls:uo}:{},...fo?{tls_server_name:fo}:{},...ho?{tls_danger_accept_invalid_certs:ho}:{},...po?{model:po}:{}});for(const ue of ql){const xt=Co(E[`${ue.name}__account_id`]),Sn=un(E[`${ue.name}__bot_count`]),Cn={};for(let ht=1;ht<=Sn;ht+=1){const rt=Co(E[`${ue.name}__bot_${ht}__account_id`]||Gr(ht)),kn={};let mo=rt===xt;for(const Gn of ue.fields){const hd=`${ue.name}__bot_${ht}__${Gn.yamlKey}`,En=String(E[hd]||"").trim(),Xt=Gn.secret?!!E[`${ue.name}__bot_${ht}__has__${Gn.yamlKey}`]:!1;if(En){if((Gn.valueType||"string")==="bool"){const ve=E8(En,`${ue.name}_bot_${ht}_${Gn.yamlKey}`);ve!==null&&(kn[Gn.yamlKey]=ve)}else kn[Gn.yamlKey]=En;mo=!0}else Xt&&(mo=!0)}if(mo){if(Object.prototype.hasOwnProperty.call(Cn,rt))throw new Error(`Duplicate ${ue.name} account id: ${rt}`);Cn[rt]={enabled:!0,...kn}}}Object.keys(Cn).length>0&&(Hr[ue.name]={default_account:xt,accounts:{...Cn}})}Object.keys(Hr).length>0&&(H.channel_configs=Hr),await ut("/api/config",{method:"PUT",body:JSON.stringify(H)}),Q(!0),$("");const Ps=await ut("/api/config/self_check").catch(ue=>($(ue instanceof Error?ue.message:String(ue)),null));q(Ps),Q(!1),oe("Saved. Restart microclaw to apply changes.")}catch(_){oe(`Save failed: ${_ instanceof Error?_.message:String(_)}`)}}f.useEffect(()=>{a8(e),document.documentElement.classList.toggle("dark",e==="dark")},[e]),f.useEffect(()=>{l8(n),document.documentElement.setAttribute("data-ui-theme",n)},[n]),f.useEffect(()=>{(async()=>{try{const _=await ul();if(_.authenticated&&await uy(),!_.has_password||!_.authenticated)return;await dy()}catch(_){g(_ instanceof Error?_.message:String(_))}})()},[]),f.useEffect(()=>{pr&&ao(l).catch(_=>g(_ instanceof Error?_.message:String(_)))},[l,pr]),f.useEffect(()=>{pr&&uy().catch(()=>{})},[pr]),f.useEffect(()=>{Aw(l)},[l]);const py=`${l}-${w}`,TT=s8[n]??"green",Ii=String(E.llm_provider||st.llm_provider).trim().toLowerCase(),NT=Array.from(new Set([Ii,...n8.map(_=>_.toLowerCase())].filter(Boolean))),my=r8[Ii]||[],Br=e==="dark"?"rounded-xl border p-5":"rounded-xl border border-slate-200/80 p-5",yr=e==="dark"?{borderColor:"color-mix(in srgb, var(--mc-border-soft) 68%, transparent)"}:void 0,fl=e==="dark"?"rounded-lg border p-3":"rounded-lg border border-slate-200/80 p-3",hl=e==="dark"?{borderColor:"color-mix(in srgb, var(--mc-border-soft) 60%, transparent)"}:void 0;return c.jsx(ad,{appearance:e,accentColor:TT,grayColor:"slate",radius:"medium",scaling:"100%",children:c.jsxs("div",{className:e==="dark"?"h-screen w-screen bg-[var(--mc-bg-main)]":"h-screen w-screen bg-[radial-gradient(1200px_560px_at_-8%_-10%,#d1fae5_0%,transparent_58%),radial-gradient(1200px_560px_at_108%_-12%,#e0f2fe_0%,transparent_58%),#f8fafc]",children:[c.jsxs("div",{className:"grid h-full min-h-0 grid-cols-[320px_minmax(0,1fr)]",children:[c.jsx(X6,{appearance:e,onToggleAppearance:bT,uiTheme:n,onUiThemeChange:_=>r(_),uiThemeOptions:uT,sessionItems:cl,selectedSessionKey:l,onSessionSelect:_=>u(_),onRefreshSession:_=>void ST(_),onResetSession:_=>void _T(_),onDeleteSession:_=>void CT(_),onOpenConfig:kT,onOpenUsage:()=>fd(l),onNewSession:wT,appVersion:gT}),c.jsxs("main",{className:e==="dark"?"flex h-full min-h-0 min-w-0 flex-col overflow-hidden bg-[var(--mc-bg-panel)]":"flex h-full min-h-0 min-w-0 flex-col overflow-hidden bg-white/95",children:[c.jsx("header",{className:e==="dark"?"sticky top-0 z-10 border-b border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-panel)]/95 px-4 py-3 backdrop-blur-sm":"sticky top-0 z-10 border-b border-slate-200 bg-white/92 px-4 py-3 backdrop-blur-sm",children:c.jsx(Gg,{size:"6",children:yT})}),c.jsxs("div",{className:e==="dark"?"flex min-h-0 flex-1 flex-col bg-[linear-gradient(to_bottom,var(--mc-bg-panel),var(--mc-bg-main)_28%)]":"flex min-h-0 flex-1 flex-col bg-[linear-gradient(to_bottom,#f8fafc,white_20%)]",children:[c.jsxs("div",{className:"mx-auto w-full max-w-5xl px-3 pt-3",children:[C?c.jsx(dn,{color:"orange",size:"1",variant:"soft",children:c.jsx(fn,{children:C})}):null,b?c.jsx(dn,{color:"red",size:"1",variant:"soft",className:C?"mt-2":"",children:c.jsx(fn,{children:b})}):null]}),c.jsx("div",{className:"min-h-0 flex-1 px-1 pb-1",children:c.jsx(C8,{adapter:xT,initialMessages:d,runtimeKey:py},py)})]})]})]}),c.jsx(Do,{open:Is&&!ki,children:c.jsxs(Fo,{maxWidth:"520px",children:[c.jsx(Bo,{children:"Set Operator Password"}),c.jsx(zo,{size:"2",children:"First-time setup: set an admin password using the bootstrap token from server logs."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(ee,{label:"Bootstrap Token",description:c.jsxs(c.Fragment,{children:["Copy ",c.jsx("code",{children:"x-bootstrap-token"})," from MicroClaw startup logs."]}),children:c.jsx(te,{className:"mt-2",value:Ae,onChange:_=>qt(_.target.value),placeholder:"902439dd-a93b-4c66-81bb-7ffba0057936"})}),c.jsxs(ee,{label:"Password",description:c.jsx(c.Fragment,{children:"At least 8 characters."}),children:[c.jsx(te,{className:"mt-2",type:"password",value:qn,onChange:_=>Gt(_.target.value),placeholder:"********"}),c.jsx("div",{className:"mt-2 flex items-center justify-end",children:c.jsx(hn,{size:"1",variant:"soft",onClick:()=>{const _=p8();Gt(_),mr(_),gr(_)},disabled:Rt,children:"Generate Password"})})]}),c.jsx(ee,{label:"Confirm Password",description:c.jsx(c.Fragment,{children:"Re-enter the same password."}),children:c.jsx(te,{className:"mt-2",type:"password",value:Fr,onChange:_=>mr(_.target.value),onKeyDown:_=>{_.key==="Enter"&&fy()},placeholder:"********"})})]}),O?c.jsx(dn,{color:"red",size:"1",variant:"soft",className:"mt-3",children:c.jsx(fn,{children:O})}):null,vt?c.jsx(dn,{color:"green",size:"1",variant:"soft",className:"mt-3",children:c.jsxs(fn,{children:["Generated password: ",c.jsx("code",{children:vt})]})}):null,c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsx(hn,{onClick:()=>void fy(),disabled:Rt,children:Rt?"Applying...":"Set Password"})})]})}),c.jsx(Do,{open:Is&&ki&&!pr,children:c.jsxs(Fo,{maxWidth:"460px",children:[c.jsx(Bo,{children:"Sign In"}),c.jsx(zo,{size:"2",children:"Enter your operator password to access sessions and history."}),ol?c.jsx(dn,{color:"orange",size:"1",variant:"soft",className:"mt-2",children:c.jsxs(fn,{children:["No custom password is set yet. Temporary default password: ",c.jsx("code",{children:"helloworld"})]})}):null,c.jsx(ee,{label:"Password",description:c.jsx(c.Fragment,{children:"Use the password configured for this Web UI."}),children:c.jsx(te,{className:"mt-2",type:"password",value:ie,onChange:_=>fe(_.target.value),onKeyDown:_=>{_.key==="Enter"&&dd(ie)},placeholder:"********"})}),O?c.jsx(dn,{color:"red",size:"1",variant:"soft",className:"mt-3",children:c.jsx(fn,{children:O})}):null,c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsx(hn,{onClick:()=>void dd(ie),disabled:Rt,children:Rt?"Signing in...":"Sign In"})})]})}),c.jsx(Do,{open:Is&&pr&&ol&&mT,children:c.jsxs(Fo,{maxWidth:"520px",children:[c.jsx(Bo,{children:"Change Default Password"}),c.jsxs(zo,{size:"2",children:["You are using the default password ",c.jsx("code",{children:"helloworld"}),". Set a new password now, or skip for now."]}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(ee,{label:"New Password",description:c.jsx(c.Fragment,{children:"At least 8 characters."}),children:c.jsx(te,{className:"mt-2",type:"password",value:ry,onChange:_=>sy(_.target.value),placeholder:"********"})}),c.jsx(ee,{label:"Confirm Password",description:c.jsx(c.Fragment,{children:"Re-enter the new password."}),children:c.jsx(te,{className:"mt-2",type:"password",value:oy,onChange:_=>iy(_.target.value),onKeyDown:_=>{_.key==="Enter"&&hy()},placeholder:"********"})})]}),ty?c.jsx(dn,{color:"red",size:"1",variant:"soft",className:"mt-3",children:c.jsx(fn,{children:ty})}):null,c.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[c.jsx(hn,{variant:"soft",onClick:()=>al(!1),disabled:ud,children:"Skip for now"}),c.jsx(hn,{onClick:()=>void hy(),disabled:ud,children:ud?"Updating...":"Update Password"})]})]})}),c.jsx(Do,{open:I,onOpenChange:M,children:c.jsxs(Fo,{maxWidth:"1120px",className:"overflow-hidden flex flex-col",style:{width:"1120px",height:"760px",maxWidth:"1120px",maxHeight:"760px"},children:[c.jsx(Bo,{children:"Settings"}),c.jsx(zo,{size:"2",mb:"3",children:"Channel-first configuration. Save writes to microclaw.config.yaml. Restart is required."}),U?c.jsx(dn,{color:U.risk_level==="high"?"red":U.risk_level==="medium"?"orange":"green",size:"1",variant:"soft",className:"mb-2",children:c.jsxs(fn,{children:["Config self-check: risk=",String(U.risk_level||"none"),", warnings=",Number(U.warning_count||0),"."," ",c.jsx("a",{href:`${ts}/configuration`,target:"_blank",rel:"noreferrer",className:"underline",children:"Docs"})]})}):null,U!=null&&U.security_posture?c.jsxs("details",{className:"mb-2",children:[c.jsx("summary",{className:"cursor-pointer text-sm text-[color:var(--gray-11)]",children:"Security posture details"}),c.jsxs(Ct,{className:"mt-2 p-3",children:[c.jsxs(Y,{size:"2",weight:"bold",children:["Security posture"," ",c.jsx("a",{href:`${ts}/permissions`,target:"_blank",rel:"noreferrer",className:"underline text-[color:var(--mc-accent)]",children:"Rules"})]}),c.jsxs(Y,{size:"1",color:"gray",className:"mt-1 block",children:["sandbox=",String(U.security_posture.sandbox_mode||"off")," | runtime=",String(!!U.security_posture.sandbox_runtime_available)," | backend=",String(U.security_posture.sandbox_backend||"auto")]}),c.jsxs(Y,{size:"1",color:"gray",className:"mt-1 block",children:["mount allowlist: ",String(((gy=U.security_posture.mount_allowlist)==null?void 0:gy.path)||"(default)")," | exists=",String(!!((yy=U.security_posture.mount_allowlist)!=null&&yy.exists))," | has_entries=",String(!!((vy=U.security_posture.mount_allowlist)!=null&&vy.has_entries))]}),c.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:(U.security_posture.execution_policies||[]).map((_,H)=>c.jsxs(Xg,{color:_.risk==="high"?"red":_.risk==="medium"?"orange":"gray",variant:"soft",children:[String(_.tool),": ",String(_.policy)]},`${String(_.tool)}-${H}`))})]})]}):null,K?c.jsx(Y,{size:"1",color:"gray",className:"mb-2 block",children:"Checking critical config risks..."}):null,j?c.jsx(dn,{color:"red",size:"1",variant:"soft",className:"mb-2",children:c.jsxs(fn,{children:["Self-check failed: ",j]})}):null,c.jsx("div",{className:"mt-2 min-h-0 flex-1",children:A?c.jsx(lT,{defaultValue:"general",orientation:"vertical",className:"h-full min-h-0",children:c.jsxs("div",{className:"grid h-full grid-cols-[240px_minmax(0,1fr)] gap-4",children:[c.jsx(Ct,{className:"h-full p-3",style:yr,children:c.jsxs(cT,{className:"mc-settings-tabs-list flex h-full w-full flex-col gap-1",children:[c.jsx(Y,{size:"1",color:"gray",className:"px-2 pt-1 uppercase tracking-wide",children:"Runtime"}),c.jsx(Qr,{value:"general",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  General"}),c.jsx(Qr,{value:"model",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  Model"}),c.jsx(Y,{size:"1",color:"gray",className:"px-2 pt-3 uppercase tracking-wide",children:"Channels"}),c.jsx(Qr,{value:"telegram",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  Telegram"}),c.jsx(Qr,{value:"discord",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  Discord"}),c.jsx(Qr,{value:"irc",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  IRC"}),ql.map(_=>c.jsxs(Qr,{value:_.name,className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:[_.icon,"  ",_.title]},_.name)),c.jsx(Y,{size:"1",color:"gray",className:"px-2 pt-3 uppercase tracking-wide",children:"Integrations"}),c.jsx(Qr,{value:"web",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  Web"}),pr?c.jsxs("div",{className:"mt-auto pt-3",children:[c.jsx(Zg,{size:"4"}),c.jsx("button",{type:"button",onClick:()=>void vT(),className:"mt-3 inline-flex w-full items-center justify-center rounded-lg border px-3 py-2 text-sm font-medium transition hover:brightness-110 active:brightness-95",style:e==="dark"?{borderColor:"var(--mc-border-soft)",background:"var(--mc-bg-panel)",color:"var(--mc-text)"}:void 0,children:"Log out"})]}):null]})}),c.jsxs("div",{className:"min-w-0 overflow-y-auto pr-1",children:[c.jsx(Jr,{value:"general",children:c.jsxs("div",{className:Br,style:yr,children:[c.jsx(Y,{size:"3",weight:"bold",children:"General"}),c.jsx(Y,{size:"1",color:"gray",className:"mt-1 block",children:"Runtime defaults used across all channels."}),c.jsx(Y,{size:"1",color:"gray",className:"mt-2 block",children:"working_dir_isolation: chat = isolated workspace per chat; shared = one shared workspace."}),c.jsx(Y,{size:"1",color:"gray",className:"mt-1 block",children:"max_tokens / max_tool_iterations / max_document_size_mb / memory_token_budget control response budget and tool loop safety."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(ee,{label:"bot_username",description:c.jsxs(c.Fragment,{children:["Global default bot username. Channel-specific ",c.jsx("code",{children:"channels.<name>.bot_username"})," overrides this."]}),children:c.jsx(te,{className:"mt-2",value:String(E.bot_username||""),onChange:_=>ne("bot_username",_.target.value),placeholder:"bot"})}),c.jsx(ee,{label:"working_dir_isolation",description:c.jsxs(c.Fragment,{children:["Use ",c.jsx("code",{children:"chat"})," for per-chat isolation, or ",c.jsx("code",{children:"shared"})," for one shared workspace."]}),children:c.jsxs("select",{className:"mt-2 w-full rounded-md border border-[color:var(--mc-border-soft)] bg-transparent px-3 py-2 text-base text-[color:inherit] outline-none focus:border-[color:var(--mc-accent)]",value:wf(E.working_dir_isolation||st.working_dir_isolation),onChange:_=>ne("working_dir_isolation",_.target.value),children:[c.jsx("option",{value:"chat",children:"chat (per-chat isolated workspace)"}),c.jsx("option",{value:"shared",children:"shared (single shared workspace)"})]})}),c.jsx(ee,{label:"max_tokens",description:c.jsx(c.Fragment,{children:"Maximum output tokens for one model response."}),children:c.jsx(te,{className:"mt-2",value:String(E.max_tokens||st.max_tokens),onChange:_=>ne("max_tokens",_.target.value),placeholder:"8192"})}),c.jsx(ee,{label:"max_tool_iterations",description:c.jsx(c.Fragment,{children:"Upper bound for tool loop iterations in one request."}),children:c.jsx(te,{className:"mt-2",value:String(E.max_tool_iterations||st.max_tool_iterations),onChange:_=>ne("max_tool_iterations",_.target.value),placeholder:"100"})}),c.jsx(ee,{label:"max_document_size_mb",description:c.jsx(c.Fragment,{children:"Maximum uploaded file size in MB."}),children:c.jsx(te,{className:"mt-2",value:String(E.max_document_size_mb||st.max_document_size_mb),onChange:_=>ne("max_document_size_mb",_.target.value),placeholder:"100"})}),c.jsx(ee,{label:"memory_token_budget",description:c.jsx(c.Fragment,{children:"Estimated token budget for injecting structured memories into the system prompt."}),children:c.jsx(te,{className:"mt-2",type:"number",value:String(E.memory_token_budget||st.memory_token_budget),onChange:_=>ne("memory_token_budget",_.target.value),placeholder:"1500"})})]}),c.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[c.jsx(Yl,{label:"high_risk_tool_user_confirmation_required",description:c.jsxs(c.Fragment,{children:["Require explicit user confirmation before executing high-risk tools (for example ",c.jsx("code",{children:"bash"}),")."]}),checked:E.high_risk_tool_user_confirmation_required!==!1,onCheckedChange:_=>ne("high_risk_tool_user_confirmation_required",_),className:fl,style:hl}),c.jsx(Yl,{label:"show_thinking",description:c.jsx(c.Fragment,{children:"Show intermediate reasoning text in responses."}),checked:!!E.show_thinking,onCheckedChange:_=>ne("show_thinking",_),className:fl,style:hl}),c.jsx(Yl,{label:"web_enabled",description:c.jsx(c.Fragment,{children:"Enable built-in Web UI and API endpoint."}),checked:!!E.web_enabled,onCheckedChange:_=>ne("web_enabled",_),className:fl,style:hl}),c.jsx(Yl,{label:"reflector_enabled",description:c.jsx(c.Fragment,{children:"Periodically extract structured memories from conversations in the background."}),checked:E.reflector_enabled!==!1,onCheckedChange:_=>ne("reflector_enabled",_),className:fl,style:hl})]}),c.jsx("div",{className:"mt-4 space-y-3",children:c.jsx(ee,{label:"reflector_interval_mins",description:c.jsx(c.Fragment,{children:"How often (in minutes) the memory reflector runs. Requires restart."}),children:c.jsx(te,{className:"mt-2",type:"number",value:String(E.reflector_interval_mins??st.reflector_interval_mins),onChange:_=>ne("reflector_interval_mins",_.target.value),placeholder:"15"})})})]})}),c.jsxs(Jr,{value:"model",children:[c.jsxs("div",{className:Br,style:yr,children:[c.jsx(Y,{size:"3",weight:"bold",children:"Model"}),c.jsx(Y,{size:"1",color:"gray",className:"mt-1 block",children:"LLM provider and API settings."}),c.jsx(Y,{size:"1",color:"gray",className:"mt-2 block",children:"llm_provider selects routing preset; model is the exact model id sent to provider API."}),c.jsxs(Y,{size:"1",color:"gray",className:"mt-1 block",children:["For custom providers set ",c.jsx("code",{children:"llm_base_url"}),". For ",c.jsx("code",{children:"openai-codex"}),", configure auth/provider in ",c.jsx("code",{children:"~/.codex/auth.json"})," and ",c.jsx("code",{children:"~/.codex/config.toml"})," (this form ignores ",c.jsx("code",{children:"api_key"}),"/",c.jsx("code",{children:"llm_base_url"}),"). ",c.jsx("code",{children:"ollama"})," can leave ",c.jsx("code",{children:"api_key"})," empty."]}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(ee,{label:"llm_provider",description:c.jsx(c.Fragment,{children:"Select provider preset for request routing and defaults."}),children:c.jsx("div",{className:"mt-2",children:c.jsxs(rT,{value:String(E.llm_provider||st.llm_provider),onValueChange:_=>ne("llm_provider",_),children:[c.jsx(sT,{className:"w-full mc-select-trigger-full",placeholder:"Select provider"}),c.jsx(oT,{children:NT.map(_=>c.jsx(iT,{value:_,children:_},_))})]})})}),c.jsxs(ee,{label:"model",description:c.jsx(c.Fragment,{children:"Exact model id to use for requests."}),children:[c.jsx(te,{className:"mt-2",value:String(E.model||Pw(String(E.llm_provider||st.llm_provider))),onChange:_=>ne("model",_.target.value),placeholder:"claude-sonnet-4-5-20250929"}),my.length>0?c.jsxs(Y,{size:"1",color:"gray",className:"mt-2 block",children:["Suggested: ",my.join(" / ")]}):null]}),Ii==="custom"?c.jsx(ee,{label:"llm_base_url",description:c.jsx(c.Fragment,{children:"Base URL for OpenAI-compatible custom provider endpoint."}),children:c.jsx(te,{className:"mt-2",value:String(E.llm_base_url||""),onChange:_=>ne("llm_base_url",_.target.value),placeholder:"https://api.example.com/v1"})}):null,c.jsx(ee,{label:"api_key",description:Ii==="openai-codex"?c.jsxs(c.Fragment,{children:["For ",c.jsx("code",{children:"openai-codex"}),", this field is ignored. Configure ",c.jsx("code",{children:"~/.codex/auth.json"})," instead."]}):c.jsx(c.Fragment,{children:"Provider API key. Leave blank to keep current secret unchanged."}),children:c.jsx(te,{className:"mt-2",value:String(E.api_key||""),onChange:_=>ne("api_key",_.target.value),placeholder:Ii==="openai-codex"?"(ignored for openai-codex)":"sk-..."})})]})]}),c.jsxs("div",{className:`${Br} mt-4`,style:yr,children:[c.jsx(Y,{size:"3",weight:"bold",children:"Embedding"}),c.jsx(Y,{size:"1",color:"gray",className:"mt-1 block",children:"Optional embedding runtime settings for semantic memory (requires sqlite-vec build)."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(ee,{label:"embedding_provider",description:c.jsxs(c.Fragment,{children:["Optional runtime embedding provider: ",c.jsx("code",{children:"openai"})," or ",c.jsx("code",{children:"ollama"}),"."]}),children:c.jsx(te,{className:"mt-2",value:String(E.embedding_provider||""),onChange:_=>ne("embedding_provider",_.target.value),placeholder:"openai"})}),c.jsx(ee,{label:"embedding_api_key",description:c.jsx(c.Fragment,{children:"Optional embedding API key. Leave blank to keep unchanged."}),children:c.jsx(te,{className:"mt-2",value:String(E.embedding_api_key||""),onChange:_=>ne("embedding_api_key",_.target.value),placeholder:"sk-..."})}),c.jsx(ee,{label:"embedding_base_url",description:c.jsx(c.Fragment,{children:"Optional embedding base URL override."}),children:c.jsx(te,{className:"mt-2",value:String(E.embedding_base_url||""),onChange:_=>ne("embedding_base_url",_.target.value),placeholder:"https://api.openai.com/v1"})}),c.jsx(ee,{label:"embedding_model",description:c.jsx(c.Fragment,{children:"Optional embedding model id."}),children:c.jsx(te,{className:"mt-2",value:String(E.embedding_model||""),onChange:_=>ne("embedding_model",_.target.value),placeholder:"text-embedding-3-small"})}),c.jsx(ee,{label:"embedding_dim",description:c.jsx(c.Fragment,{children:"Optional embedding vector dimension."}),children:c.jsx(te,{className:"mt-2",type:"number",value:String(E.embedding_dim||""),onChange:_=>ne("embedding_dim",_.target.value),placeholder:"1536"})})]})]})]}),c.jsx(Jr,{value:"telegram",children:c.jsxs("div",{className:Br,style:yr,children:[c.jsx(Y,{size:"3",weight:"bold",children:"Telegram"}),c.jsx(qi,{steps:[c.jsxs(c.Fragment,{children:["Open Telegram and chat with ",c.jsx("code",{children:"@BotFather"}),"."]}),c.jsxs(c.Fragment,{children:["Run ",c.jsx("code",{children:"/newbot"}),", set name and username (must end with ",c.jsx("code",{children:"bot"}),")."]}),c.jsx(c.Fragment,{children:"Copy the bot token and paste below."}),c.jsx(c.Fragment,{children:"Configure one or more bot accounts; each account can set its own username."}),c.jsx(c.Fragment,{children:"In groups, mention the bot to trigger replies."})]}),c.jsx(Y,{size:"1",color:"gray",className:"mt-3 block",children:"Configure one or more bots (up to 10). Leave token blank to keep existing secret unchanged."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(ee,{label:"telegram_default_account",description:c.jsxs(c.Fragment,{children:["Default account id under ",c.jsx("code",{children:"channels.telegram.accounts"}),"."]}),children:c.jsx(te,{className:"mt-2",value:String(E.telegram_account_id||"main"),onChange:_=>ne("telegram_account_id",_.target.value),placeholder:"main"})}),c.jsx(ee,{label:"telegram_bot_count",description:c.jsx(c.Fragment,{children:"Number of Telegram bot accounts to configure (1-10)."}),children:c.jsx(te,{className:"mt-2",type:"number",min:"1",max:String(ns),value:String(E.telegram_bot_count||1),onChange:_=>ne("telegram_bot_count",un(_.target.value))})}),c.jsx(ee,{label:"telegram_model",description:c.jsx(c.Fragment,{children:"Optional Telegram channel-level model override."}),children:c.jsx(te,{className:"mt-2",value:String(E.telegram_model||""),onChange:_=>ne("telegram_model",_.target.value),placeholder:"claude-sonnet-4-5-20250929"})}),c.jsx(ee,{label:"telegram_allowed_user_ids",description:c.jsxs(c.Fragment,{children:["Optional channel-level allowlist. Accepts CSV or JSON array (for example ",c.jsx("code",{children:"123,456"})," or ",c.jsx("code",{children:"[123,456]"}),"). Merged with each bot account's ",c.jsx("code",{children:"allowed_user_ids"}),"."]}),children:c.jsx(te,{className:"mt-2",value:String(E.telegram_allowed_user_ids||""),onChange:_=>ne("telegram_allowed_user_ids",_.target.value),placeholder:"123456789,987654321"})}),Array.from({length:un(E.telegram_bot_count||1)}).map((_,H)=>{const D=H+1;return c.jsxs(Ct,{className:"p-3",children:[c.jsxs(Y,{size:"2",weight:"medium",children:["Telegram bot #",D]}),c.jsxs("div",{className:"mt-2 space-y-3",children:[c.jsx(ee,{label:`telegram_bot_${D}_account_id`,description:c.jsxs(c.Fragment,{children:["Bot account id used under ",c.jsx("code",{children:"channels.telegram.accounts"}),"."]}),children:c.jsx(te,{className:"mt-2",value:String(E[`telegram_bot_${D}_account_id`]||Gl(D)),onChange:V=>ne(`telegram_bot_${D}_account_id`,V.target.value),placeholder:Gl(D)})}),c.jsx(ee,{label:`telegram_bot_${D}_token`,description:c.jsx(c.Fragment,{children:"BotFather token for this account. Leave blank to keep current secret unchanged."}),children:c.jsx(te,{className:"mt-2",value:String(E[`telegram_bot_${D}_token`]||""),onChange:V=>ne(`telegram_bot_${D}_token`,V.target.value),placeholder:"123456789:AA..."})}),c.jsx(ee,{label:`telegram_bot_${D}_username`,description:c.jsxs(c.Fragment,{children:["Telegram username without ",c.jsx("code",{children:"@"}),", used for group mention trigger."]}),children:c.jsx(te,{className:"mt-2",value:String(E[`telegram_bot_${D}_username`]||""),onChange:V=>ne(`telegram_bot_${D}_username`,V.target.value),placeholder:D===1?"my_main_bot":`my_bot_${D}`})}),c.jsx(ee,{label:`telegram_bot_${D}_allowed_user_ids`,description:c.jsx(c.Fragment,{children:"Optional per-bot private-chat allowlist (CSV or JSON array)."}),children:c.jsx(te,{className:"mt-2",value:String(E[`telegram_bot_${D}_allowed_user_ids`]||""),onChange:V=>ne(`telegram_bot_${D}_allowed_user_ids`,V.target.value),placeholder:"123456789,987654321"})})]})]},`telegram-bot-${D}`)})]})]})}),c.jsx(Jr,{value:"discord",children:c.jsxs("div",{className:Br,style:yr,children:[c.jsx(Y,{size:"3",weight:"bold",children:"Discord"}),c.jsx(qi,{steps:[c.jsx(c.Fragment,{children:"Open Discord Developer Portal and create an application + bot."}),c.jsxs(c.Fragment,{children:["Enable ",c.jsx("code",{children:"Message Content Intent"})," under Bot settings."]}),c.jsx(c.Fragment,{children:"Invite bot with scopes/permissions: bot, View Channels, Send Messages, Read Message History."}),c.jsx(c.Fragment,{children:"Paste bot token below."}),c.jsx(c.Fragment,{children:"Optional: limit handling to specific channel IDs."})]}),c.jsx(Y,{size:"1",color:"gray",className:"mt-3 block",children:"Configure one or more Discord bot accounts (up to 10)."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(ee,{label:"discord_default_account",description:c.jsxs(c.Fragment,{children:["Default account id under ",c.jsx("code",{children:"channels.discord.accounts"}),"."]}),children:c.jsx(te,{className:"mt-2",value:String(E.discord_account_id||"main"),onChange:_=>ne("discord_account_id",_.target.value),placeholder:"main"})}),c.jsx(ee,{label:"discord_bot_count",description:c.jsx(c.Fragment,{children:"Number of Discord bot accounts to configure (1-10)."}),children:c.jsx(te,{className:"mt-2",type:"number",min:"1",max:String(ns),value:String(E.discord_bot_count||1),onChange:_=>ne("discord_bot_count",un(_.target.value))})}),Array.from({length:un(E.discord_bot_count||1)}).map((_,H)=>{const D=H+1;return c.jsxs(Ct,{className:"p-3",children:[c.jsxs(Y,{size:"2",weight:"medium",children:["Discord bot #",D]}),c.jsxs("div",{className:"mt-2 space-y-3",children:[c.jsx(ee,{label:`discord_bot_${D}_account_id`,description:c.jsxs(c.Fragment,{children:["Bot account id used under ",c.jsx("code",{children:"channels.discord.accounts"}),"."]}),children:c.jsx(te,{className:"mt-2",value:String(E[`discord_bot_${D}_account_id`]||Gr(D)),onChange:V=>ne(`discord_bot_${D}_account_id`,V.target.value),placeholder:Gr(D)})}),c.jsx(ee,{label:`discord_bot_${D}_token`,description:c.jsx(c.Fragment,{children:"Discord bot token for this account. Leave blank to keep current secret unchanged."}),children:c.jsx(te,{className:"mt-2",value:String(E[`discord_bot_${D}_token`]||""),onChange:V=>ne(`discord_bot_${D}_token`,V.target.value),placeholder:"MTAx..."})}),c.jsx(ee,{label:`discord_bot_${D}_allowed_channels`,description:c.jsx(c.Fragment,{children:"Optional allowlist. Only listed channel IDs can trigger this bot."}),children:c.jsx(te,{className:"mt-2",value:String(E[`discord_bot_${D}_allowed_channels_csv`]||""),onChange:V=>ne(`discord_bot_${D}_allowed_channels_csv`,V.target.value),placeholder:"1234567890,9876543210"})}),c.jsx(ee,{label:`discord_bot_${D}_username`,description:c.jsx(c.Fragment,{children:"Optional Discord bot username override."}),children:c.jsx(te,{className:"mt-2",value:String(E[`discord_bot_${D}_username`]||""),onChange:V=>ne(`discord_bot_${D}_username`,V.target.value),placeholder:D===1?"discord_main_bot":`discord_bot_${D}`})}),c.jsx(ee,{label:`discord_bot_${D}_model`,description:c.jsx(c.Fragment,{children:"Optional model override for this bot account."}),children:c.jsx(te,{className:"mt-2",value:String(E[`discord_bot_${D}_model`]||""),onChange:V=>ne(`discord_bot_${D}_model`,V.target.value),placeholder:"claude-sonnet-4-5-20250929"})})]})]},`discord-bot-${D}`)})]})]})}),c.jsx(Jr,{value:"irc",children:c.jsxs("div",{className:Br,style:yr,children:[c.jsx(Y,{size:"3",weight:"bold",children:"IRC"}),c.jsx(qi,{steps:[c.jsx(c.Fragment,{children:"Set IRC server and nick."}),c.jsxs(c.Fragment,{children:["Set channels as comma-separated list, for example ",c.jsx("code",{children:"#general,#bot"}),"."]}),c.jsx(c.Fragment,{children:"Use TLS fields when connecting to secure endpoints."})]}),c.jsx(Y,{size:"1",color:"gray",className:"mt-3 block",children:"Required for IRC runtime: server and nick."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(ee,{label:"irc_server",description:c.jsx(c.Fragment,{children:"IRC server hostname."}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_server||""),onChange:_=>ne("irc_server",_.target.value),placeholder:"irc.libera.chat"})}),c.jsx(ee,{label:"irc_port",description:c.jsx(c.Fragment,{children:"IRC server port. Typical values: 6667 or 6697 (TLS)."}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_port||""),onChange:_=>ne("irc_port",_.target.value),placeholder:"6667"})}),c.jsx(ee,{label:"irc_nick",description:c.jsx(c.Fragment,{children:"Bot nickname."}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_nick||""),onChange:_=>ne("irc_nick",_.target.value),placeholder:"microclaw"})}),c.jsx(ee,{label:"irc_username",description:c.jsx(c.Fragment,{children:"Optional IRC username. Defaults to nick when empty."}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_username||""),onChange:_=>ne("irc_username",_.target.value),placeholder:"microclaw"})}),c.jsx(ee,{label:"irc_real_name",description:c.jsx(c.Fragment,{children:"Optional IRC real name/gecos field."}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_real_name||""),onChange:_=>ne("irc_real_name",_.target.value),placeholder:"MicroClaw"})}),c.jsx(ee,{label:"irc_channels",description:c.jsx(c.Fragment,{children:"Comma-separated target channels."}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_channels||""),onChange:_=>ne("irc_channels",_.target.value),placeholder:"#general,#support"})}),c.jsx(ee,{label:"irc_password",description:c.jsx(c.Fragment,{children:"Optional IRC server password. Leave blank to keep current secret unchanged."}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_password||""),onChange:_=>ne("irc_password",_.target.value),placeholder:"password"})}),c.jsx(ee,{label:"irc_mention_required",description:c.jsxs(c.Fragment,{children:["In channels, require bot mention before responding (",c.jsx("code",{children:"true"}),"/",c.jsx("code",{children:"false"}),")."]}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_mention_required||""),onChange:_=>ne("irc_mention_required",_.target.value),placeholder:"true"})}),c.jsx(ee,{label:"irc_tls",description:c.jsxs(c.Fragment,{children:["Enable TLS (",c.jsx("code",{children:"true"}),"/",c.jsx("code",{children:"false"}),")."]}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_tls||""),onChange:_=>ne("irc_tls",_.target.value),placeholder:"false"})}),c.jsx(ee,{label:"irc_tls_server_name",description:c.jsx(c.Fragment,{children:"Optional TLS SNI server name. Defaults to server."}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_tls_server_name||""),onChange:_=>ne("irc_tls_server_name",_.target.value),placeholder:"irc.libera.chat"})}),c.jsx(ee,{label:"irc_tls_danger_accept_invalid_certs",description:c.jsxs(c.Fragment,{children:["Allow invalid TLS certs (",c.jsx("code",{children:"true"}),"/",c.jsx("code",{children:"false"}),"). Only for testing."]}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_tls_danger_accept_invalid_certs||""),onChange:_=>ne("irc_tls_danger_accept_invalid_certs",_.target.value),placeholder:"false"})}),c.jsx(ee,{label:"irc_model",description:c.jsx(c.Fragment,{children:"Optional IRC model override."}),children:c.jsx(te,{className:"mt-2",value:String(E.irc_model||""),onChange:_=>ne("irc_model",_.target.value),placeholder:"claude-sonnet-4-5-20250929"})})]})]})}),ql.map(_=>c.jsx(Jr,{value:_.name,children:c.jsxs("div",{className:Br,style:yr,children:[c.jsx(Y,{size:"3",weight:"bold",children:_.title}),c.jsx(qi,{steps:_.steps.map((H,D)=>c.jsx("span",{children:H},D))}),c.jsx(Y,{size:"1",color:"gray",className:"mt-3 block",children:_.hint}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(ee,{label:`${_.name}_default_account`,description:c.jsxs(c.Fragment,{children:["Default account id under ",c.jsxs("code",{children:["channels.",_.name,".accounts"]}),"."]}),children:c.jsx(te,{className:"mt-2",value:String(E[`${_.name}__account_id`]||"main"),onChange:H=>ne(`${_.name}__account_id`,H.target.value),placeholder:"main"})},`${_.name}__account_id`),c.jsx(ee,{label:`${_.name}_bot_count`,description:c.jsxs(c.Fragment,{children:["Number of bot accounts to configure for ",c.jsx("code",{children:_.name})," (1-10)."]}),children:c.jsx(te,{className:"mt-2",type:"number",min:"1",max:String(ns),value:String(E[`${_.name}__bot_count`]||1),onChange:H=>ne(`${_.name}__bot_count`,un(H.target.value))})},`${_.name}__bot_count`),Array.from({length:un(E[`${_.name}__bot_count`]||1)}).map((H,D)=>{const V=D+1;return c.jsxs(Ct,{className:"p-3",children:[c.jsxs(Y,{size:"2",weight:"medium",children:[_.title," bot #",V]}),c.jsxs("div",{className:"mt-2 space-y-3",children:[c.jsx(ee,{label:`${_.name}_bot_${V}_account_id`,description:c.jsxs(c.Fragment,{children:["Bot account id used under ",c.jsxs("code",{children:["channels.",_.name,".accounts"]}),"."]}),children:c.jsx(te,{className:"mt-2",value:String(E[`${_.name}__bot_${V}__account_id`]||Gr(V)),onChange:ae=>ne(`${_.name}__bot_${V}__account_id`,ae.target.value),placeholder:Gr(V)})},`${_.name}__bot_${V}__account_id`),_.fields.map(ae=>{const he=`${_.name}__bot_${V}__${ae.yamlKey}`;return c.jsx(ee,{label:`${_.name}_bot_${V}_${ae.yamlKey}`,description:c.jsx(c.Fragment,{children:ae.description}),children:c.jsx(te,{className:"mt-2",value:String(E[he]||""),onChange:qe=>ne(he,qe.target.value),placeholder:ae.placeholder})},he)})]})]},`${_.name}-bot-${V}`)})]})]})},_.name)),c.jsx(Jr,{value:"web",children:c.jsxs("div",{className:Br,style:yr,children:[c.jsx(Y,{size:"3",weight:"bold",children:"Web"}),c.jsx(qi,{steps:[c.jsxs(c.Fragment,{children:["Keep ",c.jsx("code",{children:"web_enabled"})," on for local UI access."]}),c.jsxs(c.Fragment,{children:["Use ",c.jsx("code",{children:"127.0.0.1"})," for local-only host, or set LAN host explicitly."]}),c.jsxs(c.Fragment,{children:["Choose web port (default ",c.jsx("code",{children:"10961"}),")."]})]}),c.jsx(Y,{size:"1",color:"gray",className:"mt-3 block",children:"For local only, keep host as 127.0.0.1. Use 0.0.0.0 only behind trusted network controls."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsx(ee,{label:"web_host",description:c.jsxs(c.Fragment,{children:["Use ",c.jsx("code",{children:"127.0.0.1"})," for local-only. Use ",c.jsx("code",{children:"0.0.0.0"})," only when intentionally exposing on LAN."]}),children:c.jsx(te,{className:"mt-2",value:String(E.web_host||st.web_host),onChange:_=>ne("web_host",_.target.value),placeholder:"127.0.0.1"})}),c.jsx(ee,{label:"web_port",description:c.jsx(c.Fragment,{children:"HTTP port for Web UI and API endpoint."}),children:c.jsx(te,{className:"mt-2",value:String(E.web_port||st.web_port),onChange:_=>ne("web_port",_.target.value),placeholder:"10961"})}),c.jsx(ee,{label:"web_bot_username",description:c.jsx(c.Fragment,{children:"Optional Web-specific bot username override."}),children:c.jsx(te,{className:"mt-2",value:String(E.web_bot_username||""),onChange:_=>ne("web_bot_username",_.target.value),placeholder:"web_bot_name"})})]}),Array.isArray(U==null?void 0:U.warnings)&&U.warnings.length>0?c.jsxs("details",{className:"mt-4",children:[c.jsxs("summary",{className:"cursor-pointer text-sm text-[color:var(--gray-11)]",children:["Critical config warnings (",U.warnings.length,")"]}),c.jsxs(Ct,{className:"mt-2 p-3",children:[c.jsx(Y,{size:"2",weight:"bold",children:"Critical Config Warnings"}),c.jsx("div",{className:"mt-2 space-y-2",children:U.warnings.map((_,H)=>c.jsx(dn,{color:_.severity==="high"?"red":"orange",size:"1",variant:"soft",children:c.jsxs(fn,{children:["[",String(_.severity||"unknown"),"] ",String(_.code||"warning"),": ",String(_.message||"")," ",c.jsx("a",{href:t8(_.code),target:"_blank",rel:"noreferrer",className:"underline",children:"Docs"})]})},`${_.code||"warning"}-${H}`))})]})]}):null]})})]})]})}):c.jsx(Y,{size:"2",color:"gray",children:"Loading..."})}),c.jsxs("div",{className:"mt-3 flex items-center justify-between border-t border-[color:var(--mc-border-soft)] pt-3",children:[S?c.jsx(Y,{size:"2",color:S.startsWith("Save failed")?"red":"green",children:S}):c.jsx("span",{}),c.jsxs(Ln,{justify:"end",gap:"2",children:[c.jsx(nT,{children:c.jsx(hn,{variant:"soft",children:"Close"})}),c.jsx(hn,{onClick:()=>void ET(),children:"Save"})]})]})]})}),c.jsx(Z6,{open:me,onOpenChange:T,usageSession:_n,sessionKey:l,usageLoading:Pe,usageError:Lt,usageReport:be,usageMemory:ge,reflectorRuns:_e,injectionLogs:Te,onRefreshCurrent:()=>void fd(l),onRefreshThis:()=>void fd(_n||l)})]})})}Y_(document.getElementById("root")).render(c.jsx(N8,{}));
